/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => CFE
});
module.exports = __toCommonJS(main_exports);

// classes/custom-explorer-view.ts
var import_obsidian4 = require("obsidian");

// classes/source-folder.ts
var import_obsidian3 = require("obsidian");

// classes/cfe-file.ts
var import_obsidian = require("obsidian");
var _CFEFile = class {
  /**
   * SHOULD NOT BE CALLED OUTSIDE OF CFEFileHandler.
   * 
   * Use CFEFileHandler.CreateNew() instead.
   * 
   * CHILD CLASSES SHOULD NOT WRITE TO A FILE. THIS IS DONE INSIDE OF CFEFileHandler
   * 
   * CFEFile layer:
   * 
   * sets the source, id, file type, file name, and parent folder id of the file object.
   */
  static async CreateNewFileForLayer(snv, fileType, parentFolderID, name) {
    const sourceFolder = snv.sourceFolder;
    const unfinishedFile = new _CFEFile();
    unfinishedFile.id = sourceFolder.fileCount;
    unfinishedFile.fileType = fileType;
    unfinishedFile.fileName = name;
    unfinishedFile.parentFolderID = parentFolderID;
    sourceFolder.fileCount++;
    await SourceFolder.Save(snv);
    if (unfinishedFile.id !== unfinishedFile.parentFolderID) {
      const parentFolder = await CFEFileHandler.LoadFile(snv, unfinishedFile.parentFolderID);
      parentFolder.containedFileIDs.push(unfinishedFile.id);
      await parentFolder.Save(snv);
    }
    return unfinishedFile;
  }
  /**
   * SHOULD NOT BE CALLED OUTSIDE OF CFEFileHandler.
   * 
   * Use CFEFileHandler.DisplayThumbnail() instead.
   * 
   * CFEFile layer:
   * 
   * sets the thumbnail container's css class to 'cfe-thumbnail'
   * and fully displays the file if the thumbnail is clicked.
   */
  async DisplayThumbnail(sourceAndVault, thumbnailDiv, displayDiv) {
    thumbnailDiv.className = "cfe-thumbnail vbox";
    thumbnailDiv.onclick = async () => {
      await this.Display(sourceAndVault, displayDiv);
    };
    const idText = thumbnailDiv.createDiv("hbox");
    idText.textContent = "ID: " + this.id;
    idText.style.justifyContent = "center";
    const fileText = thumbnailDiv.createDiv("hbox");
    fileText.textContent = "File Type: " + this.fileType;
    fileText.style.justifyContent = "center";
    const nameText = thumbnailDiv.createDiv("hbox");
    nameText.textContent = "File Name: " + this.fileName;
    nameText.style.justifyContent = "center";
  }
  /**
   * SHOULD NOT BE CALLED OUTSIDE OF CFEFileHandler.
   * 
   * Use CFEFileHandler.Display() instead.
   * 
   * CFEFile layer:
   * 
   * empties the display container provided.
   */
  async Display(snv, container) {
    container.empty();
    const headerContainer = container.createDiv("hbox");
    const backButton = headerContainer.createEl("button", { text: "Back to parent folder" });
    headerContainer.createEl("p", { text: "File ID: " + this.id });
    headerContainer.createEl("p", { text: "File Name: " });
    const nameInput = headerContainer.createEl("input", { type: "text", value: this.fileName });
    backButton.onclick = async () => {
      const parentFolder = await CFEFileHandler.LoadFile(snv, this.parentFolderID);
      if (parentFolder !== null) {
        await parentFolder.Display(snv, container);
      }
    };
    nameInput.onchange = async () => {
      this.fileName = nameInput.value;
      await this.Save(snv);
    };
  }
  /**
   * SHOULD NOT BE CALLED OUTSIDE OF CFEFileHandler.
   * 
   * (it is unlikely this method will ever be overriden by child classes, but making this 'inaccessible' is for consistency)
   * 
   * Use CFEFileHandler.SaveFile() instead.
   * 
   * Formatted File layer:
   * 
   * Deletes this file ID from the original parent folder, adds this file to the new parent folder, and changes the parent folder ID
   */
  async MoveFile(sourceAndVault, newParentFolderID) {
    const oldParentFolder = await CFEFileHandler.LoadFile(sourceAndVault, this.parentFolderID);
    const indexOfFile = oldParentFolder.containedFileIDs.indexOf(this.id);
    oldParentFolder.containedFileIDs.splice(indexOfFile, 1);
    oldParentFolder.Save(sourceAndVault);
    const newParentFolder = await CFEFileHandler.LoadFile(sourceAndVault, newParentFolderID);
    newParentFolder.containedFileIDs.push(this.id);
    newParentFolder.Save(sourceAndVault);
    this.parentFolderID = newParentFolderID;
    this.Save(sourceAndVault);
  }
  async Save(sourceAndVault) {
    const sourceFolder = sourceAndVault.sourceFolder;
    const vault = sourceAndVault.vault;
    const filePath = sourceFolder.vaultPath + "/" + this.id + ".json";
    const jsonData = JSON.stringify(this);
    const tFile = vault.getFileByPath(filePath);
    if (tFile === null) {
      const normalizedPath = (0, import_obsidian.normalizePath)(filePath);
      await vault.adapter.write(normalizedPath, jsonData);
      return;
    }
    await vault.modify(tFile, jsonData);
  }
  LoadAllInnerObjects() {
    return this;
  }
};
var CFEFile = _CFEFile;
CFEFile.FILE_NAME_INPUT_INDEX = 0;
CFEFile.PARENT_FOLDER_ID_INPUT_INDEX = 1;

// classes/single-media-file.ts
var import_obsidian2 = require("obsidian");

// classes/real-file.ts
var RealFile = class extends CFEFile {
  async DisplayMediaOnly(mediaDiv, snv) {
    mediaDiv.empty();
  }
};

// classes/single-media-file.ts
var SingleMediaFile = class extends RealFile {
  get mediaType() {
    switch (this.extensionName) {
      case "png":
      case "jpg":
      case "webp":
      case "heic":
      case "gif":
        return "Image";
      case "mp4":
      case "MP4":
      case "mov":
      case "MOV":
      default:
        return "Video";
    }
  }
  async getSrc(snv) {
    const mediaFile = await this.getTFile(snv);
    const arrayBuffer = await snv.vault.readBinary(mediaFile);
    const blob = new Blob([arrayBuffer]);
    const mediaUrl = URL.createObjectURL(blob);
    return mediaUrl;
  }
  async getTFile(snv) {
    const mediaPath = await this.getPath(snv);
    let mediaFile = snv.vault.getFileByPath(mediaPath);
    if (mediaFile === null) {
      mediaFile = snv.vault.getFileByPath(mediaPath + "." + this.extensionName);
      if (mediaFile === null) {
        throw Error("File not found at path: " + mediaPath + " or " + mediaPath + "." + this.extensionName);
      }
      snv.vault.rename(mediaFile, mediaPath);
    }
    return mediaFile;
  }
  async getPath(snv) {
    const sourceFolder = snv.sourceFolder;
    return sourceFolder.vaultPath + "/" + this.id + " Actual File";
  }
  static async CreateNewFileForLayer(snv, fileType, parentFolderID, name) {
    const newMediaFile = await super.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
    newMediaFile.extensionName = "";
    return newMediaFile;
  }
  async Display(snv, container) {
    await super.Display(snv, container);
    const imageDisplayContainer = container.createDiv("vbox");
    imageDisplayContainer.createEl("p", { text: "Change file" });
    const newFileInput = imageDisplayContainer.createEl("input", { type: "file" });
    await this.DisplayMediaOnly(imageDisplayContainer, snv);
    newFileInput.onchange = async () => {
      try {
        const oldFile = await this.getTFile(snv);
        try {
          await snv.vault.delete(oldFile);
        } finally {
          await this.SaveNewFile(snv, newFileInput);
          this.Display(snv, container);
        }
      } catch (e) {
        console.log();
      }
    };
  }
  async SaveNewFile(snv, fileInput) {
    const fileArray = fileInput.files;
    if (fileArray === null) {
      throw Error("no file was selected");
    }
    const mediaFile = fileArray[0];
    await this.SetFileTo(snv, mediaFile);
  }
  async SetFileTo(snv, mediaFile) {
    const partsOfPath = mediaFile.name.split(".");
    const extension = partsOfPath[partsOfPath.length - 1];
    this.fileName = partsOfPath[0];
    this.extensionName = extension;
    const path = snv.sourceFolder.vaultPath + "/" + this.id + " Actual File";
    const normalizedPath = (0, import_obsidian2.normalizePath)(path);
    await snv.vault.adapter.writeBinary(normalizedPath, await mediaFile.arrayBuffer());
    await this.Save(snv);
  }
  async DisplayMediaOnly(mediaDiv, snv) {
    await super.DisplayMediaOnly(mediaDiv, snv);
    if (this.mediaType === "Image") {
      const imageElement = mediaDiv.createEl("img");
      imageElement.src = await this.getSrc(snv);
      imageElement.style.objectFit = "contain";
    } else {
      const videoElement = mediaDiv.createEl("video");
      videoElement.src = await this.getSrc(snv);
      videoElement.controls = true;
      videoElement.loop = true;
      videoElement.autoplay = true;
      videoElement.style.objectFit = "contain";
    }
  }
};

// classes/folder.ts
var Folder = class extends CFEFile {
  /**
   * @override Folder layer:
   * 
   * initializes the contained file ids array for the folder object
   */
  static async CreateNewFileForLayer(snv, fileType, parentFolderID, name) {
    const unfinishedFolder = await super.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
    unfinishedFolder.containedFileIDs = [];
    return unfinishedFolder;
  }
  async Display(snv, mainDiv) {
    await super.Display(snv, mainDiv);
    const createButtonsDiv = mainDiv.createDiv("hbox");
    const newFileButton = createButtonsDiv.createEl("button", { text: "Create New File" });
    const popUpContainer = mainDiv.createDiv();
    newFileButton.onclick = () => {
      this.LoadCreateFileUI(snv, mainDiv, popUpContainer);
    };
    const mediaFilesButton = createButtonsDiv.createEl("button", { text: "Upload Multiple Images / Videos" });
    mediaFilesButton.onclick = () => {
      this.LoadFileSelectionUI(snv, mainDiv, popUpContainer);
    };
    const folderDisplayContainer = mainDiv.createDiv("cfe-grid");
    for (let i = 0; i < this.containedFileIDs.length; i++) {
      const containedFile = await CFEFileHandler.LoadFile(snv, this.containedFileIDs[i]);
      if (containedFile !== null) {
        await containedFile.DisplayThumbnail(snv, folderDisplayContainer.createDiv(), mainDiv);
      }
    }
  }
  LoadCreateFileUI(snv, mainDiv, div) {
    div.empty();
    const popupDiv = div.createDiv("cfe-popup");
    const wrapperDiv = popupDiv.createDiv();
    wrapperDiv.style.position = "relative";
    const exitButton = wrapperDiv.createEl("button", { text: "X", cls: "cfe-remove-button" });
    exitButton.style.position = "absolute";
    exitButton.style.top = "0%";
    exitButton.style.right = "0%";
    popupDiv.createEl("p", { text: "Choose a File Type to create:" });
    const fileTypeDropdown = popupDiv.createEl("select");
    popupDiv.createEl("p", { text: "File Name:" });
    const nameInput = popupDiv.createEl("input", { type: "text", value: "Unnamed" });
    popupDiv.createEl("p", { text: "Parent Folder ID:" });
    const parentFolderIDInput = popupDiv.createEl("input", { type: "text", value: "" + this.id });
    for (let i = 0; i < CFEFileHandler.KnownFileTypes.length; i++) {
      const option = fileTypeDropdown.createEl("option");
      option.value = CFEFileHandler.KnownFileTypes[i];
      option.text = CFEFileHandler.KnownFileTypes[i];
      fileTypeDropdown.options.add(option);
    }
    const submitButton = popupDiv.createEl("button", { text: "Create" });
    const onExit = () => {
      popupDiv.remove();
    };
    const onSubmit = async () => {
      await CFEFileHandler.CreateNew(snv, fileTypeDropdown.value, parseInt(parentFolderIDInput.value), nameInput.value);
      exitButton.click();
      const resettedFolder = await CFEFileHandler.LoadFile(snv, this.id);
      await resettedFolder.Display(snv, mainDiv);
    };
    exitButton.onclick = onExit;
    submitButton.onclick = onSubmit;
    popupDiv.onkeydown = async (event) => {
      if (event.key === "Escape") {
        onExit();
      } else if (event.key === "Enter") {
        await onSubmit();
      }
    };
  }
  LoadFileSelectionUI(snv, mainDiv, div) {
    div.empty();
    const popupDiv = div.createDiv("cfe-popup");
    const wrapperDiv = popupDiv.createDiv();
    wrapperDiv.style.position = "relative";
    popupDiv.createEl("p", { text: "Choose your files" });
    const fileInput = popupDiv.createEl("input", { type: "file" });
    fileInput.multiple = true;
    popupDiv.createEl("p", { text: "Parent Folder ID: " });
    const parentFolderIDInput = popupDiv.createEl("input", { type: "text", value: "" + this.id });
    const exitButton = wrapperDiv.createEl("button", { text: "X", cls: "cfe-remove-button" });
    exitButton.style.position = "absolute";
    exitButton.style.top = "0%";
    exitButton.style.right = "0%";
    const submitButton = popupDiv.createEl("button", { text: "Create" });
    const onExit = () => {
      popupDiv.remove();
    };
    const onSubmit = async () => {
      const fileArray = fileInput.files;
      const parentFolderID = parseInt(parentFolderIDInput.value);
      if (fileArray !== null) {
        for (let i = 0; i < fileArray.length; i++) {
          const cfeFile = await CFEFileHandler.CreateNew(snv, "Single Media File", parentFolderID, fileArray[i].name);
          const mediaFile = Object.assign(new SingleMediaFile(), cfeFile);
          await mediaFile.SetFileTo(snv, fileArray[i]);
          await mediaFile.Save(snv);
        }
        exitButton.click();
        const resettedFolder = await CFEFileHandler.LoadFile(snv, this.id);
        await resettedFolder.Display(snv, mainDiv);
      }
    };
    exitButton.onclick = onExit;
    submitButton.onclick = onSubmit;
    popupDiv.onkeydown = async (event) => {
      if (event.key === "Escape") {
        onExit();
      } else if (event.key === "Enter") {
        await onSubmit();
      }
    };
  }
};

// classes/playlist.ts
var Playlist = class extends CFEFile {
  static getNextVideoIDInOrder(playlist) {
    let nextVideoIndex = playlist.currentVideoIndex + 1;
    if (nextVideoIndex >= playlist.videoIDs.length) {
      nextVideoIndex = 0;
    }
    return nextVideoIndex;
  }
  static getNextVideoIDShuffled(playlist) {
    let nextVideoIndex = Math.random() * playlist.videoIDs.length;
    nextVideoIndex = Math.floor(nextVideoIndex);
    return nextVideoIndex;
  }
  static async loadNextVideo(sourceAndVault, playlist, videoElement) {
    if (playlist.videoOrder === "shuffled") {
      playlist.currentVideoIndex = Playlist.getNextVideoIDShuffled(playlist);
    } else {
      playlist.currentVideoIndex = Playlist.getNextVideoIDInOrder(playlist);
    }
    const nextVideo = await CFEFileHandler.LoadFile(sourceAndVault, playlist.videoIDs[playlist.currentVideoIndex]);
    videoElement.src = await nextVideo.getSrc(sourceAndVault);
  }
  static async CreateNewFileForLayer(snv, fileType, parentFolderID, name) {
    const newPlaylistFile = await super.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
    newPlaylistFile.videoIDs = [];
    return newPlaylistFile;
  }
  async Display(snv, container) {
    await super.Display(snv, container);
    this.currentVideoIndex = 0;
    const videoDisplayContainer = container.createDiv("cfe-display-video");
    const videoElement = videoDisplayContainer.createEl("video");
    const buttonsContainer = container.createDiv("hbox");
    const hideButton = buttonsContainer.createEl("button", { text: "hide video" });
    hideButton.onclick = () => {
      if (hideButton.textContent === "hide video") {
        hideButton.textContent = "show video";
        videoElement.style.display = "none";
      } else {
        hideButton.textContent = "hide video";
        videoElement.style.display = "flex";
      }
    };
    const shuffleButton = buttonsContainer.createEl("button", { text: "shuffle" });
    this.videoOrder = "in order";
    shuffleButton.onclick = () => {
      if (shuffleButton.textContent === "shuffle") {
        shuffleButton.textContent = "go in order";
        this.videoOrder = "shuffled";
      } else {
        shuffleButton.textContent = "shuffle";
        this.videoOrder = "in order";
      }
    };
    const nextButton = buttonsContainer.createEl("button", { text: "next video" });
    nextButton.onclick = async () => {
      await Playlist.loadNextVideo(snv, this, videoElement);
    };
    try {
      const firstVideo = await CFEFileHandler.LoadFile(snv, this.videoIDs[this.currentVideoIndex]);
      videoElement.src = await firstVideo.getSrc(snv);
      videoElement.autoplay = true;
      videoElement.controls = true;
      videoElement.ontimeupdate = async () => {
        if (videoElement.ended) {
          await Playlist.loadNextVideo(snv, this, videoElement);
        }
      };
    } finally {
      container.createEl("p", { text: "Change files" });
      let count = 0;
      const mediaIDInputDiv = container.createDiv("vbox");
      const newFileButton = container.createEl("button", { text: "Add File" });
      for (let i = 0; i < this.videoIDs.length; i++) {
        const currentIndex = count;
        count++;
        const mediaIDDiv = mediaIDInputDiv.createDiv("hbox");
        const idInput = mediaIDDiv.createEl("input", { type: "text", value: "" + this.videoIDs[currentIndex] });
        const deleteButton = mediaIDDiv.createEl("button", { text: "delete" });
        deleteButton.onclick = () => {
          mediaIDDiv.remove();
          this.videoIDs.splice(currentIndex, 1);
          this.Display(snv, container);
        };
        idInput.onchange = () => {
          this.videoIDs[currentIndex] = parseInt(idInput.value);
          this.Save(snv);
        };
      }
      newFileButton.onclick = () => {
        const currentIndex = count;
        count++;
        const mediaIDDiv = mediaIDInputDiv.createDiv("hbox");
        const idInput = mediaIDDiv.createEl("input", { type: "text" });
        const deleteButton = mediaIDDiv.createEl("button", { text: "delete" });
        deleteButton.onclick = () => {
          mediaIDDiv.remove();
          this.videoIDs.splice(currentIndex, 1);
          this.Display(snv, container);
        };
        idInput.onchange = () => {
          this.videoIDs[currentIndex] = parseInt(idInput.value);
          this.Save(snv);
        };
      };
    }
  }
};

// classes/variant-media-file.ts
var VariantMediaFile = class extends RealFile {
  async getSrc(snv, index = null) {
    if (index === null) {
      index = Math.floor(Math.random() * this.variantIDs.length);
    }
    const containedMedia = await CFEFileHandler.LoadFile(snv, this.variantIDs[index]);
    return await containedMedia.getSrc(snv);
  }
  static async CreateNewFileForLayer(snv, fileType, parentFolderID, name) {
    const newMediaFile = await super.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
    newMediaFile.variantIDs = [];
    return newMediaFile;
  }
  async Display(snv, container) {
    await super.Display(snv, container);
    const imageDisplayContainer = container.createDiv("vbox");
    imageDisplayContainer.createEl("p", { text: "Change files" });
    const mediaIDInputDiv = imageDisplayContainer.createDiv("vbox");
    const newFileButton = imageDisplayContainer.createEl("button", { text: "Add File" });
    for (let i = 0; i < this.variantIDs.length; i++) {
      const currentIndex = i;
      const mediaIDDiv = mediaIDInputDiv.createDiv("hbox");
      const idInput = mediaIDDiv.createEl("input", { type: "text", value: "" + this.variantIDs[currentIndex] });
      const deleteButton = mediaIDDiv.createEl("button", { text: "delete" });
      deleteButton.className = "cfe-remove-button";
      deleteButton.onclick = async () => {
        mediaIDDiv.remove();
        this.variantIDs.splice(currentIndex, 1);
        await this.Save(snv);
        await this.Display(snv, container);
      };
      idInput.onchange = async () => {
        this.variantIDs[currentIndex] = parseInt(idInput.value);
        await this.Save(snv);
        await this.Display(snv, container);
      };
    }
    newFileButton.onclick = async () => {
      this.variantIDs.push(-1);
      await this.Save(snv);
      await this.Display(snv, container);
    };
    const mediaDiv = imageDisplayContainer.createDiv("vbox");
    await this.DisplayMediaOnly(mediaDiv, snv);
  }
  async DisplayMediaOnly(mediaDiv, snv, index = -1) {
    if (index === -1) {
      index = Math.floor(Math.random() * this.variantIDs.length);
    }
    const containedMedia = await CFEFileHandler.LoadFile(snv, this.variantIDs[index]);
    await containedMedia.DisplayMediaOnly(mediaDiv, snv);
  }
};

// classes/source-folder-shortcut.ts
var SourceFolderShortcut = class extends CFEFile {
  /**
   * @override Folder layer:
   * 
   * initializes the contained file ids array for the folder object
   */
  static async CreateNewFileForLayer(snv, fileType, parentFolderID, name) {
    const unfinishedFolder = await super.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
    unfinishedFolder.pathToOtherSource = "";
    return unfinishedFolder;
  }
  async Display(snv, mainDiv) {
    await super.Display(snv, mainDiv);
    const inputDiv = mainDiv.createDiv("vbox");
    inputDiv.createEl("p", { text: "Path to Other Source Folder" });
    const pathInput = inputDiv.createEl("input", { type: "text" });
    const goButton = inputDiv.createEl("button", { text: "Go" });
    pathInput.onchange = async () => {
      this.pathToOtherSource = pathInput.value;
      await this.Save(snv);
    };
    goButton.onclick = async () => {
      const otherSource = await SourceFolder.CreateOrLoadSourceFolder(this.pathToOtherSource, snv.vault);
      otherSource.Display(mainDiv, snv.vault);
    };
  }
};

// classes/conlangs/language.ts
var Language = class {
  static CreateOneLineEditor(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    throw Error("Do not call this method on the Language class itself");
  }
  static CreateMultiLineEditor(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    throw Error("Do not call this method on the Language class itself");
  }
  static Display(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    throw Error("Do not call this method on the Language class itself");
  }
  static SpeakOrAnimate(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    throw Error("Do not call this method on the Language class itself");
  }
};
var ConlangElement = class {
  constructor() {
    this.onclick = () => {
      return;
    };
  }
  get fontSize() {
    return this.realFontSize;
  }
  set fontSize(newValue) {
    this.realFontSize = newValue;
    this.style.fontSize = newValue + "px";
  }
};
var ConlangOneLineEditor = class extends ConlangElement {
  constructor() {
    super(...arguments);
    this.oninput = () => {
      return;
    };
    this.onchange = () => {
      return;
    };
  }
};
var ConlangMultiLineEditor = class extends ConlangElement {
  constructor() {
    super(...arguments);
    this.oninput = () => {
      return;
    };
    this.onchange = () => {
      return;
    };
  }
};

// classes/conlangs/hwayu.ts
var Hwayu = class extends Language {
  static CreateOneLineEditor(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    const textElement = new HwayuOneLineEditor(div, value, fontSize, isVertical);
    return textElement;
  }
  static CreateMultiLineEditor(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    const textElement = new HwayuMultiLineEditor(div, value, fontSize, isVertical);
    return textElement;
  }
  static Display(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    const textElement = new HwayuElement(div, value, fontSize, isVertical);
    return textElement;
  }
};
var HwayuElement = class extends ConlangElement {
  constructor(div, value = "", fontSize = 17.5, isVertical = true) {
    super();
    this.textElement = div.createDiv();
    this.value = value;
    this.fontSize = fontSize;
    this.isVertical = isVertical;
    this.textElement.onclick = async () => {
      await this.onclick();
    };
  }
  get style() {
    return this.textElement.style;
  }
  get value() {
    return this.textElement.textContent ? this.textElement.textContent : "";
  }
  set value(newValue) {
    this.textElement.textContent = newValue;
  }
  get className() {
    return this.textElement.className;
  }
  set className(newValue) {
    this.textElement.className = newValue;
  }
  get classList() {
    return this.textElement.classList;
  }
  get isVertical() {
    return this.realIsVertical;
  }
  set isVertical(newValue) {
    this.realIsVertical = newValue;
    this.style.fontFamily = newValue ? "HwayuReal" : "HwayuHorizontal";
    if (newValue) {
      this.style.writingMode = "vertical-lr";
      this.style.textOrientation = "upright";
    } else {
      this.style.writingMode = "horizontal-tb";
      this.style.textOrientation = "unset";
    }
  }
};
var HwayuOneLineEditor = class extends ConlangOneLineEditor {
  constructor(div, value = "", fontSize = 17.5, isVertical = true) {
    super();
    this.inputElement = div.createEl("input", { type: "text" });
    this.inputElement.spellcheck = false;
    this.value = value;
    this.fontSize = fontSize;
    this.isVertical = isVertical;
    this.inputElement.oninput = async () => {
      this.value = this.inputElement.value;
      await this.oninput();
    };
    this.inputElement.onchange = async () => {
      this.value = this.inputElement.value;
      await this.onchange();
    };
    this.inputElement.onclick = async () => {
      await this.onclick();
    };
  }
  get style() {
    return this.inputElement.style;
  }
  get value() {
    return this.inputElement.value;
  }
  set value(newValue) {
    this.inputElement.value = newValue;
  }
  get className() {
    return this.inputElement.className;
  }
  set className(newValue) {
    this.inputElement.className = newValue;
  }
  get classList() {
    return this.inputElement.classList;
  }
  get isVertical() {
    return this.realIsVertical;
  }
  set isVertical(newValue) {
    this.realIsVertical = newValue;
    this.style.fontFamily = newValue ? "HwayuReal" : "HwayuHorizontal";
    if (newValue) {
      this.style.writingMode = "vertical-lr";
      this.style.textOrientation = "upright";
    } else {
      this.style.writingMode = "horizontal-tb";
      this.style.textOrientation = "unset";
    }
  }
};
var HwayuMultiLineEditor = class extends ConlangMultiLineEditor {
  constructor(div, value = "", fontSize = 17.5, isVertical = true) {
    super();
    this.inputElement = div.createEl("textarea");
    this.inputElement.spellcheck = false;
    this.value = value;
    this.fontSize = fontSize;
    this.isVertical = isVertical;
    this.inputElement.oninput = async () => {
      this.value = this.inputElement.value;
      await this.oninput();
    };
    this.inputElement.onchange = async () => {
      this.value = this.inputElement.value;
      await this.onchange();
    };
    this.inputElement.onclick = async () => {
      await this.onclick();
    };
  }
  get style() {
    return this.inputElement.style;
  }
  get value() {
    return this.inputElement.value;
  }
  set value(newValue) {
    this.inputElement.value = newValue;
  }
  get className() {
    return this.inputElement.className;
  }
  set className(newValue) {
    this.inputElement.className = newValue;
  }
  get classList() {
    return this.inputElement.classList;
  }
  get isVertical() {
    return this.realIsVertical;
  }
  set isVertical(newValue) {
    this.realIsVertical = newValue;
    this.style.fontFamily = newValue ? "HwayuReal" : "HwayuHorizontal";
    if (newValue) {
      this.style.writingMode = "vertical-lr";
      this.style.textOrientation = "upright";
    } else {
      this.style.writingMode = "horizontal-tb";
      this.style.textOrientation = "unset";
    }
  }
};

// classes/conlangs/english.ts
var English = class extends Language {
  static CreateOneLineEditor(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    const textElement = new EnglishOneLineEditor(div, value, fontSize, isVertical);
    return textElement;
  }
  static CreateMultiLineEditor(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    const textElement = new EnglishMultiLineEditor(div, value, fontSize, isVertical);
    return textElement;
  }
  static Display(cleanDiv, div, value = "", fontSize = 17.5, isVertical = false) {
    const textElement = new EnglishElement(div, value, fontSize, isVertical);
    return textElement;
  }
};
var EnglishElement = class extends ConlangElement {
  constructor(div, value = "", fontSize = 17.5, isVertical = false) {
    super();
    this.textElement = div.createDiv();
    this.value = value;
    this.fontSize = fontSize;
    this.isVertical = isVertical;
    this.textElement.onclick = async () => {
      await this.onclick();
    };
  }
  get style() {
    return this.textElement.style;
  }
  get value() {
    return this.textElement.textContent ? this.textElement.textContent : "";
  }
  set value(newValue) {
    this.textElement.textContent = newValue;
  }
  get className() {
    return this.textElement.className;
  }
  set className(newValue) {
    this.textElement.className = newValue;
  }
  get classList() {
    return this.textElement.classList;
  }
  get isVertical() {
    return this.realIsVertical;
  }
  set isVertical(newValue) {
    this.realIsVertical = newValue;
    if (newValue) {
      this.style.writingMode = "vertical-lr";
      this.style.textOrientation = "upright";
    } else {
      this.style.writingMode = "horizontal-tb";
      this.style.textOrientation = "unset";
    }
  }
};
var EnglishOneLineEditor = class extends ConlangOneLineEditor {
  constructor(div, value = "", fontSize = 17.5, isVertical = false) {
    super();
    this.inputElement = div.createEl("input", { type: "text" });
    this.value = value;
    this.fontSize = fontSize;
    this.isVertical = isVertical;
    this.inputElement.oninput = async () => {
      this.value = this.inputElement.value;
      await this.oninput();
    };
    this.inputElement.onchange = async () => {
      this.value = this.inputElement.value;
      await this.onchange();
    };
    this.inputElement.onclick = async () => {
      await this.onclick();
    };
  }
  get style() {
    return this.inputElement.style;
  }
  get value() {
    return this.inputElement.value;
  }
  set value(newValue) {
    this.inputElement.value = newValue;
  }
  get className() {
    return this.inputElement.className;
  }
  set className(newValue) {
    this.inputElement.className = newValue;
  }
  get classList() {
    return this.inputElement.classList;
  }
  get isVertical() {
    return this.realIsVertical;
  }
  set isVertical(newValue) {
    this.realIsVertical = newValue;
    if (newValue) {
      this.style.writingMode = "vertical-lr";
      this.style.textOrientation = "upright";
    } else {
      this.style.writingMode = "horizontal-tb";
      this.style.textOrientation = "unset";
    }
  }
};
var EnglishMultiLineEditor = class extends ConlangMultiLineEditor {
  constructor(div, value = "", fontSize = 17.5, isVertical = false) {
    super();
    this.inputElement = div.createEl("textarea");
    this.value = value;
    this.fontSize = fontSize;
    this.isVertical = isVertical;
    this.inputElement.oninput = async () => {
      this.value = this.inputElement.value;
      await this.oninput();
    };
    this.inputElement.onchange = async () => {
      this.value = this.inputElement.value;
      await this.onchange();
    };
    this.inputElement.onclick = async () => {
      await this.onclick();
    };
  }
  get style() {
    return this.inputElement.style;
  }
  get value() {
    return this.inputElement.value;
  }
  set value(newValue) {
    this.inputElement.value = newValue;
  }
  get className() {
    return this.inputElement.className;
  }
  set className(newValue) {
    this.inputElement.className = newValue;
  }
  get classList() {
    return this.inputElement.classList;
  }
  get isVertical() {
    return this.realIsVertical;
  }
  set isVertical(newValue) {
    this.realIsVertical = newValue;
    if (newValue) {
      this.style.writingMode = "vertical-lr";
      this.style.textOrientation = "upright";
    } else {
      this.style.writingMode = "horizontal-tb";
      this.style.textOrientation = "unset";
    }
  }
};

// classes/conlangs/colorlang.ts
var ColorLang = class extends Language {
  static CreateOneLineEditor(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    const textElement = new ColorLangEditor(cleanDiv, div, value, fontSize, isVertical);
    return textElement;
  }
  static CreateMultiLineEditor(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    const textElement = new ColorLangEditor(cleanDiv, div, value, fontSize, isVertical);
    return textElement;
  }
  static Display(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    const textElement = new StaticColorLangElement(cleanDiv, div, value, fontSize, isVertical);
    return textElement;
  }
  static SpeakOrAnimate(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    const textElement = new AnimatedColorLangElement(cleanDiv, div, value, fontSize, isVertical);
    return textElement;
  }
};
var AnimatedColorLangElement = class extends ConlangElement {
  constructor(cleanDiv, div, value = "", fontSize = 10, isVertical = false) {
    super();
    this.cleanDiv = cleanDiv;
    this.wrapperDiv = div.createDiv();
    this.content = new ColorPhrase();
    this.fontSize = fontSize;
    this.value = value;
    this.isVertical = isVertical;
    this.wrapperDiv.onclick = async () => {
      await this.onclick();
    };
  }
  get style() {
    return this.wrapperDiv.style;
  }
  get value() {
    return JSON.stringify(this.content);
  }
  set value(newValue) {
    try {
      const plainPhrase = JSON.parse(newValue);
      this.content = Object.assign(new ColorPhrase(), plainPhrase);
      for (let i = 0; i < this.content.words.length; i++) {
        this.content.words[i] = Object.assign(new ColorWord(), this.content.words[i]);
        for (let j = 0; j < this.content.words[i].tracks.length; j++) {
          this.content.words[i].tracks[j] = Object.assign(new ColorWordTrack(), this.content.words[i].tracks[j]);
          for (let k = 0; k < this.content.words[i].tracks[j].glyphs.length; k++) {
            this.content.words[i].tracks[j].glyphs[k] = Object.assign(new ColorGlyph(), this.content.words[i].tracks[j].glyphs[k]);
          }
        }
      }
    } catch (e) {
      console.log("Color Lang text was not valid");
    }
    this.Display();
  }
  get className() {
    return this.wrapperDiv.className;
  }
  set className(newValue) {
    this.wrapperDiv.className = newValue;
  }
  get classList() {
    return this.wrapperDiv.classList;
  }
  get isVertical() {
    return this.realIsVertical;
  }
  set isVertical(newValue) {
    this.realIsVertical = newValue;
    if (newValue) {
      this.style.writingMode = "vertical-lr";
      this.style.textOrientation = "upright";
    } else {
      this.style.writingMode = "horizontal-tb";
      this.style.textOrientation = "unset";
    }
  }
  async Display() {
    for (let i = 0; i < this.content.words.length; i++) {
      const word = this.content.words[i];
      console.log("c" + this.fontSize);
      await word.DisplayOnce(this.wrapperDiv, this.fontSize);
    }
    this.wrapperDiv.remove();
  }
};
var StaticColorLangElement = class extends ConlangElement {
  constructor(cleanDiv, div, value = "", fontSize = 10, isVertical = false) {
    super();
    this.cleanDiv = cleanDiv;
    this.wrapperDiv = div.createDiv();
    this.lineDiv = this.wrapperDiv.createDiv();
    this.content = new ColorPhrase();
    this.fontSize = fontSize;
    this.value = value;
    this.isVertical = isVertical;
    this.wrapperDiv.onclick = async () => {
      await this.onclick();
    };
  }
  get style() {
    return this.wrapperDiv.style;
  }
  get value() {
    return JSON.stringify(this.content);
  }
  set value(newValue) {
    try {
      const plainPhrase = JSON.parse(newValue);
      this.content = Object.assign(new ColorPhrase(), plainPhrase);
      for (let i = 0; i < this.content.words.length; i++) {
        this.content.words[i] = Object.assign(new ColorWord(), this.content.words[i]);
        for (let j = 0; j < this.content.words[i].tracks.length; j++) {
          this.content.words[i].tracks[j] = Object.assign(new ColorWordTrack(), this.content.words[i].tracks[j]);
          for (let k = 0; k < this.content.words[i].tracks[j].glyphs.length; k++) {
            this.content.words[i].tracks[j].glyphs[k] = Object.assign(new ColorGlyph(), this.content.words[i].tracks[j].glyphs[k]);
          }
        }
      }
    } catch (e) {
      console.log("Color Lang text was not valid");
    }
    this.Display();
  }
  get className() {
    return this.wrapperDiv.className;
  }
  set className(newValue) {
    this.wrapperDiv.className = newValue;
  }
  get classList() {
    return this.wrapperDiv.classList;
  }
  get isVertical() {
    return this.realIsVertical;
  }
  set isVertical(newValue) {
    this.realIsVertical = newValue;
    if (newValue) {
      this.style.writingMode = "vertical-lr";
      this.style.textOrientation = "upright";
    } else {
      this.style.writingMode = "horizontal-tb";
      this.style.textOrientation = "unset";
    }
  }
  Display() {
    this.lineDiv.remove();
    this.lineDiv = this.wrapperDiv.createDiv();
    for (let i = 0; i < this.content.words.length; i++) {
      const word = this.content.words[i];
      word.DisplayLoop(this.lineDiv, this.fontSize);
    }
  }
};
var ColorLangEditor = class extends ConlangOneLineEditor {
  constructor(cleanDiv, div, value = "", fontSize = 10, isVertical = false) {
    super();
    this.cleanDiv = cleanDiv;
    this.wrapperDiv = div.createDiv();
    this.lineDiv = this.wrapperDiv.createDiv();
    this.content = new ColorPhrase();
    this.fontSize = fontSize;
    this.value = value;
    this.isVertical = isVertical;
    this.wrapperDiv.onclick = async () => {
      await this.onclick();
    };
  }
  get style() {
    return this.wrapperDiv.style;
  }
  get value() {
    if (this.content.words.length > 0) {
      return JSON.stringify(this.content);
    }
    return "";
  }
  set value(newValue) {
    try {
      const plainPhrase = JSON.parse(newValue);
      this.content = Object.assign(new ColorPhrase(), plainPhrase);
      for (let i = 0; i < this.content.words.length; i++) {
        this.content.words[i] = Object.assign(new ColorWord(), this.content.words[i]);
        for (let j = 0; j < this.content.words[i].tracks.length; j++) {
          this.content.words[i].tracks[j] = Object.assign(new ColorWordTrack(), this.content.words[i].tracks[j]);
          for (let k = 0; k < this.content.words[i].tracks[j].glyphs.length; k++) {
            this.content.words[i].tracks[j].glyphs[k] = Object.assign(new ColorGlyph(), this.content.words[i].tracks[j].glyphs[k]);
          }
        }
      }
    } catch (e) {
      console.log("Color Lang text was not valid");
    }
    this.onchange();
    this.Display();
  }
  get className() {
    return this.wrapperDiv.className;
  }
  set className(newValue) {
    this.wrapperDiv.className = newValue;
  }
  get classList() {
    return this.wrapperDiv.classList;
  }
  get isVertical() {
    return this.realIsVertical;
  }
  set isVertical(newValue) {
    this.realIsVertical = newValue;
    if (newValue) {
      this.style.writingMode = "vertical-lr";
      this.style.textOrientation = "upright";
    } else {
      this.style.writingMode = "horizontal-tb";
      this.style.textOrientation = "unset";
    }
  }
  Display() {
    this.wrapperDiv.empty();
    this.lineDiv = this.wrapperDiv.createDiv(this.isVertical ? "vbox" : "hbox");
    for (let i = 0; i < this.content.words.length; i++) {
      const index = i;
      const wordCard = this.lineDiv.createDiv(this.isVertical ? "hbox" : "vbox");
      const deleteButton = wordCard.createEl("button", { text: "-" });
      deleteButton.className = "cfe-remove-button";
      const wordDiv = wordCard.createDiv();
      wordDiv.classList.add("cfe-pointer-hover");
      const word = this.content.words[i];
      word.DisplayLoop(wordDiv, this.fontSize);
      wordDiv.onclick = () => {
        word.DisplayEditor(this.cleanDiv.createDiv());
      };
      const fullWordInput = wordCard.createEl("input", { type: "text", value: JSON.stringify(word) });
      fullWordInput.onchange = () => {
        const plainWord = JSON.parse(fullWordInput.value);
        this.content.words[index] = Object.assign(new ColorWord(), plainWord);
        for (let j = 0; j < this.content.words[index].tracks.length; j++) {
          this.content.words[index].tracks[j] = Object.assign(new ColorWordTrack(), this.content.words[index].tracks[j]);
          for (let k = 0; k < this.content.words[index].tracks[j].glyphs.length; k++) {
            this.content.words[index].tracks[j].glyphs[k] = Object.assign(new ColorGlyph(), this.content.words[index].tracks[j].glyphs[k]);
          }
        }
      };
      this.isVertical ? fullWordInput.style.height : fullWordInput.style.width = this.fontSize * 3.25 + "px";
      this.isVertical ? deleteButton.style.height : deleteButton.style.width = this.fontSize * 3.25 + "px";
      deleteButton.onclick = () => {
        this.content.words.splice(index, 1);
        this.value = JSON.stringify(this.content);
      };
    }
    const addButton = this.lineDiv.createEl("button", { text: "+" });
    const fullInput = this.lineDiv.createEl("input", { type: "text", value: this.value });
    this.isVertical ? fullInput.style.height : fullInput.style.width = this.fontSize * 3.25 + "px";
    const saveButton = this.lineDiv.createEl("button", { text: "save" });
    addButton.onclick = () => {
      this.content.words.push(new ColorWord());
      this.Display();
    };
    fullInput.onchange = () => {
      this.value = fullInput.value;
    };
    saveButton.onclick = () => {
      this.value = JSON.stringify(this.content);
    };
  }
};
var ColorPhrase = class {
  constructor() {
    this.words = [];
  }
  async DisplayOnce(div, fontSize = 17.5) {
    for (let i = 0; i < this.words.length; i++) {
      await this.words[i].DisplayOnce(div, fontSize);
    }
  }
  async DisplayLoop(div, fontSize = 17.5) {
    for (let i = 0; i < this.words.length; i++) {
      for (let j = 0; j < this.words.length; j++) {
        await this.words[j].DisplayOnce(div, fontSize);
      }
      if (i === this.words.length - 1) {
        i = -1;
      }
    }
  }
};
var ColorWord = class {
  constructor() {
    this.tracks = [];
    this.tracks.push(new ColorWordTrack());
  }
  get duration() {
    let max = 0;
    for (let i = 0; i < this.tracks.length; i++) {
      let ms = 0;
      ms += this.tracks[i].duration;
      if (ms > max) {
        max = ms;
      }
    }
    return max;
  }
  async DisplayOnce(div, fontSize = 17.5) {
    const wordDiv = div.createDiv();
    wordDiv.style.position = "relative";
    wordDiv.style.width = fontSize * 3.25 + "px";
    wordDiv.style.height = fontSize * 3.25 + "px";
    for (let i = 0; i < this.tracks.length; i++) {
      this.tracks[i].DisplayOnce(wordDiv, fontSize);
    }
    await sleep(this.duration);
    wordDiv.remove();
  }
  async DisplayStatic(div, fontSize = 17.5) {
    div.empty();
    const wordDiv = div.createDiv();
    wordDiv.style.position = "relative";
    wordDiv.style.width = fontSize * 3.25 + "px";
    wordDiv.style.height = fontSize * 3.25 + "px";
    for (let i = 0; i < this.tracks.length; i++) {
      const track = this.tracks[i];
      track.DisplayStatic(wordDiv, fontSize);
    }
  }
  async DisplayLoop(div, fontSize = 17.5) {
    div.empty();
    const wordDiv = div.createDiv();
    wordDiv.style.position = "relative";
    wordDiv.style.width = fontSize * 3.25 + "px";
    wordDiv.style.height = fontSize * 3.25 + "px";
    let doLoop = true;
    doLoop = true;
    while (doLoop) {
      for (let i = 0; i < this.tracks.length; i++) {
        const track = this.tracks[i];
        track.DisplayOnce(wordDiv, fontSize);
      }
      await sleep(this.duration);
    }
  }
  DisplayEditor(div) {
    div.empty();
    const popup = div.createDiv("cfe-popup");
    const exitButtonDiv = popup.createDiv();
    exitButtonDiv.style.position = "relative";
    const exitButton = exitButtonDiv.createEl("button", { text: "X" });
    exitButton.className = "cfe-remove-button";
    exitButton.style.position = "absolute";
    exitButton.style.top = "0%";
    exitButton.style.right = "0%";
    exitButton.onclick = () => {
      div.remove();
    };
    const halves = popup.createDiv("hbox");
    halves.style.width = "100%";
    halves.style.height = "100%";
    const leftSide = halves.createDiv("vbox");
    leftSide.style.width = "40%";
    const glyphsDiv = halves.createDiv("vbox");
    glyphsDiv.style.width = "60%";
    const speakDiv = leftSide.createDiv();
    speakDiv.style.height = "50%";
    this.DisplayLoop(speakDiv, 100);
    const tracksDiv = leftSide.createDiv();
    tracksDiv.style.height = "50%";
    for (let i = 0; i < this.tracks.length; i++) {
      const index = i;
      const trackDiv = tracksDiv.createDiv("hbox");
      trackDiv.style.width = "100%";
      trackDiv.style.borderStyle = "solid";
      trackDiv.style.borderColor = "#FFFFFF";
      const trackNumber = trackDiv.createEl("div", { text: "track " + i });
      trackNumber.style.width = "100%";
      trackNumber.className = "cfe-pointer-hover";
      const deleteButton = trackDiv.createEl("button", { text: "-" });
      deleteButton.className = "cfe-remove-button";
      trackNumber.onclick = () => {
        this.tracks[index].DisplayEditor(glyphsDiv);
      };
      deleteButton.onclick = () => {
        this.tracks.splice(index, 1);
        trackDiv.remove();
        this.DisplayEditor(div);
      };
    }
    const addButton = tracksDiv.createEl("button", { text: "+" });
    addButton.onclick = () => {
      this.tracks.push(new ColorWordTrack());
      this.DisplayEditor(div);
    };
  }
};
var ColorWordTrack = class {
  constructor() {
    this.glyphs = [];
    this.glyphs.push(new ColorGlyph());
  }
  get duration() {
    let ms = 0;
    for (let i = 0; i < this.glyphs.length; i++) {
      ms += this.glyphs[i].transitionTime;
      ms += this.glyphs[i].duration;
    }
    return ms;
  }
  DisplayStatic(div, fontSize = 17.5) {
    if (this.glyphs.length < 1) {
      return;
    }
    const trackDiv = div.createDiv();
    trackDiv.style.position = "absolute";
    trackDiv.style.fontFamily = "ColorLang";
    trackDiv.style.fontSize = fontSize + "px";
    trackDiv.style.transitionProperty = "all";
    this.glyphs[0].DisplayStatic(trackDiv, fontSize);
  }
  async DisplayOnce(div, fontSize = 17.5) {
    const trackDiv = div.createDiv();
    trackDiv.style.position = "absolute";
    trackDiv.style.fontFamily = "ColorLang";
    trackDiv.style.fontSize = fontSize + "px";
    trackDiv.style.transitionProperty = "all";
    for (let i = 0; i < this.glyphs.length; i++) {
      const glyph = this.glyphs[i];
      await glyph.Display(trackDiv, fontSize);
    }
    trackDiv.remove();
  }
  async DisplayLoop(div, fontSize = 17.5) {
    const trackDiv = div.createDiv();
    trackDiv.style.position = "absolute";
    trackDiv.style.fontFamily = "ColorLang";
    trackDiv.style.fontSize = fontSize + "px";
    trackDiv.style.transitionProperty = "all";
    for (let i = 0; i < this.glyphs.length; i++) {
      const glyph = this.glyphs[i];
      await glyph.Display(trackDiv, fontSize);
      if (i === this.glyphs.length - 1) {
        i = -1;
      }
    }
    trackDiv.remove();
  }
  DisplayEditor(glyphsDiv) {
    glyphsDiv.empty();
    for (let i = 0; i < this.glyphs.length; i++) {
      const index = i;
      const glyphDiv = glyphsDiv.createDiv("hbox");
      glyphDiv.style.width = "100%";
      this.glyphs[i].DisplayEditor(glyphDiv);
      const deleteButton = glyphDiv.createEl("button", { text: "-" });
      deleteButton.className = "cfe-remove-button";
      deleteButton.onclick = () => {
        glyphDiv.remove();
        this.glyphs.splice(index, 1);
        this.DisplayEditor(glyphsDiv);
      };
    }
    const addButton = glyphsDiv.createEl("button", { text: "+" });
    addButton.onclick = () => {
      this.glyphs.push(new ColorGlyph());
      this.DisplayEditor(glyphsDiv);
    };
  }
};
var ColorGlyph = class {
  constructor() {
    this.shape = "o";
    this.color = "#FFFFFF";
    this.opacity = 100;
    this.transitionTime = 100;
    this.duration = 500;
    this.size = 100;
    this.x = 0;
    this.y = 0;
    this.z = 0;
    this.r = 0;
  }
  // Full disclosure, ChatGPT wrote this one
  hexToRGBA(hex, opacity) {
    hex = hex.replace("#", "");
    const r = parseInt(hex.substring(0, 2), 16);
    const g = parseInt(hex.substring(2, 4), 16);
    const b = parseInt(hex.substring(4, 6), 16);
    const alpha = opacity / 100;
    return `rgba(${r}, ${g}, ${b}, ${alpha})`;
  }
  DisplayStatic(div, fontSize) {
    div.textContent = this.shape;
    div.style.color = this.hexToRGBA(this.color, this.opacity);
    div.style.fontSize = fontSize * this.size / 100 + "px";
    div.style.transform = "translate(-50%, 50%) rotate(" + this.r + "deg)";
    div.style.left = this.x + 50 + "%";
    div.style.bottom = this.y + 50 + "%";
    div.style.zIndex = this.z + "";
  }
  async Display(div, fontSize) {
    div.textContent = this.shape;
    div.style.color = this.hexToRGBA(this.color, this.opacity);
    div.style.fontSize = fontSize * this.size / 100 + "px";
    div.style.transform = "translate(-50%, 50%) rotate(" + this.r + "deg)";
    div.style.left = this.x + 50 + "%";
    div.style.bottom = this.y + 50 + "%";
    div.style.zIndex = this.z + "";
    div.style.transitionDuration = this.transitionTime + "ms";
    await sleep(this.duration + this.transitionTime);
  }
  DisplayEditor(div) {
    const shapeInput = div.createEl("input", { type: "text", value: this.shape });
    shapeInput.style.fontFamily = "ColorLang";
    shapeInput.style.width = "5%";
    const colorInput = div.createEl("input", { type: "color", value: this.color });
    div.createEl("div", { text: "Alpha" });
    const opacityInput = div.createEl("input", { type: "text", value: this.opacity + "" });
    opacityInput.style.width = "7%";
    div.createEl("div", { text: "TTime" });
    const transitionTimeInput = div.createEl("input", { type: "text", value: this.transitionTime + "" });
    transitionTimeInput.style.width = "8%";
    div.createEl("div", { text: "Duration" });
    const durationInput = div.createEl("input", { type: "text", value: this.duration + "" });
    durationInput.style.width = "8%";
    div.createEl("div", { text: "Size" });
    const sizeInput = div.createEl("input", { type: "text", value: this.size + "" });
    sizeInput.style.width = "7%";
    div.createEl("div", { text: "x" });
    const xInput = div.createEl("input", { type: "text", value: this.x + "" });
    xInput.style.width = "5%";
    div.createEl("div", { text: "y" });
    const yInput = div.createEl("input", { type: "text", value: this.y + "" });
    yInput.style.width = "5%";
    div.createEl("div", { text: "z" });
    const zInput = div.createEl("input", { type: "text", value: this.z + "" });
    zInput.style.width = "5%";
    div.createEl("div", { text: "r" });
    const rInput = div.createEl("input", { type: "text", value: this.r + "" });
    rInput.style.width = "5%";
    shapeInput.onchange = () => {
      this.shape = shapeInput.value;
    };
    colorInput.onchange = () => {
      this.color = colorInput.value;
    };
    opacityInput.onchange = () => {
      this.opacity = parseInt(opacityInput.value);
    };
    transitionTimeInput.onchange = () => {
      this.transitionTime = parseFloat(transitionTimeInput.value);
    };
    durationInput.onchange = () => {
      this.duration = parseFloat(durationInput.value);
    };
    sizeInput.onchange = () => {
      this.size = parseInt(sizeInput.value);
    };
    xInput.onchange = () => {
      this.x = parseFloat(xInput.value);
    };
    yInput.onchange = () => {
      this.y = parseFloat(yInput.value);
    };
    zInput.onchange = () => {
      this.z = parseFloat(zInput.value);
    };
    rInput.onchange = () => {
      this.r = parseFloat(rInput.value);
    };
  }
};

// classes/conlangs/language-handler.ts
var LanguageHandler = class {
  static CreateOneLineEditor(cleanDiv, div, language, value = void 0, fontSize = void 0, isVertical = void 0) {
    switch (language) {
      case "English":
      default:
        return English.CreateOneLineEditor(cleanDiv, div, value, fontSize, isVertical);
      case "Hwayu":
        return Hwayu.CreateOneLineEditor(cleanDiv, div, value, fontSize, isVertical);
      case "Color Lang":
        return ColorLang.CreateOneLineEditor(cleanDiv, div, value, fontSize, isVertical);
    }
  }
  static CreateMultiLineEditor(cleanDiv, div, language, value = void 0, fontSize = void 0, isVertical = void 0) {
    switch (language) {
      case "English":
      default:
        return English.CreateMultiLineEditor(cleanDiv, div, value, fontSize, isVertical);
      case "Hwayu":
        return Hwayu.CreateMultiLineEditor(cleanDiv, div, value, fontSize, isVertical);
      case "Color Lang":
        return ColorLang.CreateMultiLineEditor(cleanDiv, div, value, fontSize, isVertical);
    }
  }
  static Display(cleanDiv, div, language, value = void 0, fontSize = void 0, isVertical = void 0) {
    switch (language) {
      case "English":
      default:
        return English.Display(cleanDiv, div, value, fontSize, isVertical);
      case "Hwayu":
        return Hwayu.Display(cleanDiv, div, value, fontSize, isVertical);
      case "Color Lang":
        return ColorLang.Display(cleanDiv, div, value, fontSize, isVertical);
    }
  }
  static SpeakOrAnimate(cleanDiv, div, language, value = void 0, fontSize = void 0, isVertical = void 0) {
    switch (language) {
      case "English":
      default:
        throw Error("This language does not have an animating or speaking function");
      case "Hwayu":
        throw Error("This language does not have an animating or speaking function");
      case "Color Lang":
        return ColorLang.SpeakOrAnimate(cleanDiv, div, value, fontSize, isVertical);
    }
  }
};
LanguageHandler.knownLanguages = [
  "English",
  "Hwayu",
  "Color Lang"
];

// classes/conlang-dictionary.ts
var ConlangDictionary = class extends CFEFile {
  static async CreateNewFileForLayer(snv, fileType, parentFolderID, name) {
    const unfinishedDictionary = await super.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
    unfinishedDictionary.termLanguage = "English";
    unfinishedDictionary.definitionLanguage = "English";
    unfinishedDictionary.words = [];
    unfinishedDictionary.searchTerm = "";
    unfinishedDictionary.searchInConlang = false;
    return unfinishedDictionary;
  }
  async Display(snv, mainDiv) {
    await super.Display(snv, mainDiv);
    mainDiv.createEl("p", { text: "Term Language" });
    const termLanguageDropdown = mainDiv.createEl("select");
    for (let i = 0; i < LanguageHandler.knownLanguages.length; i++) {
      const currentLang = LanguageHandler.knownLanguages[i];
      termLanguageDropdown.createEl("option", { text: currentLang, value: currentLang });
    }
    termLanguageDropdown.value = this.termLanguage;
    mainDiv.createEl("p", { text: "Definition Language" });
    const definitionLanguageDropdown = mainDiv.createEl("select");
    for (let i = 0; i < LanguageHandler.knownLanguages.length; i++) {
      const currentLang = LanguageHandler.knownLanguages[i];
      definitionLanguageDropdown.createEl("option", { text: currentLang, value: currentLang });
    }
    definitionLanguageDropdown.value = this.definitionLanguage;
    const addWordDiv = mainDiv.createDiv("vbox");
    await this.CreateNewWordEditor(snv, mainDiv, addWordDiv);
    termLanguageDropdown.onchange = async () => {
      this.termLanguage = termLanguageDropdown.value;
      await this.Save(snv);
      await this.Display(snv, mainDiv);
    };
    definitionLanguageDropdown.onchange = async () => {
      this.definitionLanguage = definitionLanguageDropdown.value;
      await this.Save(snv);
      await this.Display(snv, mainDiv);
    };
    await this.DisplayList(snv, mainDiv);
  }
  async DisplayWord(snv, mainDiv, div, index) {
    div.empty();
    const modeButton = div.createEl("button", { text: "Edit" });
    modeButton.style.top = "0";
    modeButton.style.right = "0";
    modeButton.onclick = async () => {
      await this.EditWord(snv, mainDiv, div, index);
    };
    const wordDiv = div.createDiv("hbox");
    wordDiv.style.gap = "1%";
    wordDiv.style.fontSize = "17.5px";
    const conlangWord = this.words[index][0];
    const definition = this.words[index][1];
    const conlangWordDiv = LanguageHandler.Display(mainDiv, wordDiv, this.termLanguage, conlangWord, 17.5);
    conlangWordDiv.classList.add("cfe-pointer-hover");
    wordDiv.createEl("div", { text: ":" });
    LanguageHandler.Display(mainDiv, wordDiv, this.definitionLanguage, definition, 17.5);
    conlangWordDiv.onclick = async () => {
      try {
        await navigator.clipboard.writeText(conlangWord);
      } catch (err) {
        console.error("Failed to copy text: ", err);
      }
    };
  }
  async EditWord(snv, mainDiv, div, index) {
    div.empty();
    const buttonsDiv = div.createDiv("hbox");
    const modeButton = buttonsDiv.createEl("button", { text: "View" });
    modeButton.onclick = async () => {
      await this.DisplayWord(snv, mainDiv, div, index);
    };
    const deleteButton = buttonsDiv.createEl("button", { text: "Delete" });
    deleteButton.classList = "cfe-remove-button";
    deleteButton.onclick = async () => {
      this.words.splice(index, 1);
      await this.Save(snv);
      await this.Display(snv, mainDiv);
    };
    const wordDiv = div.createDiv("vbox");
    wordDiv.createEl("p", { text: "Word in " + this.termLanguage });
    const conlangWord = this.words[index][0];
    const definition = this.words[index][1];
    const newWordInput = LanguageHandler.CreateOneLineEditor(mainDiv, wordDiv, this.termLanguage, conlangWord, 17.5, false);
    wordDiv.createEl("p", { text: "Definition" });
    const definitionInput = LanguageHandler.CreateOneLineEditor(mainDiv, wordDiv, this.definitionLanguage, definition, 17.5, false);
    const onSubmit = async () => {
      this.words[index] = [newWordInput.value, definitionInput.value];
      this.ReSort(index);
      await this.Save(snv);
      await this.Display(snv, mainDiv);
    };
    div.onkeydown = async (event) => {
      if (event.key === "Enter") {
        await onSubmit();
      }
    };
  }
  CreateNewWordEditor(snv, mainDiv, div) {
    div.createEl("p", { text: "Add New Word:" });
    div.createEl("p", { text: "Word in " + this.termLanguage });
    const newWordInput = LanguageHandler.CreateOneLineEditor(mainDiv, div, this.termLanguage, void 0, 17.5, false);
    div.createEl("p", { text: "Definition" });
    const definitionInput = LanguageHandler.CreateOneLineEditor(mainDiv, div, this.definitionLanguage, void 0, 17.5, false);
    const submitButton = div.createEl("button", { text: "submit" });
    const onSubmit = async () => {
      this.words.push([newWordInput.value, definitionInput.value]);
      this.ReSort(this.words.length - 1);
      await this.Save(snv);
      await this.Display(snv, mainDiv);
    };
    submitButton.onclick = onSubmit;
    div.onkeydown = async (event) => {
      if (event.key === "Enter") {
        await onSubmit();
      }
    };
  }
  async DisplayList(snv, div) {
    div.createEl("p", { text: "Search in " + this.termLanguage + "?" });
    const checkbox = div.createEl("input", { type: "checkbox" });
    checkbox.checked = this.searchInConlang;
    div.createEl("p", { text: "Search term" });
    const conlangSearch = LanguageHandler.CreateOneLineEditor(div, div, this.termLanguage, this.searchTerm, 17.5, false);
    const definitionSearch = LanguageHandler.CreateOneLineEditor(div, div, this.definitionLanguage, this.searchTerm, 17.5, false);
    let prevElement = checkbox.checked ? definitionSearch : conlangSearch;
    let currentElement = checkbox.checked ? conlangSearch : definitionSearch;
    prevElement.style.width = "100%";
    currentElement.style.width = "100%";
    this.searchTerm = prevElement.value;
    prevElement.style.display = "none";
    currentElement.value = this.searchTerm;
    currentElement.style.display = "";
    const resultsDiv = div.createDiv("cfe-dictionary-grid");
    const refreshResults = () => {
      this.searchTerm = currentElement.value;
      this.searchInConlang = checkbox.checked;
      resultsDiv.empty();
      for (let i = 0; i < this.words.length; i++) {
        if (this.words[i][checkbox.checked ? 0 : 1].contains(currentElement.value)) {
          const wordDiv = resultsDiv.createDiv("cfe-dictionary-word");
          this.DisplayWord(snv, div, wordDiv, i);
        }
      }
    };
    refreshResults();
    conlangSearch.oninput = refreshResults;
    definitionSearch.oninput = refreshResults;
    checkbox.onchange = () => {
      resultsDiv.empty();
      prevElement = checkbox.checked ? definitionSearch : conlangSearch;
      currentElement = checkbox.checked ? conlangSearch : definitionSearch;
      this.searchTerm = prevElement.value;
      prevElement.style.display = "none";
      currentElement.value = this.searchTerm;
      currentElement.style.display = "";
      refreshResults();
    };
  }
  ReSort(indexOfChangedWord) {
    const changedWord = this.words.splice(indexOfChangedWord, 1)[0];
    let i = 0;
    let left = 0;
    let right = this.words.length - 1;
    while (left <= right) {
      const mid = Math.floor((left + right) / 2);
      if (this.words[mid][0] < changedWord[0]) {
        left = mid + 1;
        i = left;
      } else {
        right = mid - 1;
        i = mid;
      }
    }
    this.words.splice(i, 0, changedWord);
  }
};

// classes/story.ts
var Story = class extends CFEFile {
  MakeVertical(el) {
    el.style.writingMode = "vertical-lr";
    el.style.textOrientation = "upright";
  }
  DisplayLineEdit(mainDiv, div, line) {
    const input = LanguageHandler.CreateMultiLineEditor(mainDiv, div, this.language, line.content);
    const speaker = this.characters[line.speakerIndex];
    if (this.language !== "Color Lang") {
      input.style.backgroundColor = speaker.backgroundColor;
      input.style.color = speaker.color;
    }
    input.isVertical = this.doVertical;
    return input;
  }
  static async CreateNewFileForLayer(snv, fileType, parentFolderID, name) {
    const newStoryFile = await super.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
    newStoryFile.currentPageIndex = 0;
    newStoryFile.pages = [];
    newStoryFile.characters = [];
    newStoryFile.language = "English";
    newStoryFile.doVertical = false;
    return newStoryFile;
  }
  async Display(snv, mainDiv) {
    await super.Display(snv, mainDiv);
    this.LoadStoryUI(snv, mainDiv.createDiv("vbox"));
  }
  LoadStoryUI(snv, mainDiv) {
    mainDiv.empty();
    mainDiv.createEl("p", { text: "Go to page number:" });
    const pageSelectDiv = mainDiv.createDiv("hbox");
    const pageNumberInput = pageSelectDiv.createEl("input", { type: "text", value: "" + (this.currentPageIndex + 1) });
    pageSelectDiv.createEl("p", { text: "/" + this.pages.length });
    const goButton = pageSelectDiv.createEl("button", { text: "Go" });
    goButton.onclick = () => {
      this.currentPageIndex = parseInt(pageNumberInput.value) - 1;
      this.LoadCurrentPageEdit(snv, mainDiv);
    };
    mainDiv.createEl("p", { text: "Font Size (in px):" });
    const fontSizeInput = mainDiv.createEl("input", { type: "text" });
    fontSizeInput.value = this.fontSize ? "" + this.fontSize : "17.5";
    fontSizeInput.onchange = async () => {
      this.fontSize = parseFloat(fontSizeInput.value);
      await this.Save(snv);
      this.LoadStoryUI(snv, mainDiv);
    };
    mainDiv.createEl("p", { text: "Language:" });
    const languageInput = mainDiv.createEl("select");
    for (let i = 0; i < LanguageHandler.knownLanguages.length; i++) {
      languageInput.createEl("option", { text: LanguageHandler.knownLanguages[i], value: LanguageHandler.knownLanguages[i] });
    }
    languageInput.value = this.language;
    languageInput.onchange = async () => {
      this.language = languageInput.value;
      await this.Save(snv);
      this.LoadStoryUI(snv, mainDiv);
    };
    mainDiv.createEl("p", { text: "Vertical Text" });
    const doVerticalBox = mainDiv.createEl("input", { type: "checkbox" });
    doVerticalBox.checked = this.doVertical;
    doVerticalBox.onclick = async () => {
      this.doVertical = doVerticalBox.checked;
      await this.Save(snv);
      this.LoadStoryUI(snv, mainDiv);
    };
    this.LoadCharacterEditorUI(snv, mainDiv);
  }
  LoadCharacterEditorUI(snv, div) {
    const charEditorDiv = div.createDiv();
    charEditorDiv.className = this.doVertical ? "hbox" : "vbox";
    for (let i = 0; i < this.characters.length; i++) {
      const currentIndex = i;
      const charDiv = charEditorDiv.createDiv();
      charDiv.className = this.doVertical ? "vbox" : "hbox";
      charDiv.createEl("p", { text: "Name: " });
      const nameInput = LanguageHandler.CreateOneLineEditor(div, charDiv, this.language, this.characters[currentIndex].name, this.fontSize, this.doVertical);
      if (this.language !== "Color Lang") {
        nameInput.style.backgroundColor = this.characters[currentIndex].backgroundColor;
        nameInput.style.color = this.characters[currentIndex].color;
      }
      nameInput.onchange = async () => {
        this.characters[currentIndex].name = nameInput.value;
        await this.Save(snv);
        this.LoadStoryUI(snv, div);
      };
      if (this.doVertical) {
        nameInput.style.height = "fit-content";
      } else {
        nameInput.style.width = "fit-content";
      }
      if (this.language !== "Color Lang") {
        this.LoadCharacterColorSelectionUI(snv, div, charEditorDiv, currentIndex);
      }
    }
    const addCharButton = charEditorDiv.createEl("button", { text: "Add Character" });
    addCharButton.onclick = async () => {
      this.characters.push(new Character());
      await this.Save(snv);
      charEditorDiv.remove();
      this.LoadCharacterEditorUI(snv, div);
    };
  }
  LoadCharacterColorSelectionUI(snv, div, charEditorDiv, currentIndex) {
    const colorDiv = charEditorDiv.createDiv();
    colorDiv.className = this.doVertical ? "vbox" : "hbox";
    colorDiv.createEl("p", { text: "Text Color:" });
    const colorInput = colorDiv.createEl("input", { type: "color", value: this.characters[currentIndex].color });
    const swapButton = colorDiv.createEl("button", { text: "Swap" });
    colorInput.onchange = async () => {
      this.characters[currentIndex].color = colorInput.value;
      await this.Save(snv);
      charEditorDiv.remove();
      this.LoadCharacterEditorUI(snv, div);
    };
    colorDiv.createEl("p", { text: "Background Color:" });
    const backgroundInput = colorDiv.createEl("input", { type: "color", value: this.characters[currentIndex].backgroundColor });
    backgroundInput.onchange = async () => {
      this.characters[currentIndex].backgroundColor = backgroundInput.value;
      await this.Save(snv);
      charEditorDiv.remove();
      this.LoadCharacterEditorUI(snv, div);
    };
    swapButton.onclick = async () => {
      this.characters[currentIndex].backgroundColor = colorInput.value;
      this.characters[currentIndex].color = backgroundInput.value;
      await this.Save(snv);
      charEditorDiv.remove();
      this.LoadCharacterEditorUI(snv, div);
    };
  }
  LoadPageSelector(snv, mainDiv) {
    const buttonsDiv = mainDiv.createDiv("hbox");
    const backButton = buttonsDiv.createEl("button", { text: "-" });
    const pageNumberInput = buttonsDiv.createEl("input", { type: "text", value: "" + (this.currentPageIndex + 1) });
    buttonsDiv.createEl("p", { text: "/" + this.pages.length });
    const nextButton = buttonsDiv.createEl("button", { text: "+" });
    const deleteButton = buttonsDiv.createEl("button", { text: "Delete Page" });
    deleteButton.className = "cfe-remove-button";
    const addButton = buttonsDiv.createEl("button", { text: "Add Page" });
    const editModeButton = buttonsDiv.createEl("button", { text: "Edit Mode" });
    const viewModeButton = buttonsDiv.createEl("button", { text: "View Mode" });
    const homeButton = buttonsDiv.createEl("button", { text: "Return to Story" });
    homeButton.onclick = async () => {
      await this.LoadStoryUI(snv, mainDiv);
    };
    editModeButton.onclick = async () => {
      await this.LoadCurrentPageEdit(snv, mainDiv);
    };
    viewModeButton.onclick = async () => {
      await this.LoadCurrentPageDisplayOnly(snv, mainDiv);
    };
    backButton.onclick = async () => {
      if (this.currentPageIndex > 0) {
        this.currentPageIndex--;
        await this.LoadCurrentPageEdit(snv, mainDiv);
      }
    };
    nextButton.onclick = async () => {
      if (this.currentPageIndex < this.pages.length) {
        this.currentPageIndex++;
        await this.LoadCurrentPageEdit(snv, mainDiv);
      }
    };
    pageNumberInput.onchange = async () => {
      this.currentPageIndex = parseInt(pageNumberInput.value) - 1;
      await this.LoadCurrentPageEdit(snv, mainDiv);
    };
    deleteButton.onclick = async () => {
      this.pages.splice(this.currentPageIndex, 1);
      await this.Save(snv);
      if (this.currentPageIndex !== 0) {
        this.currentPageIndex--;
      }
      await this.LoadCurrentPageEdit(snv, mainDiv);
    };
    addButton.onclick = async () => {
      const defaultPage = new Page();
      const thisPageFileID = this.pages[this.currentPageIndex].mediaFileID;
      if (thisPageFileID !== -1 && thisPageFileID < snv.sourceFolder.fileCount) {
        defaultPage.mediaFileID = thisPageFileID;
      }
      this.pages.splice(this.currentPageIndex + 1, 0, defaultPage);
      await this.Save(snv);
      this.currentPageIndex++;
      await this.LoadCurrentPageEdit(snv, mainDiv);
    };
  }
  async LoadCurrentPageEdit(snv, mainDiv) {
    mainDiv.empty();
    this.LoadPageSelector(snv, mainDiv);
    mainDiv.createEl("p", { text: "Media File ID:" });
    const mediaFileIDInput = mainDiv.createEl("input", { type: "text" });
    const panelDiv = mainDiv.createDiv("hbox");
    const outerMediaDiv = panelDiv.createDiv("vbox");
    outerMediaDiv.style.position = "relative";
    const linesDiv = panelDiv.createDiv("vbox");
    const speakDiv = outerMediaDiv.createDiv();
    speakDiv.style.position = "absolute";
    speakDiv.style.top = "0px";
    speakDiv.style.left = "0px";
    const mediaWidthInput = outerMediaDiv.createEl("input", { type: "text" });
    mediaWidthInput.onchange = async () => {
      outerMediaDiv.style.width = mediaWidthInput.value + "%";
      linesDiv.style.width = 100 - parseInt(mediaWidthInput.value) + "%";
      this.pages[this.currentPageIndex].mediaSizePercentage = parseInt(mediaWidthInput.value);
      await this.Save(snv);
    };
    const mediaDiv = outerMediaDiv.createDiv("vbox");
    outerMediaDiv.style.width = "50%";
    mediaDiv.style.objectFit = "contain";
    linesDiv.style.width = "50%";
    linesDiv.style.maxHeight = "80vh";
    linesDiv.style.position = "sticky";
    linesDiv.style.top = "0%";
    if (this.currentPageIndex < this.pages.length) {
      const currentPage = this.pages[this.currentPageIndex];
      const mediaFileID = currentPage.mediaFileID;
      mediaFileIDInput.value = "" + currentPage.mediaFileID;
      if (mediaFileID > 0) {
        const mediaFile = await CFEFileHandler.LoadFile(snv, mediaFileID);
        await mediaFile.DisplayMediaOnly(mediaDiv, snv);
      }
      if (this.pages[this.currentPageIndex].mediaSizePercentage) {
        mediaWidthInput.value = "" + this.pages[this.currentPageIndex].mediaSizePercentage;
        outerMediaDiv.style.width = mediaWidthInput.value + "%";
        linesDiv.style.width = 100 - parseInt(mediaWidthInput.value) + "%";
      } else {
        mediaWidthInput.value = "50";
        this.pages[this.currentPageIndex].mediaSizePercentage = 50;
        await this.Save(snv);
      }
    } else {
      const defaultPage = new Page();
      const lastPage = this.currentPageIndex - 1;
      if (lastPage >= 0 && this.currentPageIndex !== 0) {
        const lastPageFileID = this.pages[lastPage].mediaFileID;
        const lastPageSize = this.pages[lastPage].mediaSizePercentage;
        defaultPage.mediaSizePercentage = lastPageSize;
        mediaWidthInput.value = "" + lastPageSize;
        outerMediaDiv.style.width = mediaWidthInput.value + "%";
        linesDiv.style.width = 100 - parseInt(mediaWidthInput.value) + "%";
        if (lastPageFileID !== -1 && lastPageFileID < snv.sourceFolder.fileCount) {
          const mediaFileID = lastPageFileID + 1;
          defaultPage.mediaFileID = mediaFileID;
          mediaFileIDInput.value = "" + mediaFileID;
          if (mediaFileID > 0) {
            const mediaFile = await CFEFileHandler.LoadFile(snv, mediaFileID);
            await mediaFile.DisplayMediaOnly(mediaDiv, snv);
          }
        }
      }
      this.pages.push(defaultPage);
      await this.Save(snv);
    }
    await this.LoadDialogueLinesEdit(snv, linesDiv, speakDiv, mainDiv);
    mediaFileIDInput.onchange = async () => {
      const currentPage = this.pages[this.currentPageIndex];
      currentPage.mediaFileID = parseInt(mediaFileIDInput.value);
      await this.Save(snv);
      const mediaFile = await CFEFileHandler.LoadFile(snv, currentPage.mediaFileID);
      await mediaFile.DisplayMediaOnly(mediaDiv, snv);
    };
  }
  async LoadCurrentPageDisplayOnly(snv, mainDiv) {
    mainDiv.empty();
    this.LoadPageSelector(snv, mainDiv);
    const panelDiv = mainDiv.createDiv("hbox");
    const outerMediaDiv = panelDiv.createDiv("vbox");
    outerMediaDiv.style.position = "relative";
    const linesDiv = panelDiv.createDiv("vbox");
    const speakDiv = outerMediaDiv.createDiv();
    speakDiv.style.position = "absolute";
    speakDiv.style.top = "0px";
    speakDiv.style.left = "0px";
    const mediaDiv = outerMediaDiv.createDiv("vbox");
    outerMediaDiv.style.width = "50%";
    mediaDiv.style.objectFit = "contain";
    linesDiv.style.width = "50%";
    linesDiv.style.maxHeight = "80vh";
    linesDiv.style.position = "sticky";
    linesDiv.style.top = "0%";
    const currentPage = this.pages[this.currentPageIndex];
    const mediaFileID = currentPage.mediaFileID;
    if (mediaFileID > 0) {
      const mediaFile = await CFEFileHandler.LoadFile(snv, mediaFileID);
      await mediaFile.DisplayMediaOnly(mediaDiv, snv);
    }
    if (this.pages[this.currentPageIndex].mediaSizePercentage) {
      const width = this.pages[this.currentPageIndex].mediaSizePercentage;
      outerMediaDiv.style.width = width + "%";
      linesDiv.style.width = 100 - width + "%";
    }
    await this.LoadDialogueLinesDisplayOnly(linesDiv, speakDiv, mainDiv);
  }
  async LoadDialogueLinesEdit(snv, linesDiv, speakDiv, cleanDiv) {
    linesDiv.empty();
    const existingLinesDiv = linesDiv.createDiv();
    existingLinesDiv.className = this.doVertical ? "hbox" : "vbox";
    if (this.doVertical) {
      existingLinesDiv.style.overflowX = "scroll";
    } else {
      existingLinesDiv.style.overflowY = "scroll";
    }
    for (let i = 0; i < this.pages[this.currentPageIndex].lines.length; i++) {
      const currentIndex = i;
      const currentLine = this.pages[this.currentPageIndex].lines[i];
      const speaker = this.characters[currentLine.speakerIndex];
      const lineDiv = existingLinesDiv.createDiv();
      lineDiv.className = this.doVertical ? "vbox" : "hbox";
      const deleteButton = lineDiv.createEl("button", { text: "-" });
      deleteButton.className = "cfe-remove-button";
      deleteButton.onclick = async () => {
        this.pages[this.currentPageIndex].lines.splice(currentIndex, 1);
        await this.Save(snv);
        await this.LoadDialogueLinesEdit(snv, linesDiv, speakDiv, cleanDiv);
      };
      if (this.doVertical) {
        this.MakeVertical(deleteButton);
      }
      const playButton = lineDiv.createEl("button", { text: "\u25B7" });
      playButton.onclick = () => {
        try {
          LanguageHandler.SpeakOrAnimate(cleanDiv, speakDiv, this.language, currentLine.content, 150, this.doVertical);
        } catch (e) {
          e.console.error();
        }
      };
      const charDropdownButton = lineDiv.createDiv();
      const charDropdownDiv = charDropdownButton.createDiv();
      charDropdownDiv.style.height = "fit-content";
      charDropdownDiv.style.width = "fit-content";
      charDropdownDiv.style.position = "relative";
      charDropdownButton.onclick = () => {
        const selectDiv = charDropdownDiv.createDiv();
        selectDiv.className = this.doVertical ? "hbox" : "vbox";
        selectDiv.style.position = "absolute";
        selectDiv.style.top = "0%";
        selectDiv.style.left = "0%";
        for (let i2 = 0; i2 < this.characters.length; i2++) {
          const currentCharIndex = i2;
          const currentChar = this.characters[currentCharIndex];
          const currentOption = selectDiv.createDiv();
          if (this.doVertical) {
            this.MakeVertical(currentOption);
          }
          if (this.language !== "Color Lang") {
            currentOption.style.backgroundColor = currentChar.backgroundColor;
            currentOption.style.color = currentChar.color;
          }
          currentOption.style.zIndex = "2";
          LanguageHandler.Display(speakDiv, currentOption, this.language, currentChar.name, this.fontSize, this.doVertical);
          currentOption.onclick = async () => {
            this.pages[this.currentPageIndex].lines[currentIndex].speakerIndex = currentCharIndex;
            await this.Save(snv);
            this.LoadDialogueLinesEdit(snv, linesDiv, speakDiv, cleanDiv);
          };
        }
      };
      const nameEl = LanguageHandler.Display(speakDiv, charDropdownDiv, this.language, this.characters[currentLine.speakerIndex].name, this.fontSize, this.doVertical);
      if (this.language !== "Color Lang") {
        nameEl.style.backgroundColor = speaker.backgroundColor;
        nameEl.style.color = speaker.color;
      }
      const lineInput = this.DisplayLineEdit(cleanDiv, lineDiv, currentLine);
      if (this.doVertical) {
        lineInput.style.height = "100%";
      } else {
        lineInput.style.width = "100%";
      }
      lineInput.onchange = async () => {
        currentLine.content = lineInput.value;
        await this.Save(snv);
      };
    }
    const addButton = existingLinesDiv.createEl("button", { text: "+" });
    addButton.onclick = async () => {
      this.pages[this.currentPageIndex].lines.push(new DialogueLine(0));
      await this.Save(snv);
      await this.LoadDialogueLinesEdit(snv, linesDiv, speakDiv, cleanDiv);
    };
  }
  async LoadDialogueLinesDisplayOnly(linesDiv, speakDiv, cleanDiv) {
    linesDiv.empty();
    const existingLinesDiv = linesDiv.createDiv();
    existingLinesDiv.className = this.doVertical ? "hbox" : "vbox";
    if (this.doVertical) {
      existingLinesDiv.style.overflowX = "scroll";
    } else {
      existingLinesDiv.style.overflowY = "scroll";
    }
    for (let i = 0; i < this.pages[this.currentPageIndex].lines.length; i++) {
      const currentLine = this.pages[this.currentPageIndex].lines[i];
      const speaker = this.characters[currentLine.speakerIndex];
      const playButton = existingLinesDiv.createEl("button", { text: "\u25B7" });
      const nameDiv = existingLinesDiv.createDiv("");
      const lineDiv = existingLinesDiv.createDiv("");
      const nameEl = LanguageHandler.Display(cleanDiv, nameDiv, this.language, speaker.name, this.fontSize, this.doVertical);
      if (this.language !== "Color Lang") {
        nameEl.style.backgroundColor = speaker.backgroundColor;
        nameEl.style.color = speaker.color;
      }
      const lineEl = LanguageHandler.Display(cleanDiv, lineDiv, this.language, currentLine.content, this.fontSize, this.doVertical);
      if (this.language !== "Color Lang") {
        lineEl.style.backgroundColor = speaker.backgroundColor;
        lineEl.style.color = speaker.color;
      }
      playButton.onclick = () => {
        try {
          LanguageHandler.SpeakOrAnimate(cleanDiv, speakDiv, this.language, currentLine.content, 150, this.doVertical);
        } catch (e) {
          e.console.error();
        }
      };
    }
  }
};
var Page = class {
  constructor() {
    this.mediaFileID = -1;
    this.lines = [];
    this.mediaSizePercentage = 50;
  }
};
var DialogueLine = class {
  constructor(speakerIndex) {
    this.speakerIndex = speakerIndex;
    this.content = "";
  }
};
var Character = class {
  constructor(name = "", color = "#FFFFFF", backgroundColor = "#000000") {
    this.name = name;
    this.color = color;
    this.backgroundColor = backgroundColor;
  }
};

// classes/storage-organizer.ts
var StorageOrganizer = class extends CFEFile {
  static async CreateNewFileForLayer(snv, fileType, parentFolderID, name) {
    const newOrganizer = await super.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
    newOrganizer.itemList = [new StoredItem(0)];
    newOrganizer.searchTerm = "";
    newOrganizer.currentItem = 0;
    return newOrganizer;
  }
  async Display(snv, div) {
    await super.Display(snv, div);
    const buttonDiv = div.createDiv("hbox");
    const searchButton = buttonDiv.createEl("button", { text: "Go Search" });
    const viewButton = buttonDiv.createEl("button", { text: "Go to Visualizer" });
    const displayDiv = div.createDiv("vbox");
    searchButton.onclick = () => {
      this.LoadSearch(snv, div, displayDiv);
    };
    viewButton.onclick = () => {
      this.itemList[this.currentItem].Display(snv, div, displayDiv, this);
    };
    this.itemList[this.currentItem].Display(snv, div, displayDiv, this);
  }
  LoadAllInnerObjects() {
    for (let i = 0; i < this.itemList.length; i++) {
      const plainObject = this.itemList[i];
      this.itemList[i] = Object.assign(new StoredItem(plainObject.id, plainObject.containerId), plainObject);
    }
    return this;
  }
  LoadSearch(snv, mainDiv, searchDiv) {
    searchDiv.empty();
    const resultsDiv = searchDiv.createDiv();
    const searchBar = searchDiv.createEl("input", { type: "text", value: this.searchTerm });
    const loadResults = (div) => {
      div.empty();
      for (let i = 0; i < this.itemList.length; i++) {
        const currentItem = this.itemList[i];
        if (currentItem.name.toLowerCase().contains(this.searchTerm.toLowerCase()) || currentItem.description.toLowerCase().contains(this.searchTerm.toLowerCase())) {
          let directions = "";
          const index = i;
          const directionsArray = currentItem.GetDirections(this.itemList);
          for (let j = 0; j < directionsArray.length; j++) {
            const currentContainer = this.itemList[directionsArray[j]];
            if (j > 0) {
              directions += " -> ";
            }
            directions += "ID: " + currentContainer.id + ", Name: " + currentContainer.name;
          }
          const itemElement = div.createEl("div", { text: directions });
          itemElement.onclick = () => {
            this.itemList[index].Display(snv, mainDiv, searchDiv, this);
          };
        }
      }
    };
    loadResults(resultsDiv);
    searchBar.oninput = async () => {
      this.searchTerm = searchBar.value;
      loadResults(resultsDiv);
    };
  }
};
var StoredItem = class {
  GetDirections(itemList) {
    const path = this.containerId === 0 ? [0] : itemList[this.containerId].GetDirections(itemList);
    path.push(this.id);
    return path;
  }
  constructor(id, containerId = 0) {
    this.containerId = containerId;
    this.id = id;
    this.name = "Unnamed";
    this.description = "description";
    this.storedIds = [];
    this.x = 150;
    this.y = 50;
    this.z = 0;
    this.width = 25;
    this.height = 25;
    this.degreesRotated = 0;
  }
  async Display(snv, mainDiv, displayDiv, organizer) {
    displayDiv.empty();
    organizer.currentItem = this.id;
    const backButton = displayDiv.createEl("button", { text: "back" });
    backButton.onclick = () => {
      organizer.itemList[this.containerId].Display(snv, mainDiv, displayDiv, organizer);
    };
    const containerDiv = displayDiv.createDiv();
    containerDiv.style.width = "40vw";
    containerDiv.style.height = "40vw";
    containerDiv.style.position = "relative";
    const longerSide = this.width > this.height ? this.width : this.height;
    const thisItem = containerDiv.createDiv();
    thisItem.style.position = "absolute";
    thisItem.style.borderStyle = "solid";
    thisItem.style.borderColor = "white";
    thisItem.style.width = this.width / longerSide * 100 + "%";
    thisItem.style.height = this.height / longerSide * 100 + "%";
    thisItem.style.left = "0%";
    thisItem.style.bottom = "0%";
    for (let i = 0; i < this.storedIds.length; i++) {
      organizer.itemList[this.storedIds[i]].DisplayWithinParent(snv, mainDiv, displayDiv, containerDiv, organizer);
    }
    const editDiv = displayDiv.createDiv();
    this.DisplayEditor(snv, mainDiv, displayDiv, editDiv, organizer);
  }
  async DisplayWithinParent(snv, mainDiv, displayDiv, parentDiv, organizer) {
    const container = organizer.itemList[this.containerId];
    const longerSide = container.width > container.height ? container.width : container.height;
    const thisItem = parentDiv.createDiv("cfe-pointer-hover");
    thisItem.style.borderStyle = "solid";
    thisItem.style.borderColor = "white";
    thisItem.style.color = "white";
    thisItem.textContent = this.name;
    thisItem.style.textAlign = "center";
    thisItem.style.alignContent = "center";
    thisItem.style.position = "absolute";
    thisItem.style.width = this.width * longerSide / 100 + "%";
    thisItem.style.height = this.height * longerSide / 100 + "%";
    thisItem.style.left = this.x + "%";
    thisItem.style.bottom = this.y + "%";
    thisItem.style.zIndex = this.z + "";
    thisItem.style.transform = "translate(-50%, 50%) rotate(" + this.degreesRotated + "deg)";
    thisItem.draggable = true;
    thisItem.style.resize = "both";
    thisItem.style.overflow = "auto";
    thisItem.onclick = async () => {
      this.Display(snv, mainDiv, displayDiv, organizer);
    };
    document.addEventListener("dragstart", (event) => {
      var _a;
      const img = new Image();
      img.src = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";
      (_a = event.dataTransfer) == null ? void 0 : _a.setDragImage(img, 0, 0);
    });
    thisItem.addEventListener("drag", (event) => {
      const rect = parentDiv.getBoundingClientRect();
      const mouseXRelativeToDiv = event.clientX - rect.left;
      const mouseYRelativeToDiv = rect.bottom - event.clientY;
      const mouseXPercentage = (mouseXRelativeToDiv / rect.width * 100).toFixed(2);
      const mouseYPercentage = (mouseYRelativeToDiv / rect.height * 100).toFixed(2);
      thisItem.style.left = mouseXPercentage + "%";
      thisItem.style.bottom = mouseYPercentage + "%";
    });
    thisItem.addEventListener("dragend", async (event) => {
      const rect = parentDiv.getBoundingClientRect();
      const mouseXRelativeToDiv = event.clientX - rect.left;
      const mouseYRelativeToDiv = rect.bottom - event.clientY;
      const mouseXPercentage = (mouseXRelativeToDiv / rect.width * 100).toFixed(2);
      const mouseYPercentage = (mouseYRelativeToDiv / rect.height * 100).toFixed(2);
      this.x = parseInt(mouseXPercentage);
      this.y = parseInt(mouseYPercentage);
      thisItem.style.left = mouseXPercentage + "%";
      thisItem.style.bottom = mouseYPercentage + "%";
      await organizer.Save(snv);
    });
  }
  async DisplayEditor(snv, mainDiv, displayDiv, editorDiv, organizer) {
    editorDiv.empty();
    const inputDiv = editorDiv.createDiv("hbox");
    inputDiv.createEl("p", { text: "ID: " + this.id });
    inputDiv.createEl("p", { text: "Name:" });
    const name = inputDiv.createEl("input", { type: "text", value: this.name });
    inputDiv.createEl("p", { text: "Description:" });
    const description = inputDiv.createEl("textarea", { text: this.description });
    inputDiv.createEl("p", { text: "Z:" });
    const z = inputDiv.createEl("input", { type: "text", value: this.z + "" });
    z.style.width = "5%";
    inputDiv.createEl("p", { text: "Rotation:" });
    const rotation = inputDiv.createEl("input", { type: "text", value: this.degreesRotated + "" });
    rotation.style.width = "5%";
    inputDiv.createEl("p", { text: "Width:" });
    const width = inputDiv.createEl("input", { type: "text", value: this.width + "" });
    width.style.width = "5%";
    inputDiv.createEl("p", { text: "Height:" });
    const height = inputDiv.createEl("input", { type: "text", value: this.height + "" });
    height.style.width = "5%";
    name.onchange = async () => {
      this.name = name.value;
      await organizer.Save(snv);
      this.DisplayEditor(snv, mainDiv, displayDiv, editorDiv, organizer);
    };
    description.onchange = async () => {
      this.description = description.value;
      await organizer.Save(snv);
      this.DisplayEditor(snv, mainDiv, displayDiv, editorDiv, organizer);
    };
    z.onchange = async () => {
      this.z = parseFloat(z.value);
      await organizer.Save(snv);
      this.DisplayEditor(snv, mainDiv, displayDiv, editorDiv, organizer);
    };
    rotation.onchange = async () => {
      this.degreesRotated = parseFloat(rotation.value);
      await organizer.Save(snv);
      this.DisplayEditor(snv, mainDiv, displayDiv, editorDiv, organizer);
    };
    width.onchange = async () => {
      this.width = parseFloat(width.value);
      await organizer.Save(snv);
      organizer.Display(snv, mainDiv);
    };
    height.onchange = async () => {
      this.height = parseFloat(height.value);
      await organizer.Save(snv);
      organizer.Display(snv, mainDiv);
    };
    const storedItemsDiv = editorDiv.createDiv("vbox");
    for (let i = 0; i < this.storedIds.length; i++) {
      const index = i;
      const currentItem = storedItemsDiv.createEl("input", { type: "text", value: this.storedIds[i] + "" });
      currentItem.onchange = async () => {
        organizer.itemList[this.storedIds[index]].id = parseInt(currentItem.value);
        this.storedIds[index] = parseInt(currentItem.value);
        await organizer.Save(snv);
        organizer.Display(snv, mainDiv);
      };
    }
    const addButton = storedItemsDiv.createEl("button", { text: "+" });
    addButton.onclick = async () => {
      const newId = organizer.itemList.length;
      organizer.itemList.push(new StoredItem(newId, this.id));
      this.storedIds.push(newId);
      await organizer.Save(snv);
      organizer.Display(snv, mainDiv);
    };
  }
};

// classes/cfe-file-handler.ts
var CFEFileHandler = class {
  static async CreateNew(snv, fileType, parentFolderID, name) {
    let newFile;
    switch (fileType) {
      case "Folder":
      default:
        newFile = await Folder.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
        break;
      case "Single Media File":
        newFile = await SingleMediaFile.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
        break;
      case "Variant Media File":
        newFile = await VariantMediaFile.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
        break;
      case "Playlist":
        newFile = await Playlist.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
        break;
      case "Story":
        newFile = await Story.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
        break;
      case "Source Folder Shortcut":
        newFile = await SourceFolderShortcut.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
        break;
      case "Conlang Dictionary":
        newFile = await ConlangDictionary.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
        break;
      case "Storage Organizer":
        newFile = await StorageOrganizer.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
        break;
    }
    await newFile.Save(snv);
    return newFile;
  }
  static async LoadFile(snv, fileID) {
    const sourceFolder = snv.sourceFolder;
    const vault = snv.vault;
    const tFile = vault.getFileByPath(sourceFolder.vaultPath + "/" + fileID + ".json");
    if (tFile === null) {
      throw Error("File could not be found at the path: " + sourceFolder.vaultPath + "/" + fileID + ".json");
    }
    const jsonData = await vault.cachedRead(tFile);
    const plainObject = JSON.parse(jsonData);
    switch (plainObject.fileType) {
      case "Folder":
      default:
        return Object.assign(new Folder(), plainObject).LoadAllInnerObjects();
      case "Single Media File":
        return Object.assign(new SingleMediaFile(), plainObject).LoadAllInnerObjects();
      case "Variant Media File":
        return Object.assign(new VariantMediaFile(), plainObject).LoadAllInnerObjects();
      case "Playlist":
        return Object.assign(new Playlist(), plainObject).LoadAllInnerObjects();
      case "Story":
        return Object.assign(new Story(), plainObject).LoadAllInnerObjects();
      case "Source Folder Shortcut":
        return Object.assign(new SourceFolderShortcut(), plainObject).LoadAllInnerObjects();
      case "Conlang Dictionary":
        return Object.assign(new ConlangDictionary(), plainObject).LoadAllInnerObjects();
      case "Storage Organizer":
        return Object.assign(new StorageOrganizer(), plainObject).LoadAllInnerObjects();
    }
  }
};
/**
 * All of the known file formats
 */
CFEFileHandler.KnownFileTypes = [
  "Folder",
  "Single Media File",
  "Variant Media File",
  "Playlist",
  "Story",
  "Source Folder Shortcut",
  "Conlang Dictionary",
  "Storage Organizer"
];

// classes/snv.ts
var SourceAndVault = class {
  constructor(sourceFolder, vault) {
    this.sourceFolder = sourceFolder;
    this.vault = vault;
  }
};

// classes/source-folder.ts
var SourceFolder = class {
  constructor() {
    this.vaultPath = "";
    this.fileCount = 0;
  }
  async Display(container, vault) {
    const snv = new SourceAndVault(this, vault);
    const notExists = vault.getFileByPath(snv.sourceFolder.vaultPath + "/0.json") === null;
    if (notExists) {
      await CFEFileHandler.CreateNew(snv, "Folder", 0, "Root Folder");
    }
    const rootFolder = await CFEFileHandler.LoadFile(snv, 0);
    await SourceFolder.Save(snv);
    await rootFolder.Save(snv);
    await rootFolder.Display(snv, container);
  }
  static async CreateOrLoadSourceFolder(vaultPath, vault) {
    vaultPath = vaultPath.endsWith("/source.json") ? vaultPath.slice(0, -12) : vaultPath;
    const exists = vault.getFileByPath(vaultPath + "/source.json") !== null;
    let newSourceFolder;
    if (exists) {
      newSourceFolder = await this.LoadExistingSource(vaultPath, vault);
    } else {
      newSourceFolder = await this.CreateNewSourceFolder(vaultPath, vault);
    }
    return newSourceFolder;
  }
  static async CreateNewSourceFolder(vaultPath, vault) {
    const newSourceFolder = new SourceFolder();
    newSourceFolder.vaultPath = vaultPath;
    newSourceFolder.fileCount = 0;
    try {
      await vault.createFolder(vaultPath);
    } finally {
      const sourcePath = (0, import_obsidian3.normalizePath)(vaultPath + "/source.json");
      await vault.adapter.write(sourcePath, "0");
    }
    return newSourceFolder;
  }
  static async LoadExistingSource(vaultPath, vault) {
    const sourceTFile = vault.getFileByPath(vaultPath + "/source.json");
    if (sourceTFile === null) {
      new import_obsidian3.Notice("Source File could not be found at the path: " + vaultPath + "/source.json");
      throw Error("Source File could not be found at the path: " + vaultPath + "/source.json");
    }
    const jsonData = await vault.cachedRead(sourceTFile);
    const plainObject = await JSON.parse(jsonData);
    const newSourceFolder = Object.assign(new SourceFolder(), plainObject);
    newSourceFolder.vaultPath = vaultPath;
    await SourceFolder.Save(new SourceAndVault(newSourceFolder, vault));
    return newSourceFolder;
  }
  /**
   * Saves the new file count
   */
  static async Save(sourceAndVault) {
    const sourceFolder = sourceAndVault.sourceFolder;
    const vault = sourceAndVault.vault;
    const tFile = vault.getFileByPath(sourceFolder.vaultPath + "/source.json");
    if (tFile === null) {
      new import_obsidian3.Notice("Source File could not be found at the path: " + sourceFolder.vaultPath + "/source.json");
      throw Error("Source File could not be found at the path: " + sourceFolder.vaultPath + "/source.json");
    }
    const jsonData = JSON.stringify(sourceFolder);
    await vault.modify(tFile, jsonData);
  }
};

// classes/custom-explorer-view.ts
var VIEW_TYPE_CUSTOM_EXPLORER = "custom-explorer-view";
var CustomExplorerView = class extends import_obsidian4.ItemView {
  constructor(leaf, path) {
    super(leaf);
    this.defaultPath = path;
  }
  getViewType() {
    return VIEW_TYPE_CUSTOM_EXPLORER;
  }
  getDisplayText() {
    return "Example view";
  }
  async onOpen() {
    const wrapper = this.containerEl.children[1];
    wrapper.empty();
    const mainContainer = wrapper.createDiv("cfe-main-display");
    const homePage = mainContainer.createDiv("cfe-home-page");
    homePage.createEl("h4", { text: "Path to Source Folder:" });
    const existingSourcePathInput = homePage.createEl("input", { type: "text", value: this.defaultPath });
    existingSourcePathInput.style.width = "100%";
    const submitButton = homePage.createEl("button", { text: "submit" });
    const vault = this.app.vault;
    submitButton.onclick = async () => {
      const path = existingSourcePathInput.value;
      const sf = await SourceFolder.CreateOrLoadSourceFolder(path, vault);
      await sf.Display(mainContainer, vault);
    };
    homePage.onkeydown = async (keyPressEvent) => {
      if (keyPressEvent.key === "Enter") {
        const path = existingSourcePathInput.value;
        const sf = await SourceFolder.CreateOrLoadSourceFolder(path, vault);
        await sf.Display(mainContainer, vault);
      }
    };
  }
  async onClose() {
  }
};

// main.ts
var import_obsidian5 = require("obsidian");
var DEFAULT_SETTINGS = {
  defaultPath: "Source Folder"
};
var CFE = class extends import_obsidian5.Plugin {
  async onload() {
    await this.loadSettings();
    this.registerView(
      VIEW_TYPE_CUSTOM_EXPLORER,
      (leaf) => new CustomExplorerView(leaf, this.settings.defaultPath)
    );
    this.addRibbonIcon("folder", "Activate view", () => {
      this.activateView(VIEW_TYPE_CUSTOM_EXPLORER);
    });
    this.addCommand({
      id: "open-cfe-view",
      name: "Open Custom File Explorer View",
      callback: () => {
        this.activateView(VIEW_TYPE_CUSTOM_EXPLORER);
      }
    });
    this.addCommand({
      id: "sample-editor-command",
      name: "Sample editor command",
      editorCallback: (editor, view) => {
        console.log(editor.getSelection());
        editor.replaceSelection("Sample Editor Command");
      }
    });
    this.addSettingTab(new SampleSettingTab(this.app, this));
    this.registerDomEvent(document, "click", (evt) => {
      console.log("click", evt);
    });
    this.registerInterval(window.setInterval(() => console.log("setInterval"), 5 * 60 * 1e3));
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async activateView(view_type) {
    const { workspace } = this.app;
    let leaf = null;
    leaf = workspace.getLeaf("tab");
    if (leaf === null) {
      new import_obsidian5.Notice("Failed to create view: workspace leaf was null");
      return;
    }
    await leaf.setViewState({ type: view_type, active: true });
    workspace.revealLeaf(leaf);
  }
};
var SampleSettingTab = class extends import_obsidian5.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian5.Setting(containerEl).setName("Default Source Path").setDesc("The vault path to automatically fill in for the source path").addText((text) => text.setPlaceholder("Default Source Path").setValue(this.plugin.settings.defaultPath).onChange(async (value) => {
      this.plugin.settings.defaultPath = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJjbGFzc2VzL2N1c3RvbS1leHBsb3Jlci12aWV3LnRzIiwgImNsYXNzZXMvc291cmNlLWZvbGRlci50cyIsICJjbGFzc2VzL2NmZS1maWxlLnRzIiwgImNsYXNzZXMvc2luZ2xlLW1lZGlhLWZpbGUudHMiLCAiY2xhc3Nlcy9yZWFsLWZpbGUudHMiLCAiY2xhc3Nlcy9mb2xkZXIudHMiLCAiY2xhc3Nlcy9wbGF5bGlzdC50cyIsICJjbGFzc2VzL3ZhcmlhbnQtbWVkaWEtZmlsZS50cyIsICJjbGFzc2VzL3NvdXJjZS1mb2xkZXItc2hvcnRjdXQudHMiLCAiY2xhc3Nlcy9jb25sYW5ncy9sYW5ndWFnZS50cyIsICJjbGFzc2VzL2NvbmxhbmdzL2h3YXl1LnRzIiwgImNsYXNzZXMvY29ubGFuZ3MvZW5nbGlzaC50cyIsICJjbGFzc2VzL2NvbmxhbmdzL2NvbG9ybGFuZy50cyIsICJjbGFzc2VzL2NvbmxhbmdzL2xhbmd1YWdlLWhhbmRsZXIudHMiLCAiY2xhc3Nlcy9jb25sYW5nLWRpY3Rpb25hcnkudHMiLCAiY2xhc3Nlcy9zdG9yeS50cyIsICJjbGFzc2VzL3N0b3JhZ2Utb3JnYW5pemVyLnRzIiwgImNsYXNzZXMvY2ZlLWZpbGUtaGFuZGxlci50cyIsICJjbGFzc2VzL3Nudi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQ3VzdG9tRXhwbG9yZXJWaWV3LCBWSUVXX1RZUEVfQ1VTVE9NX0VYUExPUkVSIH0gZnJvbSAnY2xhc3Nlcy9jdXN0b20tZXhwbG9yZXItdmlldyc7XG5pbXBvcnQgeyBBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3LCBOb3RpY2UsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZywgV29ya3NwYWNlTGVhZiB9IGZyb20gJ29ic2lkaWFuJztcblxuLy8gUmVtZW1iZXIgdG8gcmVuYW1lIHRoZXNlIGNsYXNzZXMgYW5kIGludGVyZmFjZXMhXG5cbmludGVyZmFjZSBDRkVDZXR0aW5ncyB7XG5cdGRlZmF1bHRQYXRoOiBzdHJpbmc7XG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IENGRUNldHRpbmdzID0ge1xuXHRkZWZhdWx0UGF0aDogJ1NvdXJjZSBGb2xkZXInXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENGRSBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBDRkVDZXR0aW5ncztcblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuXHRcdHRoaXMucmVnaXN0ZXJWaWV3KFxuXHRcdFx0VklFV19UWVBFX0NVU1RPTV9FWFBMT1JFUixcblx0XHRcdChsZWFmKSA9PiBuZXcgQ3VzdG9tRXhwbG9yZXJWaWV3KGxlYWYsIHRoaXMuc2V0dGluZ3MuZGVmYXVsdFBhdGgpXG5cdFx0KTtcblxuXHRcdHRoaXMuYWRkUmliYm9uSWNvbignZm9sZGVyJywgJ0FjdGl2YXRlIHZpZXcnLCAoKSA9PiB7XG5cdFx0XHR0aGlzLmFjdGl2YXRlVmlldyhWSUVXX1RZUEVfQ1VTVE9NX0VYUExPUkVSKTtcblx0XHR9KTtcblxuXHRcdC8vIFRoaXMgYWRkcyBhIHNpbXBsZSBjb21tYW5kIHRoYXQgY2FuIGJlIHRyaWdnZXJlZCBhbnl3aGVyZVxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ29wZW4tY2ZlLXZpZXcnLFxuXHRcdFx0bmFtZTogJ09wZW4gQ3VzdG9tIEZpbGUgRXhwbG9yZXIgVmlldycsXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHR0aGlzLmFjdGl2YXRlVmlldyhWSUVXX1RZUEVfQ1VTVE9NX0VYUExPUkVSKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHQvLyBUaGlzIGFkZHMgYW4gZWRpdG9yIGNvbW1hbmQgdGhhdCBjYW4gcGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvbiB0aGUgY3VycmVudCBlZGl0b3IgaW5zdGFuY2Vcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdzYW1wbGUtZWRpdG9yLWNvbW1hbmQnLFxuXHRcdFx0bmFtZTogJ1NhbXBsZSBlZGl0b3IgY29tbWFuZCcsXG5cdFx0XHRlZGl0b3JDYWxsYmFjazogKGVkaXRvcjogRWRpdG9yLCB2aWV3OiBNYXJrZG93blZpZXcpID0+IHtcblx0XHRcdFx0Y29uc29sZS5sb2coZWRpdG9yLmdldFNlbGVjdGlvbigpKTtcblx0XHRcdFx0ZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24oJ1NhbXBsZSBFZGl0b3IgQ29tbWFuZCcpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gVGhpcyBhZGRzIGEgc2V0dGluZ3MgdGFiIHNvIHRoZSB1c2VyIGNhbiBjb25maWd1cmUgdmFyaW91cyBhc3BlY3RzIG9mIHRoZSBwbHVnaW5cblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IFNhbXBsZVNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblxuXHRcdC8vIElmIHRoZSBwbHVnaW4gaG9va3MgdXAgYW55IGdsb2JhbCBET00gZXZlbnRzIChvbiBwYXJ0cyBvZiB0aGUgYXBwIHRoYXQgZG9lc24ndCBiZWxvbmcgdG8gdGhpcyBwbHVnaW4pXG5cdFx0Ly8gVXNpbmcgdGhpcyBmdW5jdGlvbiB3aWxsIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lciB3aGVuIHRoaXMgcGx1Z2luIGlzIGRpc2FibGVkLlxuXHRcdHRoaXMucmVnaXN0ZXJEb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJywgKGV2dDogTW91c2VFdmVudCkgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coJ2NsaWNrJywgZXZ0KTtcblx0XHR9KTtcblxuXHRcdC8vIFdoZW4gcmVnaXN0ZXJpbmcgaW50ZXJ2YWxzLCB0aGlzIGZ1bmN0aW9uIHdpbGwgYXV0b21hdGljYWxseSBjbGVhciB0aGUgaW50ZXJ2YWwgd2hlbiB0aGUgcGx1Z2luIGlzIGRpc2FibGVkLlxuXHRcdHRoaXMucmVnaXN0ZXJJbnRlcnZhbCh3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4gY29uc29sZS5sb2coJ3NldEludGVydmFsJyksIDUgKiA2MCAqIDEwMDApKTtcblx0fVxuXG5cdG9udW5sb2FkKCkge1xuXG5cdH1cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxuXG5cdGFzeW5jIGFjdGl2YXRlVmlldyh2aWV3X3R5cGU6IHN0cmluZykge1xuXHRcdGNvbnN0IHsgd29ya3NwYWNlIH0gPSB0aGlzLmFwcDtcblxuXHRcdGxldCBsZWFmOiBXb3Jrc3BhY2VMZWFmIHwgbnVsbCA9IG51bGw7XG5cblx0XHRsZWFmID0gd29ya3NwYWNlLmdldExlYWYoJ3RhYicpO1xuXHRcdGlmIChsZWFmID09PSBudWxsKSB7XG5cdFx0XHRuZXcgTm90aWNlKFwiRmFpbGVkIHRvIGNyZWF0ZSB2aWV3OiB3b3Jrc3BhY2UgbGVhZiB3YXMgbnVsbFwiKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0YXdhaXQgbGVhZi5zZXRWaWV3U3RhdGUoeyB0eXBlOiB2aWV3X3R5cGUsIGFjdGl2ZTogdHJ1ZSB9KTtcblxuXHRcdC8vIFwiUmV2ZWFsXCIgdGhlIGxlYWYgaW4gY2FzZSBpdCBpcyBpbiBhIGNvbGxhcHNlZCBzaWRlYmFyXG5cdFx0d29ya3NwYWNlLnJldmVhbExlYWYobGVhZik7XG5cdH1cbn1cblxuY2xhc3MgU2FtcGxlU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuXHRwbHVnaW46IENGRTtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBDRkUpIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHtjb250YWluZXJFbH0gPSB0aGlzO1xuXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ0RlZmF1bHQgU291cmNlIFBhdGgnKVxuXHRcdFx0LnNldERlc2MoJ1RoZSB2YXVsdCBwYXRoIHRvIGF1dG9tYXRpY2FsbHkgZmlsbCBpbiBmb3IgdGhlIHNvdXJjZSBwYXRoJylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0RlZmF1bHQgU291cmNlIFBhdGgnKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdFBhdGgpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0UGF0aCA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBJdGVtVmlldywgV29ya3NwYWNlTGVhZiB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IFNvdXJjZUZvbGRlciB9IGZyb20gJy4vc291cmNlLWZvbGRlcic7XG5cbmV4cG9ydCBjb25zdCBWSUVXX1RZUEVfQ1VTVE9NX0VYUExPUkVSID0gJ2N1c3RvbS1leHBsb3Jlci12aWV3JztcblxuZXhwb3J0IGNsYXNzIEN1c3RvbUV4cGxvcmVyVmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcblx0ZGVmYXVsdFBhdGg6IHN0cmluZztcblx0Y29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgcGF0aDogc3RyaW5nKSB7XG5cdFx0c3VwZXIobGVhZik7XG5cdFx0dGhpcy5kZWZhdWx0UGF0aCA9IHBhdGg7XG5cdH1cblxuXHRnZXRWaWV3VHlwZSgpIHtcblx0XHRyZXR1cm4gVklFV19UWVBFX0NVU1RPTV9FWFBMT1JFUjtcblx0fVxuXG5cdGdldERpc3BsYXlUZXh0KCkge1xuXHRcdHJldHVybiAnRXhhbXBsZSB2aWV3Jztcblx0fVxuXG5cdGFzeW5jIG9uT3BlbigpIHtcblx0XHRjb25zdCB3cmFwcGVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXTtcblx0XHR3cmFwcGVyLmVtcHR5KCk7XG5cdFx0Y29uc3QgbWFpbkNvbnRhaW5lciA9IHdyYXBwZXIuY3JlYXRlRGl2KCdjZmUtbWFpbi1kaXNwbGF5Jyk7XG5cdFx0Y29uc3QgaG9tZVBhZ2UgPSBtYWluQ29udGFpbmVyLmNyZWF0ZURpdignY2ZlLWhvbWUtcGFnZScpO1xuXHRcdGhvbWVQYWdlLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ1BhdGggdG8gU291cmNlIEZvbGRlcjonIH0gKTtcblx0XHRjb25zdCBleGlzdGluZ1NvdXJjZVBhdGhJbnB1dCA9IGhvbWVQYWdlLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy5kZWZhdWx0UGF0aCB9ICk7XG5cdFx0ZXhpc3RpbmdTb3VyY2VQYXRoSW5wdXQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG5cdFx0Y29uc3Qgc3VibWl0QnV0dG9uID0gaG9tZVBhZ2UuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ3N1Ym1pdCcgfSApO1xuXHRcdGNvbnN0IHZhdWx0ID0gdGhpcy5hcHAudmF1bHQ7XG5cdFx0c3VibWl0QnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRjb25zdCBwYXRoID0gZXhpc3RpbmdTb3VyY2VQYXRoSW5wdXQudmFsdWU7XG5cdFx0XHRjb25zdCBzZiA9IDxTb3VyY2VGb2xkZXI+IGF3YWl0IFNvdXJjZUZvbGRlci5DcmVhdGVPckxvYWRTb3VyY2VGb2xkZXIocGF0aCwgdmF1bHQpO1xuXHRcdFx0YXdhaXQgc2YuRGlzcGxheShtYWluQ29udGFpbmVyLCB2YXVsdCk7XG5cdFx0fVxuXHRcdGhvbWVQYWdlLm9ua2V5ZG93biA9IGFzeW5jIChrZXlQcmVzc0V2ZW50KSA9PiB7XG5cdFx0XHRpZiAoa2V5UHJlc3NFdmVudC5rZXkgPT09ICdFbnRlcicpIHtcblx0XHRcdFx0Y29uc3QgcGF0aCA9IGV4aXN0aW5nU291cmNlUGF0aElucHV0LnZhbHVlO1xuXHRcdFx0XHRjb25zdCBzZiA9IGF3YWl0IFNvdXJjZUZvbGRlci5DcmVhdGVPckxvYWRTb3VyY2VGb2xkZXIocGF0aCwgdmF1bHQpO1xuXHRcdFx0XHRhd2FpdCBzZi5EaXNwbGF5KG1haW5Db250YWluZXIsIHZhdWx0KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRhc3luYyBvbkNsb3NlKCkge1xuXHRcdC8vIE5vdGhpbmcgdG8gY2xlYW4gdXAuXG5cdH1cbn1cbiIsICJpbXBvcnQgeyBub3JtYWxpemVQYXRoLCBOb3RpY2UsIFZhdWx0IH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBDRkVGaWxlSGFuZGxlciB9IGZyb20gXCIuL2NmZS1maWxlLWhhbmRsZXJcIjtcbmltcG9ydCB7IFNvdXJjZUFuZFZhdWx0IH0gZnJvbSBcIi4vc252XCI7XG5cbmV4cG9ydCBjbGFzcyBTb3VyY2VGb2xkZXIge1xuXHR2YXVsdFBhdGg6IHN0cmluZztcblx0ZmlsZUNvdW50OiBudW1iZXI7XG5cblx0cHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLnZhdWx0UGF0aCA9ICcnO1xuXHRcdHRoaXMuZmlsZUNvdW50ID0gMDtcblx0fVxuXG5cdGFzeW5jIERpc3BsYXkoY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCwgdmF1bHQ6IFZhdWx0KSB7XG5cdFx0Y29uc3Qgc252ID0gbmV3IFNvdXJjZUFuZFZhdWx0KHRoaXMsIHZhdWx0KTtcblx0XHRjb25zdCBub3RFeGlzdHMgPSB2YXVsdC5nZXRGaWxlQnlQYXRoKHNudi5zb3VyY2VGb2xkZXIudmF1bHRQYXRoICsgJy8wLmpzb24nKSA9PT0gbnVsbDtcblx0XHRpZiAobm90RXhpc3RzKSB7XG5cdFx0XHRhd2FpdCBDRkVGaWxlSGFuZGxlci5DcmVhdGVOZXcoc252LCAnRm9sZGVyJywgMCwgJ1Jvb3QgRm9sZGVyJyk7XG5cdFx0fVxuXHRcdGNvbnN0IHJvb3RGb2xkZXIgPSBhd2FpdCBDRkVGaWxlSGFuZGxlci5Mb2FkRmlsZShzbnYsIDApO1xuXHRcdGF3YWl0IFNvdXJjZUZvbGRlci5TYXZlKHNudik7XG5cdFx0YXdhaXQgcm9vdEZvbGRlci5TYXZlKHNudik7XG5cdFx0YXdhaXQgcm9vdEZvbGRlci5EaXNwbGF5KHNudiwgY29udGFpbmVyKTtcblx0fVxuXG5cdHN0YXRpYyBhc3luYyBDcmVhdGVPckxvYWRTb3VyY2VGb2xkZXIodmF1bHRQYXRoOiBzdHJpbmcsIHZhdWx0OiBWYXVsdCk6IFByb21pc2U8U291cmNlRm9sZGVyPiB7XG5cdFx0dmF1bHRQYXRoID0gdmF1bHRQYXRoLmVuZHNXaXRoKCcvc291cmNlLmpzb24nKSA/IHZhdWx0UGF0aC5zbGljZSgwLCAtMTIpIDogdmF1bHRQYXRoO1xuXHRcdGNvbnN0IGV4aXN0cyA9IHZhdWx0LmdldEZpbGVCeVBhdGgodmF1bHRQYXRoICsgJy9zb3VyY2UuanNvbicpICE9PSBudWxsO1xuXHRcdGxldCBuZXdTb3VyY2VGb2xkZXI6IFNvdXJjZUZvbGRlcjtcblx0XHRpZiAoZXhpc3RzKSB7XG5cdFx0XHRuZXdTb3VyY2VGb2xkZXIgPSBhd2FpdCB0aGlzLkxvYWRFeGlzdGluZ1NvdXJjZSh2YXVsdFBhdGgsIHZhdWx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bmV3U291cmNlRm9sZGVyID0gYXdhaXQgdGhpcy5DcmVhdGVOZXdTb3VyY2VGb2xkZXIodmF1bHRQYXRoLCB2YXVsdCk7XG5cdFx0fVxuXHRcdHJldHVybiBuZXdTb3VyY2VGb2xkZXI7XG5cdH1cblxuXHRwcml2YXRlIHN0YXRpYyBhc3luYyBDcmVhdGVOZXdTb3VyY2VGb2xkZXIodmF1bHRQYXRoOiBzdHJpbmcsIHZhdWx0OiBWYXVsdCk6IFByb21pc2U8U291cmNlRm9sZGVyPiB7XG5cdFx0Y29uc3QgbmV3U291cmNlRm9sZGVyID0gbmV3IFNvdXJjZUZvbGRlcigpO1xuXHRcdG5ld1NvdXJjZUZvbGRlci52YXVsdFBhdGggPSB2YXVsdFBhdGg7XG5cdFx0bmV3U291cmNlRm9sZGVyLmZpbGVDb3VudCA9IDA7XG5cdFx0dHJ5IHtcblx0XHRcdGF3YWl0IHZhdWx0LmNyZWF0ZUZvbGRlcih2YXVsdFBhdGgpO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRjb25zdCBzb3VyY2VQYXRoID0gbm9ybWFsaXplUGF0aCh2YXVsdFBhdGggKyAnL3NvdXJjZS5qc29uJyk7XG5cdFx0XHRhd2FpdCB2YXVsdC5hZGFwdGVyLndyaXRlKHNvdXJjZVBhdGgsICcwJyk7XG5cdFx0fVxuXHRcdHJldHVybiBuZXdTb3VyY2VGb2xkZXI7XG5cdH1cblxuXHRwcml2YXRlIHN0YXRpYyBhc3luYyBMb2FkRXhpc3RpbmdTb3VyY2UodmF1bHRQYXRoOiBzdHJpbmcsIHZhdWx0OiBWYXVsdCk6IFByb21pc2U8U291cmNlRm9sZGVyPiB7XG5cdFx0Y29uc3Qgc291cmNlVEZpbGUgPSB2YXVsdC5nZXRGaWxlQnlQYXRoKHZhdWx0UGF0aCArICcvc291cmNlLmpzb24nKTtcblx0XHRpZiAoc291cmNlVEZpbGUgPT09IG51bGwpIHtcblx0XHRcdG5ldyBOb3RpY2UoXCJTb3VyY2UgRmlsZSBjb3VsZCBub3QgYmUgZm91bmQgYXQgdGhlIHBhdGg6IFwiICsgdmF1bHRQYXRoICsgJy9zb3VyY2UuanNvbicpO1xuXHRcdFx0dGhyb3cgRXJyb3IoXCJTb3VyY2UgRmlsZSBjb3VsZCBub3QgYmUgZm91bmQgYXQgdGhlIHBhdGg6IFwiICsgdmF1bHRQYXRoICsgJy9zb3VyY2UuanNvbicpO1xuXHRcdH1cblx0XHRjb25zdCBqc29uRGF0YSA9IGF3YWl0IHZhdWx0LmNhY2hlZFJlYWQoc291cmNlVEZpbGUpO1xuXG5cdFx0Y29uc3QgcGxhaW5PYmplY3QgPSBhd2FpdCBKU09OLnBhcnNlKGpzb25EYXRhKTtcblx0XHRjb25zdCBuZXdTb3VyY2VGb2xkZXIgPSBPYmplY3QuYXNzaWduKG5ldyBTb3VyY2VGb2xkZXIoKSwgcGxhaW5PYmplY3QpO1xuXHRcdG5ld1NvdXJjZUZvbGRlci52YXVsdFBhdGggPSB2YXVsdFBhdGg7XG5cdFx0YXdhaXQgU291cmNlRm9sZGVyLlNhdmUobmV3IFNvdXJjZUFuZFZhdWx0KG5ld1NvdXJjZUZvbGRlciwgdmF1bHQpKTtcblx0XHRyZXR1cm4gbmV3U291cmNlRm9sZGVyO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNhdmVzIHRoZSBuZXcgZmlsZSBjb3VudFxuXHQgKi9cblx0c3RhdGljIGFzeW5jIFNhdmUoc291cmNlQW5kVmF1bHQ6IFNvdXJjZUFuZFZhdWx0KSB7XG5cdFx0Y29uc3Qgc291cmNlRm9sZGVyID0gc291cmNlQW5kVmF1bHQuc291cmNlRm9sZGVyO1xuXHRcdGNvbnN0IHZhdWx0ID0gc291cmNlQW5kVmF1bHQudmF1bHQ7XG5cblx0XHQvLyBGaW5kIHRoZSBmaWxlIGFuZCBjaGVjayB0aGF0IGl0IGlzbid0IG51bGxcblx0XHRjb25zdCB0RmlsZSA9IHZhdWx0LmdldEZpbGVCeVBhdGgoc291cmNlRm9sZGVyLnZhdWx0UGF0aCArICcvc291cmNlLmpzb24nKTtcblx0XHRpZiAodEZpbGUgPT09IG51bGwpIHtcblx0XHRcdG5ldyBOb3RpY2UoXCJTb3VyY2UgRmlsZSBjb3VsZCBub3QgYmUgZm91bmQgYXQgdGhlIHBhdGg6IFwiICsgc291cmNlRm9sZGVyLnZhdWx0UGF0aCArICcvc291cmNlLmpzb24nKTtcblx0XHRcdHRocm93IEVycm9yKFwiU291cmNlIEZpbGUgY291bGQgbm90IGJlIGZvdW5kIGF0IHRoZSBwYXRoOiBcIiArIHNvdXJjZUZvbGRlci52YXVsdFBhdGggKyAnL3NvdXJjZS5qc29uJyk7XG5cdFx0fVxuXG5cdFx0Y29uc3QganNvbkRhdGEgPSBKU09OLnN0cmluZ2lmeShzb3VyY2VGb2xkZXIpO1xuXHRcdGF3YWl0IHZhdWx0Lm1vZGlmeSh0RmlsZSwganNvbkRhdGEpO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgbm9ybWFsaXplUGF0aCB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgU291cmNlQW5kVmF1bHQgfSBmcm9tIFwiLi9zbnZcIjtcbmltcG9ydCB7IENGRUZpbGVIYW5kbGVyIH0gZnJvbSBcIi4vY2ZlLWZpbGUtaGFuZGxlclwiO1xuaW1wb3J0IHsgU291cmNlRm9sZGVyIH0gZnJvbSBcIi4vc291cmNlLWZvbGRlclwiO1xuaW1wb3J0IHsgRm9sZGVyIH0gZnJvbSBcIi4vZm9sZGVyXCI7XG5cbi8vI3JlZ2lvbiBGb3JtYXR0ZWQgRmlsZSBIYW5kbGVyXG4vLyNlbmRyZWdpb25cblxuLy8jcmVnaW9uIEZpbGUgVHlwZXNcbi8qKlxuICogQW4gaW50ZXJwcmV0YXRpb24gb2YganNvbiBmaWxlcyBhcyBhIFwiZmlsZVwiIG9mIGEgc3BlY2lmaWMgXCJmaWxlIGZvcm1hdFwiXG4gKiB0aGF0IGNhbiBiZSBpbnRlcnByZXRlZCBhbmQgZGlzcGxheWVkIGJ5IHRoZSBwbHVnaW4uXG4gKi9cbmV4cG9ydCBjbGFzcyBDRkVGaWxlIHtcblx0LyoqXG5cdCAqIEEgdW5pcXVlICh3aXRoaW4gdGhlIFwic291cmNlXCIgb2YgdGhlIGN1cnJlbnQgZXhwbG9yZXIpIG51bWVyaWNhbCBpZGVudGlmaWVyIGZvciB0aGUgZmlsZVxuXHQgKi9cblx0aWQ6IG51bWJlcjtcblxuXHQvKipcblx0ICogVGhlIHR5cGUgb2YgZmlsZVxuXHQgKi9cblx0ZmlsZVR5cGU6IHN0cmluZztcblxuXHQvKipcblx0ICogVGhlIG5hbWUgb2YgdGhlIGZpbGUgd2l0aGluIHRoZSBzb3VyY2Vcblx0ICovXG5cdGZpbGVOYW1lOiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIFRoZSBJRCBvZiB0aGUgcGFyZW50IGZvbGRlclxuXHQgKi9cblx0cGFyZW50Rm9sZGVySUQ6IG51bWJlcjtcblxuXHRwcml2YXRlIHN0YXRpYyByZWFkb25seSBGSUxFX05BTUVfSU5QVVRfSU5ERVggPSAwO1xuXHRwcml2YXRlIHN0YXRpYyByZWFkb25seSBQQVJFTlRfRk9MREVSX0lEX0lOUFVUX0lOREVYID0gMTtcblxuXHQvKipcblx0ICogU0hPVUxEIE5PVCBCRSBDQUxMRUQgT1VUU0lERSBPRiBDRkVGaWxlSGFuZGxlci5cblx0ICogXG5cdCAqIFVzZSBDRkVGaWxlSGFuZGxlci5DcmVhdGVOZXcoKSBpbnN0ZWFkLlxuXHQgKiBcblx0ICogQ0hJTEQgQ0xBU1NFUyBTSE9VTEQgTk9UIFdSSVRFIFRPIEEgRklMRS4gVEhJUyBJUyBET05FIElOU0lERSBPRiBDRkVGaWxlSGFuZGxlclxuXHQgKiBcblx0ICogQ0ZFRmlsZSBsYXllcjpcblx0ICogXG5cdCAqIHNldHMgdGhlIHNvdXJjZSwgaWQsIGZpbGUgdHlwZSwgZmlsZSBuYW1lLCBhbmQgcGFyZW50IGZvbGRlciBpZCBvZiB0aGUgZmlsZSBvYmplY3QuXG5cdCAqL1xuXHRzdGF0aWMgYXN5bmMgQ3JlYXRlTmV3RmlsZUZvckxheWVyKHNudjogU291cmNlQW5kVmF1bHQsIGZpbGVUeXBlOiBzdHJpbmcsIHBhcmVudEZvbGRlcklEOiBudW1iZXIsIG5hbWU6IHN0cmluZyk6IFByb21pc2U8Q0ZFRmlsZT4ge1xuXHRcdGNvbnN0IHNvdXJjZUZvbGRlciA9IHNudi5zb3VyY2VGb2xkZXI7XG5cblx0XHQvLyBTZXQgdGhlIHZhbHVlcyBvZiB0aGUgdW5maW5pc2hlZCBmaWxlXG5cdFx0Y29uc3QgdW5maW5pc2hlZEZpbGUgPSBuZXcgQ0ZFRmlsZSgpO1xuXHRcdHVuZmluaXNoZWRGaWxlLmlkID0gc291cmNlRm9sZGVyLmZpbGVDb3VudDtcblx0XHR1bmZpbmlzaGVkRmlsZS5maWxlVHlwZSA9IGZpbGVUeXBlO1xuXHRcdHVuZmluaXNoZWRGaWxlLmZpbGVOYW1lID0gbmFtZTtcblx0XHR1bmZpbmlzaGVkRmlsZS5wYXJlbnRGb2xkZXJJRCA9IHBhcmVudEZvbGRlcklEO1xuXHRcdFxuXHRcdC8vIFVwZGF0ZSB0aGUgZmlsZSBjb3VudFxuXHRcdHNvdXJjZUZvbGRlci5maWxlQ291bnQrKztcblx0XHRhd2FpdCBTb3VyY2VGb2xkZXIuU2F2ZShzbnYpO1xuXG5cdFx0Ly8gRmluZCB0aGUgcGFyZW50IGZvbGRlciBhbmQgYWRkIHRoaXMgZmlsZSB0byBpdFxuXHRcdGlmICh1bmZpbmlzaGVkRmlsZS5pZCAhPT0gdW5maW5pc2hlZEZpbGUucGFyZW50Rm9sZGVySUQpIHtcblx0XHRcdGNvbnN0IHBhcmVudEZvbGRlciA9IDxGb2xkZXI+IChhd2FpdCBDRkVGaWxlSGFuZGxlci5Mb2FkRmlsZShzbnYsIHVuZmluaXNoZWRGaWxlLnBhcmVudEZvbGRlcklEKSk7XG5cdFx0XHRwYXJlbnRGb2xkZXIuY29udGFpbmVkRmlsZUlEcy5wdXNoKHVuZmluaXNoZWRGaWxlLmlkKTtcblx0XHRcdGF3YWl0IHBhcmVudEZvbGRlci5TYXZlKHNudik7XG5cdFx0fVxuXG5cdFx0Ly8gUmV0dXJuIHRoZSB1bmZpbmlzaGVkIGZpbGUgc28gdGhlIG5leHQgbGF5ZXIgY2FuIGFkZCB0byBpdFxuXHRcdHJldHVybiB1bmZpbmlzaGVkRmlsZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBTSE9VTEQgTk9UIEJFIENBTExFRCBPVVRTSURFIE9GIENGRUZpbGVIYW5kbGVyLlxuXHQgKiBcblx0ICogVXNlIENGRUZpbGVIYW5kbGVyLkRpc3BsYXlUaHVtYm5haWwoKSBpbnN0ZWFkLlxuXHQgKiBcblx0ICogQ0ZFRmlsZSBsYXllcjpcblx0ICogXG5cdCAqIHNldHMgdGhlIHRodW1ibmFpbCBjb250YWluZXIncyBjc3MgY2xhc3MgdG8gJ2NmZS10aHVtYm5haWwnXG5cdCAqIGFuZCBmdWxseSBkaXNwbGF5cyB0aGUgZmlsZSBpZiB0aGUgdGh1bWJuYWlsIGlzIGNsaWNrZWQuXG5cdCAqL1xuXHRhc3luYyBEaXNwbGF5VGh1bWJuYWlsKHNvdXJjZUFuZFZhdWx0OiBTb3VyY2VBbmRWYXVsdCwgdGh1bWJuYWlsRGl2OiBIVE1MRGl2RWxlbWVudCwgZGlzcGxheURpdjogSFRNTERpdkVsZW1lbnQpIHtcblx0XHR0aHVtYm5haWxEaXYuY2xhc3NOYW1lID0gJ2NmZS10aHVtYm5haWwgdmJveCc7XG5cdFx0dGh1bWJuYWlsRGl2Lm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRhd2FpdCB0aGlzLkRpc3BsYXkoc291cmNlQW5kVmF1bHQsIGRpc3BsYXlEaXYpO1xuXHRcdH1cblx0XHRjb25zdCBpZFRleHQgPSB0aHVtYm5haWxEaXYuY3JlYXRlRGl2KCdoYm94Jyk7XG5cdFx0aWRUZXh0LnRleHRDb250ZW50ID0gJ0lEOiAnICsgdGhpcy5pZDtcblx0XHRpZFRleHQuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnY2VudGVyJztcblx0XHRjb25zdCBmaWxlVGV4dCA9IHRodW1ibmFpbERpdi5jcmVhdGVEaXYoJ2hib3gnKTtcblx0XHRmaWxlVGV4dC50ZXh0Q29udGVudCA9ICdGaWxlIFR5cGU6ICcgKyB0aGlzLmZpbGVUeXBlO1xuXHRcdGZpbGVUZXh0LnN0eWxlLmp1c3RpZnlDb250ZW50ID0gJ2NlbnRlcic7XG5cdFx0Y29uc3QgbmFtZVRleHQgPSB0aHVtYm5haWxEaXYuY3JlYXRlRGl2KCdoYm94Jyk7XG5cdFx0bmFtZVRleHQudGV4dENvbnRlbnQgPSAnRmlsZSBOYW1lOiAnICsgdGhpcy5maWxlTmFtZTtcblx0XHRuYW1lVGV4dC5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdjZW50ZXInO1xuXHR9XG5cdFxuXHQvKipcblx0ICogU0hPVUxEIE5PVCBCRSBDQUxMRUQgT1VUU0lERSBPRiBDRkVGaWxlSGFuZGxlci5cblx0ICogXG5cdCAqIFVzZSBDRkVGaWxlSGFuZGxlci5EaXNwbGF5KCkgaW5zdGVhZC5cblx0ICogXG5cdCAqIENGRUZpbGUgbGF5ZXI6XG5cdCAqIFxuXHQgKiBlbXB0aWVzIHRoZSBkaXNwbGF5IGNvbnRhaW5lciBwcm92aWRlZC5cblx0ICovXG5cdGFzeW5jIERpc3BsYXkoc252OiBTb3VyY2VBbmRWYXVsdCwgY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCkge1xuXHRcdGNvbnRhaW5lci5lbXB0eSgpO1xuXHRcdGNvbnN0IGhlYWRlckNvbnRhaW5lciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ2hib3gnKTtcblx0XHRjb25zdCBiYWNrQnV0dG9uID0gaGVhZGVyQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdCYWNrIHRvIHBhcmVudCBmb2xkZXInIH0gKTtcblx0XHRoZWFkZXJDb250YWluZXIuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdGaWxlIElEOiAnICsgdGhpcy5pZCB9IClcblx0XHRoZWFkZXJDb250YWluZXIuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdGaWxlIE5hbWU6ICcgfSApXG5cdFx0Y29uc3QgbmFtZUlucHV0ID0gaGVhZGVyQ29udGFpbmVyLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy5maWxlTmFtZSB9ICk7XG5cdFx0YmFja0J1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0Y29uc3QgcGFyZW50Rm9sZGVyID0gYXdhaXQgQ0ZFRmlsZUhhbmRsZXIuTG9hZEZpbGUoc252LCB0aGlzLnBhcmVudEZvbGRlcklEKTtcblx0XHRcdGlmIChwYXJlbnRGb2xkZXIgIT09IG51bGwpIHtcblx0XHRcdFx0YXdhaXQgcGFyZW50Rm9sZGVyLkRpc3BsYXkoc252LCBjb250YWluZXIpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRuYW1lSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHR0aGlzLmZpbGVOYW1lID0gbmFtZUlucHV0LnZhbHVlO1xuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFNIT1VMRCBOT1QgQkUgQ0FMTEVEIE9VVFNJREUgT0YgQ0ZFRmlsZUhhbmRsZXIuXG5cdCAqIFxuXHQgKiAoaXQgaXMgdW5saWtlbHkgdGhpcyBtZXRob2Qgd2lsbCBldmVyIGJlIG92ZXJyaWRlbiBieSBjaGlsZCBjbGFzc2VzLCBidXQgbWFraW5nIHRoaXMgJ2luYWNjZXNzaWJsZScgaXMgZm9yIGNvbnNpc3RlbmN5KVxuXHQgKiBcblx0ICogVXNlIENGRUZpbGVIYW5kbGVyLlNhdmVGaWxlKCkgaW5zdGVhZC5cblx0ICogXG5cdCAqIEZvcm1hdHRlZCBGaWxlIGxheWVyOlxuXHQgKiBcblx0ICogRGVsZXRlcyB0aGlzIGZpbGUgSUQgZnJvbSB0aGUgb3JpZ2luYWwgcGFyZW50IGZvbGRlciwgYWRkcyB0aGlzIGZpbGUgdG8gdGhlIG5ldyBwYXJlbnQgZm9sZGVyLCBhbmQgY2hhbmdlcyB0aGUgcGFyZW50IGZvbGRlciBJRFxuXHQgKi9cblx0YXN5bmMgTW92ZUZpbGUoc291cmNlQW5kVmF1bHQ6IFNvdXJjZUFuZFZhdWx0LCBuZXdQYXJlbnRGb2xkZXJJRDogbnVtYmVyKSB7XG5cdFx0Ly8gRGVsZXRlIHRoaXMgZmlsZSBpZCBmcm9tIHRoZSBvcmlnaW5hbCBwYXJlbnQgZm9sZGVyXG5cdFx0Y29uc3Qgb2xkUGFyZW50Rm9sZGVyID0gPEZvbGRlcj4gKGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNvdXJjZUFuZFZhdWx0LCB0aGlzLnBhcmVudEZvbGRlcklEKSk7XG5cdFx0Y29uc3QgaW5kZXhPZkZpbGUgPSBvbGRQYXJlbnRGb2xkZXIuY29udGFpbmVkRmlsZUlEcy5pbmRleE9mKHRoaXMuaWQpO1xuXHRcdG9sZFBhcmVudEZvbGRlci5jb250YWluZWRGaWxlSURzLnNwbGljZShpbmRleE9mRmlsZSwgMSk7XG5cdFx0b2xkUGFyZW50Rm9sZGVyLlNhdmUoc291cmNlQW5kVmF1bHQpOyAvLyB0aGlzIGNhbiBiZSBkb25lIGFzeW5jaHJvbm91c2x5IHdpdGhvdXQgYWZmZWN0aW5nIHRoZSBvdGhlcnNcblxuXHRcdC8vIEFkZCB0aGlzIGZpbGUgdG8gdGhlIG5ldyBwYXJlbnQgZm9sZGVyXG5cdFx0Y29uc3QgbmV3UGFyZW50Rm9sZGVyID0gPEZvbGRlcj4gKGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNvdXJjZUFuZFZhdWx0LCBuZXdQYXJlbnRGb2xkZXJJRCkpO1xuXHRcdG5ld1BhcmVudEZvbGRlci5jb250YWluZWRGaWxlSURzLnB1c2godGhpcy5pZCk7XG5cdFx0bmV3UGFyZW50Rm9sZGVyLlNhdmUoc291cmNlQW5kVmF1bHQpOyAvLyB0aGlzIGNhbiBiZSBkb25lIGFzeW5jaHJvbm91c2x5IHdpdGhvdXQgYWZmZWN0aW5nIHRoZSBvdGhlcnNcblxuXHRcdHRoaXMucGFyZW50Rm9sZGVySUQgPSBuZXdQYXJlbnRGb2xkZXJJRDtcblx0XHR0aGlzLlNhdmUoc291cmNlQW5kVmF1bHQpOyAvLyB0aGlzIGNhbiBiZSBkb25lIGFzeW5jaHJvbm91c2x5IHdpdGhvdXQgYWZmZWN0aW5nIHRoZSBvdGhlcnNcblx0fVxuXG5cdGFzeW5jIFNhdmUoc291cmNlQW5kVmF1bHQ6IFNvdXJjZUFuZFZhdWx0KSB7XG5cdFx0Y29uc3Qgc291cmNlRm9sZGVyID0gc291cmNlQW5kVmF1bHQuc291cmNlRm9sZGVyO1xuXHRcdGNvbnN0IHZhdWx0ID0gc291cmNlQW5kVmF1bHQudmF1bHQ7XG5cdFx0Y29uc3QgZmlsZVBhdGggPSBzb3VyY2VGb2xkZXIudmF1bHRQYXRoICsgJy8nICsgdGhpcy5pZCArICcuanNvbic7XG5cdFx0Y29uc3QganNvbkRhdGEgPSBKU09OLnN0cmluZ2lmeSh0aGlzKTtcblx0XHRjb25zdCB0RmlsZSA9IHZhdWx0LmdldEZpbGVCeVBhdGgoZmlsZVBhdGgpO1xuXHRcdGlmICh0RmlsZSA9PT0gbnVsbCkge1xuXHRcdFx0Y29uc3Qgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVQYXRoKGZpbGVQYXRoKTtcblx0XHRcdGF3YWl0IHZhdWx0LmFkYXB0ZXIud3JpdGUobm9ybWFsaXplZFBhdGgsIGpzb25EYXRhKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0YXdhaXQgdmF1bHQubW9kaWZ5KHRGaWxlLCBqc29uRGF0YSk7XG5cdH1cblxuXHRMb2FkQWxsSW5uZXJPYmplY3RzKCk6IENGRUZpbGUge1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgbm9ybWFsaXplUGF0aCwgVEZpbGUgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IFNvdXJjZUFuZFZhdWx0IH0gZnJvbSBcIi4vc252XCI7XG5pbXBvcnQgeyBSZWFsRmlsZSB9IGZyb20gXCIuL3JlYWwtZmlsZVwiO1xuXG5leHBvcnQgY2xhc3MgU2luZ2xlTWVkaWFGaWxlIGV4dGVuZHMgUmVhbEZpbGUge1xuXHRcblx0cHJpdmF0ZSBleHRlbnNpb25OYW1lOiBzdHJpbmc7XG5cdFxuXHRnZXQgbWVkaWFUeXBlKCk6IHN0cmluZyB7XG5cdFx0c3dpdGNoICh0aGlzLmV4dGVuc2lvbk5hbWUpIHtcblx0XHRcdGNhc2UgJ3BuZyc6XG5cdFx0XHRjYXNlICdqcGcnOlxuXHRcdFx0Y2FzZSAnd2VicCc6XG5cdFx0XHRjYXNlICdoZWljJzpcblx0XHRcdGNhc2UgJ2dpZic6XG5cdFx0XHRcdHJldHVybiAnSW1hZ2UnO1xuXHRcdFx0Y2FzZSAnbXA0Jzpcblx0XHRcdGNhc2UgJ01QNCc6XG5cdFx0XHRjYXNlICdtb3YnOlxuXHRcdFx0Y2FzZSAnTU9WJzpcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybiAnVmlkZW8nO1xuXHRcdH1cblx0fVxuXG5cdG92ZXJyaWRlIGFzeW5jIGdldFNyYyhzbnY6IFNvdXJjZUFuZFZhdWx0KTogUHJvbWlzZTxzdHJpbmc+IHtcblx0XHRjb25zdCBtZWRpYUZpbGUgPSBhd2FpdCB0aGlzLmdldFRGaWxlKHNudik7XG5cdFx0Y29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBzbnYudmF1bHQucmVhZEJpbmFyeShtZWRpYUZpbGUpO1xuXHRcdGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbYXJyYXlCdWZmZXJdKTtcblx0XHRjb25zdCBtZWRpYVVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cdFx0cmV0dXJuIG1lZGlhVXJsO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBnZXRURmlsZShzbnY6IFNvdXJjZUFuZFZhdWx0KTogUHJvbWlzZTxURmlsZT4ge1xuXHRcdGNvbnN0IG1lZGlhUGF0aCA9IGF3YWl0IHRoaXMuZ2V0UGF0aChzbnYpO1xuXHRcdGxldCBtZWRpYUZpbGUgPSBzbnYudmF1bHQuZ2V0RmlsZUJ5UGF0aChtZWRpYVBhdGgpO1xuXHRcdGlmIChtZWRpYUZpbGUgPT09IG51bGwpIHtcblx0XHRcdG1lZGlhRmlsZSA9IHNudi52YXVsdC5nZXRGaWxlQnlQYXRoKG1lZGlhUGF0aCArICcuJyArIHRoaXMuZXh0ZW5zaW9uTmFtZSk7XG5cdFx0XHRpZiAobWVkaWFGaWxlID09PSBudWxsKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdGaWxlIG5vdCBmb3VuZCBhdCBwYXRoOiAnICsgbWVkaWFQYXRoICsgJyBvciAnICsgbWVkaWFQYXRoICsgJy4nICsgdGhpcy5leHRlbnNpb25OYW1lKTtcblx0XHRcdH1cblx0XHRcdHNudi52YXVsdC5yZW5hbWUobWVkaWFGaWxlLCBtZWRpYVBhdGgpO1xuXHRcdH1cblx0XHRyZXR1cm4gbWVkaWFGaWxlO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBnZXRQYXRoKHNudjogU291cmNlQW5kVmF1bHQpOiBQcm9taXNlPHN0cmluZz4ge1xuXHRcdGNvbnN0IHNvdXJjZUZvbGRlciA9IHNudi5zb3VyY2VGb2xkZXI7XG5cdFx0cmV0dXJuIHNvdXJjZUZvbGRlci52YXVsdFBhdGggKyAnLycgKyB0aGlzLmlkICsgJyBBY3R1YWwgRmlsZSc7XG5cdH1cblxuXHRzdGF0aWMgb3ZlcnJpZGUgYXN5bmMgQ3JlYXRlTmV3RmlsZUZvckxheWVyKHNudjogU291cmNlQW5kVmF1bHQsIGZpbGVUeXBlOiBzdHJpbmcsIHBhcmVudEZvbGRlcklEOiBudW1iZXIsIG5hbWU6IHN0cmluZyk6IFByb21pc2U8U2luZ2xlTWVkaWFGaWxlPiB7XG5cdFx0Y29uc3QgbmV3TWVkaWFGaWxlID0gPFNpbmdsZU1lZGlhRmlsZT4gKGF3YWl0IHN1cGVyLkNyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnYsIGZpbGVUeXBlLCBwYXJlbnRGb2xkZXJJRCwgbmFtZSkpO1xuXHRcdG5ld01lZGlhRmlsZS5leHRlbnNpb25OYW1lID0gJyc7XG5cdFx0cmV0dXJuIG5ld01lZGlhRmlsZTtcblx0fVxuXG5cdG92ZXJyaWRlIGFzeW5jIERpc3BsYXkoc252OiBTb3VyY2VBbmRWYXVsdCwgY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCkge1xuXHRcdGF3YWl0IHN1cGVyLkRpc3BsYXkoc252LCBjb250YWluZXIpO1xuXG5cdFx0Y29uc3QgaW1hZ2VEaXNwbGF5Q29udGFpbmVyID0gY29udGFpbmVyLmNyZWF0ZURpdigndmJveCcpO1xuXHRcdGltYWdlRGlzcGxheUNvbnRhaW5lci5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0NoYW5nZSBmaWxlJyB9ICk7XG5cdFx0Y29uc3QgbmV3RmlsZUlucHV0ID0gaW1hZ2VEaXNwbGF5Q29udGFpbmVyLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ2ZpbGUnIH0gKTtcblxuXHRcdGF3YWl0IHRoaXMuRGlzcGxheU1lZGlhT25seShpbWFnZURpc3BsYXlDb250YWluZXIsIHNudik7XG5cdFx0XG5cdFx0bmV3RmlsZUlucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3Qgb2xkRmlsZSA9IGF3YWl0IHRoaXMuZ2V0VEZpbGUoc252KTtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRhd2FpdCBzbnYudmF1bHQuZGVsZXRlKG9sZEZpbGUpO1xuXHRcdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMuU2F2ZU5ld0ZpbGUoc252LCBuZXdGaWxlSW5wdXQpO1xuXHRcdFx0XHRcdHRoaXMuRGlzcGxheShzbnYsIGNvbnRhaW5lcik7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRjb25zb2xlLmxvZygpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgU2F2ZU5ld0ZpbGUoc252OiBTb3VyY2VBbmRWYXVsdCwgZmlsZUlucHV0OiBIVE1MSW5wdXRFbGVtZW50KSB7XG5cdFx0Y29uc3QgZmlsZUFycmF5ID0gZmlsZUlucHV0LmZpbGVzO1xuXHRcdGlmIChmaWxlQXJyYXkgPT09IG51bGwpIHtcblx0XHRcdHRocm93IEVycm9yKFwibm8gZmlsZSB3YXMgc2VsZWN0ZWRcIik7XG5cdFx0fVxuXHRcdGNvbnN0IG1lZGlhRmlsZSA9IGZpbGVBcnJheVswXTtcblx0XHRhd2FpdCB0aGlzLlNldEZpbGVUbyhzbnYsIG1lZGlhRmlsZSk7XG5cdH1cblxuXHRhc3luYyBTZXRGaWxlVG8oc252OiBTb3VyY2VBbmRWYXVsdCwgbWVkaWFGaWxlOiBGaWxlKSB7XG5cdFx0Y29uc3QgcGFydHNPZlBhdGggPSBtZWRpYUZpbGUubmFtZS5zcGxpdCgnLicpO1xuXHRcdGNvbnN0IGV4dGVuc2lvbiA9IHBhcnRzT2ZQYXRoW3BhcnRzT2ZQYXRoLmxlbmd0aCAtIDFdO1xuXHRcdHRoaXMuZmlsZU5hbWUgPSBwYXJ0c09mUGF0aFswXTtcblx0XHR0aGlzLmV4dGVuc2lvbk5hbWUgPSBleHRlbnNpb247XG5cdFx0Y29uc3QgcGF0aCA9IHNudi5zb3VyY2VGb2xkZXIudmF1bHRQYXRoICsgJy8nICsgdGhpcy5pZCArICcgQWN0dWFsIEZpbGUnO1xuXHRcdGNvbnN0IG5vcm1hbGl6ZWRQYXRoID0gbm9ybWFsaXplUGF0aChwYXRoKTtcblx0XHRhd2FpdCBzbnYudmF1bHQuYWRhcHRlci53cml0ZUJpbmFyeShub3JtYWxpemVkUGF0aCwgYXdhaXQgbWVkaWFGaWxlLmFycmF5QnVmZmVyKCkpO1xuXHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xuXHR9XG5cblx0YXN5bmMgRGlzcGxheU1lZGlhT25seShtZWRpYURpdjogSFRNTERpdkVsZW1lbnQsIHNudjogU291cmNlQW5kVmF1bHQpIHtcblx0XHRhd2FpdCBzdXBlci5EaXNwbGF5TWVkaWFPbmx5KG1lZGlhRGl2LCBzbnYpO1xuXHRcdGlmICh0aGlzLm1lZGlhVHlwZSA9PT0gJ0ltYWdlJykge1xuXHRcdFx0Y29uc3QgaW1hZ2VFbGVtZW50ID0gbWVkaWFEaXYuY3JlYXRlRWwoJ2ltZycpO1xuXHRcdFx0aW1hZ2VFbGVtZW50LnNyYyA9IGF3YWl0IHRoaXMuZ2V0U3JjKHNudik7XG5cdFx0XHRpbWFnZUVsZW1lbnQuc3R5bGUub2JqZWN0Rml0ID0gJ2NvbnRhaW4nO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zdCB2aWRlb0VsZW1lbnQgPSBtZWRpYURpdi5jcmVhdGVFbCgndmlkZW8nKTtcblx0XHRcdHZpZGVvRWxlbWVudC5zcmMgPSBhd2FpdCB0aGlzLmdldFNyYyhzbnYpO1xuXHRcdFx0dmlkZW9FbGVtZW50LmNvbnRyb2xzID0gdHJ1ZTtcblx0XHRcdHZpZGVvRWxlbWVudC5sb29wID0gdHJ1ZTtcblx0XHRcdHZpZGVvRWxlbWVudC5hdXRvcGxheSA9IHRydWU7XG5cdFx0XHR2aWRlb0VsZW1lbnQuc3R5bGUub2JqZWN0Rml0ID0gJ2NvbnRhaW4nO1xuXHRcdH1cblx0fVxufVxuIiwgImltcG9ydCB7IENGRUZpbGUgfSBmcm9tIFwiLi9jZmUtZmlsZVwiO1xyXG5pbXBvcnQgeyBTb3VyY2VBbmRWYXVsdCB9IGZyb20gXCIuL3NudlwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJlYWxGaWxlIGV4dGVuZHMgQ0ZFRmlsZSB7XHJcblx0YWJzdHJhY3QgZ2V0U3JjKHNvdXJjZUFuZFZhdWx0OiBTb3VyY2VBbmRWYXVsdCk6IFByb21pc2U8c3RyaW5nPjtcclxuXHRhc3luYyBEaXNwbGF5TWVkaWFPbmx5KG1lZGlhRGl2OiBIVE1MRGl2RWxlbWVudCwgc252OiBTb3VyY2VBbmRWYXVsdCkge1xyXG5cdFx0bWVkaWFEaXYuZW1wdHkoKTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IENGRUZpbGUgfSBmcm9tIFwiLi9jZmUtZmlsZVwiO1xuaW1wb3J0IHsgQ0ZFRmlsZUhhbmRsZXIgfSBmcm9tIFwiLi9jZmUtZmlsZS1oYW5kbGVyXCI7XG5pbXBvcnQgeyBTaW5nbGVNZWRpYUZpbGUgfSBmcm9tIFwiLi9zaW5nbGUtbWVkaWEtZmlsZVwiO1xuaW1wb3J0IHsgU291cmNlQW5kVmF1bHQgfSBmcm9tIFwiLi9zbnZcIjtcblxuLyoqXG4gKiBBIGNoaWxkIGNsYXNzIG9mIHRoZSBDRkVGaWxlIGNsYXNzLiBSZXByZXNlbnRzIGEgZm9sZGVyIHdpdGhpbiB0aGUgU291cmNlRm9sZGVyLlxuICovXG5leHBvcnQgY2xhc3MgRm9sZGVyIGV4dGVuZHMgQ0ZFRmlsZSB7XG5cdC8qKlxuXHQgKiBUaGUgSURzIG9mIGZpbGVzIGNvbnRhaW5lZCBpbiB0aGlzIGZvbGRlclxuXHQgKi9cblx0Y29udGFpbmVkRmlsZUlEczogbnVtYmVyW107XG5cblx0LyoqXG5cdCAqIEBvdmVycmlkZSBGb2xkZXIgbGF5ZXI6XG5cdCAqIFxuXHQgKiBpbml0aWFsaXplcyB0aGUgY29udGFpbmVkIGZpbGUgaWRzIGFycmF5IGZvciB0aGUgZm9sZGVyIG9iamVjdFxuXHQgKi9cblx0c3RhdGljIG92ZXJyaWRlIGFzeW5jIENyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnY6IFNvdXJjZUFuZFZhdWx0LCBmaWxlVHlwZTogc3RyaW5nLCBwYXJlbnRGb2xkZXJJRDogbnVtYmVyLCBuYW1lOiBzdHJpbmcpOiBQcm9taXNlPEZvbGRlcj4ge1xuXHRcdGNvbnN0IHVuZmluaXNoZWRGb2xkZXIgPSA8Rm9sZGVyPiAoYXdhaXQgc3VwZXIuQ3JlYXRlTmV3RmlsZUZvckxheWVyKHNudiwgZmlsZVR5cGUsIHBhcmVudEZvbGRlcklELCBuYW1lKSk7XG5cdFx0dW5maW5pc2hlZEZvbGRlci5jb250YWluZWRGaWxlSURzID0gW107XG5cdFx0cmV0dXJuIHVuZmluaXNoZWRGb2xkZXI7XG5cdH1cblxuXHRvdmVycmlkZSBhc3luYyBEaXNwbGF5KHNudjogU291cmNlQW5kVmF1bHQsIG1haW5EaXY6IEhUTUxEaXZFbGVtZW50KSB7XG5cdFx0YXdhaXQgc3VwZXIuRGlzcGxheShzbnYsIG1haW5EaXYpO1xuXHRcdGNvbnN0IGNyZWF0ZUJ1dHRvbnNEaXYgPSBtYWluRGl2LmNyZWF0ZURpdignaGJveCcpO1xuXHRcdGNvbnN0IG5ld0ZpbGVCdXR0b24gPSBjcmVhdGVCdXR0b25zRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdDcmVhdGUgTmV3IEZpbGUnIH0gKTtcblx0XHRjb25zdCBwb3BVcENvbnRhaW5lciA9IG1haW5EaXYuY3JlYXRlRGl2KCk7XG5cdFx0bmV3RmlsZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0dGhpcy5Mb2FkQ3JlYXRlRmlsZVVJKHNudiwgbWFpbkRpdiwgcG9wVXBDb250YWluZXIpO1xuXHRcdH1cblx0XHRjb25zdCBtZWRpYUZpbGVzQnV0dG9uID0gY3JlYXRlQnV0dG9uc0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnVXBsb2FkIE11bHRpcGxlIEltYWdlcyAvIFZpZGVvcycgfSApO1xuXHRcdG1lZGlhRmlsZXNCdXR0b24ub25jbGljayA9ICgpID0+IHtcblx0XHRcdHRoaXMuTG9hZEZpbGVTZWxlY3Rpb25VSShzbnYsIG1haW5EaXYsIHBvcFVwQ29udGFpbmVyKTtcblx0XHR9XG5cdFx0Y29uc3QgZm9sZGVyRGlzcGxheUNvbnRhaW5lciA9IG1haW5EaXYuY3JlYXRlRGl2KCdjZmUtZ3JpZCcpO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb250YWluZWRGaWxlSURzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBjb250YWluZWRGaWxlID0gYXdhaXQgQ0ZFRmlsZUhhbmRsZXIuTG9hZEZpbGUoc252LCB0aGlzLmNvbnRhaW5lZEZpbGVJRHNbaV0pO1xuXHRcdFx0aWYgKGNvbnRhaW5lZEZpbGUgIT09IG51bGwpIHtcblx0XHRcdFx0YXdhaXQgY29udGFpbmVkRmlsZS5EaXNwbGF5VGh1bWJuYWlsKHNudiwgZm9sZGVyRGlzcGxheUNvbnRhaW5lci5jcmVhdGVEaXYoKSwgbWFpbkRpdik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRwcml2YXRlIExvYWRDcmVhdGVGaWxlVUkoc252OiBTb3VyY2VBbmRWYXVsdCwgbWFpbkRpdjogSFRNTERpdkVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQpIHtcblx0XHRkaXYuZW1wdHkoKTtcblx0XHRjb25zdCBwb3B1cERpdiA9IGRpdi5jcmVhdGVEaXYoJ2NmZS1wb3B1cCcpO1xuXHRcdGNvbnN0IHdyYXBwZXJEaXYgPSBwb3B1cERpdi5jcmVhdGVEaXYoKTtcblx0XHR3cmFwcGVyRGl2LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcblx0XHRjb25zdCBleGl0QnV0dG9uID0gd3JhcHBlckRpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnWCcsIGNsczogJ2NmZS1yZW1vdmUtYnV0dG9uJyB9ICk7XG5cdFx0ZXhpdEJ1dHRvbi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG5cdFx0ZXhpdEJ1dHRvbi5zdHlsZS50b3AgPSAnMCUnO1xuXHRcdGV4aXRCdXR0b24uc3R5bGUucmlnaHQgPSAnMCUnO1xuXHRcdFxuXHRcdHBvcHVwRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnQ2hvb3NlIGEgRmlsZSBUeXBlIHRvIGNyZWF0ZTonIH0gKTtcblx0XHRjb25zdCBmaWxlVHlwZURyb3Bkb3duID0gcG9wdXBEaXYuY3JlYXRlRWwoJ3NlbGVjdCcpO1xuXHRcdHBvcHVwRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnRmlsZSBOYW1lOicgfSApO1xuXHRcdGNvbnN0IG5hbWVJbnB1dCA9IHBvcHVwRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogJ1VubmFtZWQnIH0gKTtcblx0XHRwb3B1cERpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ1BhcmVudCBGb2xkZXIgSUQ6JyB9ICk7XG5cdFx0Y29uc3QgcGFyZW50Rm9sZGVySURJbnB1dCA9IHBvcHVwRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogJycgKyB0aGlzLmlkIH0gKTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IENGRUZpbGVIYW5kbGVyLktub3duRmlsZVR5cGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBvcHRpb24gPSBmaWxlVHlwZURyb3Bkb3duLmNyZWF0ZUVsKCdvcHRpb24nKTtcblx0XHRcdG9wdGlvbi52YWx1ZSA9IENGRUZpbGVIYW5kbGVyLktub3duRmlsZVR5cGVzW2ldO1xuXHRcdFx0b3B0aW9uLnRleHQgPSBDRkVGaWxlSGFuZGxlci5Lbm93bkZpbGVUeXBlc1tpXTtcblx0XHRcdGZpbGVUeXBlRHJvcGRvd24ub3B0aW9ucy5hZGQob3B0aW9uKTtcblx0XHR9XG5cblx0XHRjb25zdCBzdWJtaXRCdXR0b24gPSBwb3B1cERpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQ3JlYXRlJyB9ICk7XG5cblx0XHRjb25zdCBvbkV4aXQgPSAoKSA9PiB7XG5cdFx0XHRwb3B1cERpdi5yZW1vdmUoKTtcblx0XHR9XG5cdFx0Y29uc3Qgb25TdWJtaXQgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRhd2FpdCBDRkVGaWxlSGFuZGxlci5DcmVhdGVOZXcoc252LCBmaWxlVHlwZURyb3Bkb3duLnZhbHVlLCBwYXJzZUludChwYXJlbnRGb2xkZXJJRElucHV0LnZhbHVlKSwgbmFtZUlucHV0LnZhbHVlKTtcblx0XHRcdGV4aXRCdXR0b24uY2xpY2soKTtcblx0XHRcdGNvbnN0IHJlc2V0dGVkRm9sZGVyID0gYXdhaXQgQ0ZFRmlsZUhhbmRsZXIuTG9hZEZpbGUoc252LCB0aGlzLmlkKTtcblx0XHRcdGF3YWl0IHJlc2V0dGVkRm9sZGVyLkRpc3BsYXkoc252LCBtYWluRGl2KTtcblx0XHR9XG5cdFx0ZXhpdEJ1dHRvbi5vbmNsaWNrID0gb25FeGl0O1xuXHRcdHN1Ym1pdEJ1dHRvbi5vbmNsaWNrID0gb25TdWJtaXQ7XG5cblx0XHRwb3B1cERpdi5vbmtleWRvd24gPSBhc3luYyAoZXZlbnQpID0+IHtcblx0XHRcdGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnKSB7XG5cdFx0XHRcdG9uRXhpdCgpO1xuXHRcdFx0fSBlbHNlIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicpIHtcblx0XHRcdFx0YXdhaXQgb25TdWJtaXQoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIExvYWRGaWxlU2VsZWN0aW9uVUkoc252OiBTb3VyY2VBbmRWYXVsdCwgbWFpbkRpdjogSFRNTERpdkVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQpIHtcblx0XHRkaXYuZW1wdHkoKTtcblx0XHRjb25zdCBwb3B1cERpdiA9IGRpdi5jcmVhdGVEaXYoJ2NmZS1wb3B1cCcpO1xuXHRcdGNvbnN0IHdyYXBwZXJEaXYgPSBwb3B1cERpdi5jcmVhdGVEaXYoKTtcblx0XHR3cmFwcGVyRGl2LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcblx0XHRwb3B1cERpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0Nob29zZSB5b3VyIGZpbGVzJyB9ICk7XG5cdFx0Y29uc3QgZmlsZUlucHV0ID0gcG9wdXBEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnZmlsZScgfSApO1xuXHRcdGZpbGVJbnB1dC5tdWx0aXBsZSA9IHRydWU7XG5cdFx0cG9wdXBEaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdQYXJlbnQgRm9sZGVyIElEOiAnIH0gKTtcblx0XHRjb25zdCBwYXJlbnRGb2xkZXJJRElucHV0ID0gcG9wdXBEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiAnJyArIHRoaXMuaWQgfSApO1xuXHRcdGNvbnN0IGV4aXRCdXR0b24gPSB3cmFwcGVyRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdYJywgY2xzOiAnY2ZlLXJlbW92ZS1idXR0b24nIH0gKTtcblx0XHRleGl0QnV0dG9uLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcblx0XHRleGl0QnV0dG9uLnN0eWxlLnRvcCA9ICcwJSc7XG5cdFx0ZXhpdEJ1dHRvbi5zdHlsZS5yaWdodCA9ICcwJSc7XG5cdFx0Y29uc3Qgc3VibWl0QnV0dG9uID0gcG9wdXBEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0NyZWF0ZScgfSApO1xuXHRcdFxuXHRcdGNvbnN0IG9uRXhpdCA9ICgpID0+IHtcblx0XHRcdHBvcHVwRGl2LnJlbW92ZSgpO1xuXHRcdH1cblx0XHRjb25zdCBvblN1Ym1pdCA9IGFzeW5jICgpID0+IHtcblx0XHRcdGNvbnN0IGZpbGVBcnJheSA9IGZpbGVJbnB1dC5maWxlcztcblx0XHRcdGNvbnN0IHBhcmVudEZvbGRlcklEID0gcGFyc2VJbnQocGFyZW50Rm9sZGVySURJbnB1dC52YWx1ZSk7XG5cdFx0XHRpZiAoZmlsZUFycmF5ICE9PSBudWxsKSB7XG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZUFycmF5Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0Y29uc3QgY2ZlRmlsZSA9IGF3YWl0IENGRUZpbGVIYW5kbGVyLkNyZWF0ZU5ldyhzbnYsICdTaW5nbGUgTWVkaWEgRmlsZScsIHBhcmVudEZvbGRlcklELCBmaWxlQXJyYXlbaV0ubmFtZSk7XG5cdFx0XHRcdFx0Y29uc3QgbWVkaWFGaWxlID0gT2JqZWN0LmFzc2lnbihuZXcgU2luZ2xlTWVkaWFGaWxlKCksIGNmZUZpbGUpO1xuXHRcdFx0XHRcdGF3YWl0IG1lZGlhRmlsZS5TZXRGaWxlVG8oc252LCBmaWxlQXJyYXlbaV0pO1xuXHRcdFx0XHRcdGF3YWl0IG1lZGlhRmlsZS5TYXZlKHNudik7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZXhpdEJ1dHRvbi5jbGljaygpO1xuXHRcdFx0XHRjb25zdCByZXNldHRlZEZvbGRlciA9IGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNudiwgdGhpcy5pZCk7XG5cdFx0XHRcdGF3YWl0IHJlc2V0dGVkRm9sZGVyLkRpc3BsYXkoc252LCBtYWluRGl2KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZXhpdEJ1dHRvbi5vbmNsaWNrID0gb25FeGl0O1xuXHRcdHN1Ym1pdEJ1dHRvbi5vbmNsaWNrID0gb25TdWJtaXQ7XG5cblx0XHRwb3B1cERpdi5vbmtleWRvd24gPSBhc3luYyAoZXZlbnQpID0+IHtcblx0XHRcdGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnKSB7XG5cdFx0XHRcdG9uRXhpdCgpO1xuXHRcdFx0fSBlbHNlIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicpIHtcblx0XHRcdFx0YXdhaXQgb25TdWJtaXQoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBDRkVGaWxlIH0gZnJvbSBcIi4vY2ZlLWZpbGVcIjtcbmltcG9ydCB7IENGRUZpbGVIYW5kbGVyIH0gZnJvbSBcIi4vY2ZlLWZpbGUtaGFuZGxlclwiO1xuaW1wb3J0IHsgUmVhbEZpbGUgfSBmcm9tIFwiLi9yZWFsLWZpbGVcIjtcbmltcG9ydCB7IFNvdXJjZUFuZFZhdWx0IH0gZnJvbSBcIi4vc252XCI7XG5cbmV4cG9ydCBjbGFzcyBQbGF5bGlzdCBleHRlbmRzIENGRUZpbGUge1xuXHRwcml2YXRlIGN1cnJlbnRWaWRlb0luZGV4OiBudW1iZXI7XG5cdHZpZGVvSURzOiBudW1iZXJbXTtcblxuXHRwcml2YXRlIHZpZGVvT3JkZXI6IHN0cmluZztcblxuXHRwcml2YXRlIHN0YXRpYyBnZXROZXh0VmlkZW9JREluT3JkZXIocGxheWxpc3Q6IFBsYXlsaXN0KSB7XG5cdFx0bGV0IG5leHRWaWRlb0luZGV4ID0gcGxheWxpc3QuY3VycmVudFZpZGVvSW5kZXggKyAxO1xuXHRcdGlmIChuZXh0VmlkZW9JbmRleCA+PSBwbGF5bGlzdC52aWRlb0lEcy5sZW5ndGgpIHtcblx0XHRcdG5leHRWaWRlb0luZGV4ID0gMDtcblx0XHR9XG5cdFx0cmV0dXJuIG5leHRWaWRlb0luZGV4O1xuXHR9XG5cdHByaXZhdGUgc3RhdGljIGdldE5leHRWaWRlb0lEU2h1ZmZsZWQocGxheWxpc3Q6IFBsYXlsaXN0KSB7XG5cdFx0bGV0IG5leHRWaWRlb0luZGV4ID0gTWF0aC5yYW5kb20oKSAqIHBsYXlsaXN0LnZpZGVvSURzLmxlbmd0aDtcblx0XHRuZXh0VmlkZW9JbmRleCA9IE1hdGguZmxvb3IobmV4dFZpZGVvSW5kZXgpO1xuXHRcdHJldHVybiBuZXh0VmlkZW9JbmRleDtcblx0fVxuXG5cdHByaXZhdGUgc3RhdGljIGFzeW5jIGxvYWROZXh0VmlkZW8oc291cmNlQW5kVmF1bHQ6IFNvdXJjZUFuZFZhdWx0LCBwbGF5bGlzdDogUGxheWxpc3QsIHZpZGVvRWxlbWVudDogSFRNTFZpZGVvRWxlbWVudCkge1xuXHRcdGlmIChwbGF5bGlzdC52aWRlb09yZGVyID09PSAnc2h1ZmZsZWQnKSB7XG5cdFx0XHRwbGF5bGlzdC5jdXJyZW50VmlkZW9JbmRleCA9IFBsYXlsaXN0LmdldE5leHRWaWRlb0lEU2h1ZmZsZWQocGxheWxpc3QpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwbGF5bGlzdC5jdXJyZW50VmlkZW9JbmRleCA9IFBsYXlsaXN0LmdldE5leHRWaWRlb0lESW5PcmRlcihwbGF5bGlzdCk7XG5cdFx0fVxuXHRcdGNvbnN0IG5leHRWaWRlbyA9IDxSZWFsRmlsZT4gKGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNvdXJjZUFuZFZhdWx0LCBwbGF5bGlzdC52aWRlb0lEc1twbGF5bGlzdC5jdXJyZW50VmlkZW9JbmRleF0pKTtcblxuXHRcdHZpZGVvRWxlbWVudC5zcmMgPSBhd2FpdCBuZXh0VmlkZW8uZ2V0U3JjKHNvdXJjZUFuZFZhdWx0KTtcblx0fVxuXG5cdHN0YXRpYyBvdmVycmlkZSBhc3luYyBDcmVhdGVOZXdGaWxlRm9yTGF5ZXIoc252OiBTb3VyY2VBbmRWYXVsdCwgZmlsZVR5cGU6IHN0cmluZywgcGFyZW50Rm9sZGVySUQ6IG51bWJlciwgbmFtZTogc3RyaW5nKTogUHJvbWlzZTxQbGF5bGlzdD4ge1xuXHRcdGNvbnN0IG5ld1BsYXlsaXN0RmlsZSA9IDxQbGF5bGlzdD4gKGF3YWl0IHN1cGVyLkNyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnYsIGZpbGVUeXBlLCBwYXJlbnRGb2xkZXJJRCwgbmFtZSkpO1xuXHRcdG5ld1BsYXlsaXN0RmlsZS52aWRlb0lEcyA9IFtdO1xuXHRcdHJldHVybiBuZXdQbGF5bGlzdEZpbGU7XG5cdH1cblxuXHRvdmVycmlkZSBhc3luYyBEaXNwbGF5KHNudjogU291cmNlQW5kVmF1bHQsIGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQpIHtcblx0XHRhd2FpdCBzdXBlci5EaXNwbGF5KHNudiwgY29udGFpbmVyKTtcblx0XHR0aGlzLmN1cnJlbnRWaWRlb0luZGV4ID0gMDtcblx0XHRjb25zdCB2aWRlb0Rpc3BsYXlDb250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KCdjZmUtZGlzcGxheS12aWRlbycpO1xuXHRcdGNvbnN0IHZpZGVvRWxlbWVudCA9IHZpZGVvRGlzcGxheUNvbnRhaW5lci5jcmVhdGVFbCgndmlkZW8nKTtcblx0XHRjb25zdCBidXR0b25zQ29udGFpbmVyID0gY29udGFpbmVyLmNyZWF0ZURpdignaGJveCcpO1xuXHRcdGNvbnN0IGhpZGVCdXR0b24gPSBidXR0b25zQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdoaWRlIHZpZGVvJyB9ICk7XG5cdFx0aGlkZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0aWYgKGhpZGVCdXR0b24udGV4dENvbnRlbnQgPT09ICdoaWRlIHZpZGVvJykge1xuXHRcdFx0XHRoaWRlQnV0dG9uLnRleHRDb250ZW50ID0gJ3Nob3cgdmlkZW8nO1xuXHRcdFx0XHR2aWRlb0VsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGhpZGVCdXR0b24udGV4dENvbnRlbnQgPSAnaGlkZSB2aWRlbyc7XG5cdFx0XHRcdHZpZGVvRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjb25zdCBzaHVmZmxlQnV0dG9uID0gYnV0dG9uc0NvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnc2h1ZmZsZScgfSApO1xuXHRcdHRoaXMudmlkZW9PcmRlciA9ICdpbiBvcmRlcic7XG5cdFx0c2h1ZmZsZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0aWYgKHNodWZmbGVCdXR0b24udGV4dENvbnRlbnQgPT09ICdzaHVmZmxlJykge1xuXHRcdFx0XHRzaHVmZmxlQnV0dG9uLnRleHRDb250ZW50ID0gJ2dvIGluIG9yZGVyJztcblx0XHRcdFx0dGhpcy52aWRlb09yZGVyID0gJ3NodWZmbGVkJztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNodWZmbGVCdXR0b24udGV4dENvbnRlbnQgPSAnc2h1ZmZsZSc7XG5cdFx0XHRcdHRoaXMudmlkZW9PcmRlciA9ICdpbiBvcmRlcic7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNvbnN0IG5leHRCdXR0b24gPSBidXR0b25zQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICduZXh0IHZpZGVvJyB9ICk7XG5cdFx0bmV4dEJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0YXdhaXQgUGxheWxpc3QubG9hZE5leHRWaWRlbyhzbnYsIHRoaXMsIHZpZGVvRWxlbWVudCk7XG5cdFx0fVxuXG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGZpcnN0VmlkZW8gPSA8UmVhbEZpbGU+IChhd2FpdCBDRkVGaWxlSGFuZGxlci5Mb2FkRmlsZShzbnYsIHRoaXMudmlkZW9JRHNbdGhpcy5jdXJyZW50VmlkZW9JbmRleF0pKTtcblx0XHRcdHZpZGVvRWxlbWVudC5zcmMgPSBhd2FpdCBmaXJzdFZpZGVvLmdldFNyYyhzbnYpO1xuXHRcdFx0dmlkZW9FbGVtZW50LmF1dG9wbGF5ID0gdHJ1ZTtcblx0XHRcdHZpZGVvRWxlbWVudC5jb250cm9scyA9IHRydWU7XG5cdFx0XHR2aWRlb0VsZW1lbnQub250aW1ldXBkYXRlID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRpZiAodmlkZW9FbGVtZW50LmVuZGVkKSB7XG5cdFx0XHRcdFx0YXdhaXQgUGxheWxpc3QubG9hZE5leHRWaWRlbyhzbnYsIHRoaXMsIHZpZGVvRWxlbWVudCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0Y29udGFpbmVyLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnQ2hhbmdlIGZpbGVzJyB9ICk7XG5cdFx0XHRsZXQgY291bnQgPSAwO1xuXHRcdFx0Y29uc3QgbWVkaWFJRElucHV0RGl2ID0gY29udGFpbmVyLmNyZWF0ZURpdigndmJveCcpO1xuXHRcdFx0Y29uc3QgbmV3RmlsZUJ1dHRvbiA9IGNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQWRkIEZpbGUnIH0gKTtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy52aWRlb0lEcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRjb25zdCBjdXJyZW50SW5kZXggPSBjb3VudDtcblx0XHRcdFx0Y291bnQrKztcblx0XHRcdFx0Y29uc3QgbWVkaWFJRERpdiA9IG1lZGlhSURJbnB1dERpdi5jcmVhdGVEaXYoJ2hib3gnKTtcblx0XHRcdFx0Y29uc3QgaWRJbnB1dCA9IG1lZGlhSUREaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiAnJyArIHRoaXMudmlkZW9JRHNbY3VycmVudEluZGV4XSB9ICk7XG5cdFx0XHRcdGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IG1lZGlhSUREaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ2RlbGV0ZScgfSApO1xuXHRcdFx0XHRkZWxldGVCdXR0b24ub25jbGljayA9ICgpID0+IHtcblx0XHRcdFx0XHRtZWRpYUlERGl2LnJlbW92ZSgpO1xuXHRcdFx0XHRcdHRoaXMudmlkZW9JRHMuc3BsaWNlKGN1cnJlbnRJbmRleCwgMSk7XG5cdFx0XHRcdFx0dGhpcy5EaXNwbGF5KHNudiwgY29udGFpbmVyKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZElucHV0Lm9uY2hhbmdlID0gKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMudmlkZW9JRHNbY3VycmVudEluZGV4XSA9IHBhcnNlSW50KGlkSW5wdXQudmFsdWUpO1xuXHRcdFx0XHRcdHRoaXMuU2F2ZShzbnYpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRuZXdGaWxlQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGN1cnJlbnRJbmRleCA9IGNvdW50O1xuXHRcdFx0XHRjb3VudCsrO1xuXHRcdFx0XHRjb25zdCBtZWRpYUlERGl2ID0gbWVkaWFJRElucHV0RGl2LmNyZWF0ZURpdignaGJveCcpO1xuXHRcdFx0XHRjb25zdCBpZElucHV0ID0gbWVkaWFJRERpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JyB9ICk7XG5cdFx0XHRcdGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IG1lZGlhSUREaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ2RlbGV0ZScgfSApO1xuXHRcdFx0XHRkZWxldGVCdXR0b24ub25jbGljayA9ICgpID0+IHtcblx0XHRcdFx0XHRtZWRpYUlERGl2LnJlbW92ZSgpO1xuXHRcdFx0XHRcdHRoaXMudmlkZW9JRHMuc3BsaWNlKGN1cnJlbnRJbmRleCwgMSk7XG5cdFx0XHRcdFx0dGhpcy5EaXNwbGF5KHNudiwgY29udGFpbmVyKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZElucHV0Lm9uY2hhbmdlID0gKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMudmlkZW9JRHNbY3VycmVudEluZGV4XSA9IHBhcnNlSW50KGlkSW5wdXQudmFsdWUpO1xuXHRcdFx0XHRcdHRoaXMuU2F2ZShzbnYpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG4iLCAiaW1wb3J0IHsgQ0ZFRmlsZUhhbmRsZXIgfSBmcm9tIFwiLi9jZmUtZmlsZS1oYW5kbGVyXCI7XG5pbXBvcnQgeyBSZWFsRmlsZSB9IGZyb20gXCIuL3JlYWwtZmlsZVwiO1xuaW1wb3J0IHsgU2luZ2xlTWVkaWFGaWxlIH0gZnJvbSBcIi4vc2luZ2xlLW1lZGlhLWZpbGVcIjtcbmltcG9ydCB7IFNvdXJjZUFuZFZhdWx0IH0gZnJvbSBcIi4vc252XCI7XG5cbmV4cG9ydCBjbGFzcyBWYXJpYW50TWVkaWFGaWxlIGV4dGVuZHMgUmVhbEZpbGUge1xuXG5cdHByaXZhdGUgdmFyaWFudElEczogbnVtYmVyW107XG5cblx0YXN5bmMgZ2V0U3JjKHNudjogU291cmNlQW5kVmF1bHQsIGluZGV4OiBudW1iZXIgfCBudWxsID0gbnVsbCk6IFByb21pc2U8c3RyaW5nPiB7XG5cdFx0aWYgKGluZGV4ID09PSBudWxsKSB7XG5cdFx0XHRpbmRleCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkpICogdGhpcy52YXJpYW50SURzLmxlbmd0aCk7XG5cdFx0fVxuXHRcdGNvbnN0IGNvbnRhaW5lZE1lZGlhID0gPFNpbmdsZU1lZGlhRmlsZT4gYXdhaXQgQ0ZFRmlsZUhhbmRsZXIuTG9hZEZpbGUoc252LCB0aGlzLnZhcmlhbnRJRHNbaW5kZXhdKTtcblx0XHRyZXR1cm4gYXdhaXQgY29udGFpbmVkTWVkaWEuZ2V0U3JjKHNudik7XG5cdH1cblxuXHRzdGF0aWMgb3ZlcnJpZGUgYXN5bmMgQ3JlYXRlTmV3RmlsZUZvckxheWVyKHNudjogU291cmNlQW5kVmF1bHQsIGZpbGVUeXBlOiBzdHJpbmcsIHBhcmVudEZvbGRlcklEOiBudW1iZXIsIG5hbWU6IHN0cmluZyk6IFByb21pc2U8VmFyaWFudE1lZGlhRmlsZT4ge1xuXHRcdGNvbnN0IG5ld01lZGlhRmlsZSA9IDxWYXJpYW50TWVkaWFGaWxlPiAoYXdhaXQgc3VwZXIuQ3JlYXRlTmV3RmlsZUZvckxheWVyKHNudiwgZmlsZVR5cGUsIHBhcmVudEZvbGRlcklELCBuYW1lKSk7XG5cdFx0bmV3TWVkaWFGaWxlLnZhcmlhbnRJRHMgPSBbXTtcblx0XHRyZXR1cm4gbmV3TWVkaWFGaWxlO1xuXHR9XG5cblx0b3ZlcnJpZGUgYXN5bmMgRGlzcGxheShzbnY6IFNvdXJjZUFuZFZhdWx0LCBjb250YWluZXI6IEhUTUxEaXZFbGVtZW50KSB7XG5cdFx0YXdhaXQgc3VwZXIuRGlzcGxheShzbnYsIGNvbnRhaW5lcik7XG5cblx0XHRjb25zdCBpbWFnZURpc3BsYXlDb250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KCd2Ym94Jyk7XG5cdFx0aW1hZ2VEaXNwbGF5Q29udGFpbmVyLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnQ2hhbmdlIGZpbGVzJyB9ICk7XG5cdFx0Y29uc3QgbWVkaWFJRElucHV0RGl2ID0gaW1hZ2VEaXNwbGF5Q29udGFpbmVyLmNyZWF0ZURpdigndmJveCcpO1xuXHRcdGNvbnN0IG5ld0ZpbGVCdXR0b24gPSBpbWFnZURpc3BsYXlDb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0FkZCBGaWxlJyB9ICk7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnZhcmlhbnRJRHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGN1cnJlbnRJbmRleCA9IGk7XG5cdFx0XHRjb25zdCBtZWRpYUlERGl2ID0gbWVkaWFJRElucHV0RGl2LmNyZWF0ZURpdignaGJveCcpO1xuXHRcdFx0Y29uc3QgaWRJbnB1dCA9IG1lZGlhSUREaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiAnJyArIHRoaXMudmFyaWFudElEc1tjdXJyZW50SW5kZXhdIH0gKTtcblx0XHRcdGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IG1lZGlhSUREaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ2RlbGV0ZScgfSApO1xuXHRcdFx0ZGVsZXRlQnV0dG9uLmNsYXNzTmFtZSA9ICdjZmUtcmVtb3ZlLWJ1dHRvbic7XG5cdFx0XHRkZWxldGVCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0bWVkaWFJRERpdi5yZW1vdmUoKTtcblx0XHRcdFx0dGhpcy52YXJpYW50SURzLnNwbGljZShjdXJyZW50SW5kZXgsIDEpO1xuXHRcdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdFx0YXdhaXQgdGhpcy5EaXNwbGF5KHNudiwgY29udGFpbmVyKTtcblx0XHRcdH1cblx0XHRcdGlkSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdHRoaXMudmFyaWFudElEc1tjdXJyZW50SW5kZXhdID0gcGFyc2VJbnQoaWRJbnB1dC52YWx1ZSk7XG5cdFx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xuXHRcdFx0XHRhd2FpdCB0aGlzLkRpc3BsYXkoc252LCBjb250YWluZXIpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRuZXdGaWxlQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHR0aGlzLnZhcmlhbnRJRHMucHVzaCgtMSk7XG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdGF3YWl0IHRoaXMuRGlzcGxheShzbnYsIGNvbnRhaW5lcik7XG5cdFx0fVxuXHRcdGNvbnN0IG1lZGlhRGl2ID0gaW1hZ2VEaXNwbGF5Q29udGFpbmVyLmNyZWF0ZURpdigndmJveCcpO1xuXHRcdFxuXHRcdGF3YWl0IHRoaXMuRGlzcGxheU1lZGlhT25seShtZWRpYURpdiwgc252KTtcblx0fVxuXHRhc3luYyBEaXNwbGF5TWVkaWFPbmx5KG1lZGlhRGl2OiBIVE1MRGl2RWxlbWVudCwgc252OiBTb3VyY2VBbmRWYXVsdCwgaW5kZXggPSAtMSkge1xuXHRcdC8vIFRoaXMgY2FsbCBpcyBub3QgbmVlZGVkIGJlY2F1c2UgY29udGFpbmVkTWVkaWEuRGlzcGxheU1lZGlhT25seSgpIGNhbGxzIGl0IGFueXdheVxuXHRcdC8vIGF3YWl0IHN1cGVyLkRpc3BsYXlNZWRpYU9ubHlcblx0XHRpZiAoaW5kZXggPT09IC0xKSB7XG5cdFx0XHRpbmRleCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkpICogdGhpcy52YXJpYW50SURzLmxlbmd0aCk7XG5cdFx0fVxuXHRcdGNvbnN0IGNvbnRhaW5lZE1lZGlhID0gPFNpbmdsZU1lZGlhRmlsZT4gYXdhaXQgQ0ZFRmlsZUhhbmRsZXIuTG9hZEZpbGUoc252LCB0aGlzLnZhcmlhbnRJRHNbaW5kZXhdKTtcblx0XHRhd2FpdCBjb250YWluZWRNZWRpYS5EaXNwbGF5TWVkaWFPbmx5KG1lZGlhRGl2LCBzbnYpO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgQ0ZFRmlsZSB9IGZyb20gXCIuL2NmZS1maWxlXCI7XG5pbXBvcnQgeyBTb3VyY2VBbmRWYXVsdCB9IGZyb20gXCIuL3NudlwiO1xuaW1wb3J0IHsgU291cmNlRm9sZGVyIH0gZnJvbSBcIi4vc291cmNlLWZvbGRlclwiO1xuXG4vKipcbiAqIEEgY2hpbGQgY2xhc3Mgb2YgdGhlIENGRUZpbGUgY2xhc3MuIFJlcHJlc2VudHMgYSBmb2xkZXIgd2l0aGluIHRoZSBTb3VyY2VGb2xkZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBTb3VyY2VGb2xkZXJTaG9ydGN1dCBleHRlbmRzIENGRUZpbGUge1xuXHQvKipcblx0ICogVGhlIElEcyBvZiBmaWxlcyBjb250YWluZWQgaW4gdGhpcyBmb2xkZXJcblx0ICovXG5cdHBhdGhUb090aGVyU291cmNlOiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIEBvdmVycmlkZSBGb2xkZXIgbGF5ZXI6XG5cdCAqIFxuXHQgKiBpbml0aWFsaXplcyB0aGUgY29udGFpbmVkIGZpbGUgaWRzIGFycmF5IGZvciB0aGUgZm9sZGVyIG9iamVjdFxuXHQgKi9cblx0c3RhdGljIG92ZXJyaWRlIGFzeW5jIENyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnY6IFNvdXJjZUFuZFZhdWx0LCBmaWxlVHlwZTogc3RyaW5nLCBwYXJlbnRGb2xkZXJJRDogbnVtYmVyLCBuYW1lOiBzdHJpbmcpOiBQcm9taXNlPFNvdXJjZUZvbGRlclNob3J0Y3V0PiB7XG5cdFx0Y29uc3QgdW5maW5pc2hlZEZvbGRlciA9IDxTb3VyY2VGb2xkZXJTaG9ydGN1dD4gKGF3YWl0IHN1cGVyLkNyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnYsIGZpbGVUeXBlLCBwYXJlbnRGb2xkZXJJRCwgbmFtZSkpO1xuXHRcdHVuZmluaXNoZWRGb2xkZXIucGF0aFRvT3RoZXJTb3VyY2UgPSAnJztcblx0XHRyZXR1cm4gdW5maW5pc2hlZEZvbGRlcjtcblx0fVxuXG5cdG92ZXJyaWRlIGFzeW5jIERpc3BsYXkoc252OiBTb3VyY2VBbmRWYXVsdCwgbWFpbkRpdjogSFRNTERpdkVsZW1lbnQpIHtcblx0XHRhd2FpdCBzdXBlci5EaXNwbGF5KHNudiwgbWFpbkRpdik7XG5cdFx0Y29uc3QgaW5wdXREaXYgPSBtYWluRGl2LmNyZWF0ZURpdigndmJveCcpO1xuXHRcdGlucHV0RGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnUGF0aCB0byBPdGhlciBTb3VyY2UgRm9sZGVyJyB9ICk7XG5cdFx0Y29uc3QgcGF0aElucHV0ID0gaW5wdXREaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcgfSApO1xuXHRcdGNvbnN0IGdvQnV0dG9uID0gaW5wdXREaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0dvJyB9ICk7XG5cdFx0cGF0aElucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0dGhpcy5wYXRoVG9PdGhlclNvdXJjZSA9IHBhdGhJbnB1dC52YWx1ZTtcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xuXHRcdH1cblx0XHRnb0J1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0Y29uc3Qgb3RoZXJTb3VyY2UgPSBhd2FpdCBTb3VyY2VGb2xkZXIuQ3JlYXRlT3JMb2FkU291cmNlRm9sZGVyKHRoaXMucGF0aFRvT3RoZXJTb3VyY2UsIHNudi52YXVsdCk7XG5cdFx0XHRvdGhlclNvdXJjZS5EaXNwbGF5KG1haW5EaXYsIHNudi52YXVsdCk7XG5cdFx0fVxuXHR9XG5cdH1cbiIsICJleHBvcnQgY2xhc3MgTGFuZ3VhZ2Uge1xuXHRzdGF0aWMgQ3JlYXRlT25lTGluZUVkaXRvcihjbGVhbkRpdjogSFRNTERpdkVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQsIHZhbHVlID0gJycsIGZvbnRTaXplID0gMTcuNSwgaXNWZXJ0aWNhbCA9IHRydWUpOiBDb25sYW5nT25lTGluZUVkaXRvciB7XG5cdFx0dGhyb3cgRXJyb3IoJ0RvIG5vdCBjYWxsIHRoaXMgbWV0aG9kIG9uIHRoZSBMYW5ndWFnZSBjbGFzcyBpdHNlbGYnKTtcblx0fVxuXG5cdHN0YXRpYyBDcmVhdGVNdWx0aUxpbmVFZGl0b3IoY2xlYW5EaXY6IEhUTUxEaXZFbGVtZW50LCBkaXY6IEhUTUxEaXZFbGVtZW50LCB2YWx1ZSA9ICcnLCBmb250U2l6ZSA9IDE3LjUsIGlzVmVydGljYWwgPSB0cnVlKTogQ29ubGFuZ011bHRpTGluZUVkaXRvciB7XG5cdFx0dGhyb3cgRXJyb3IoJ0RvIG5vdCBjYWxsIHRoaXMgbWV0aG9kIG9uIHRoZSBMYW5ndWFnZSBjbGFzcyBpdHNlbGYnKTtcblx0fVxuXG5cdHN0YXRpYyBEaXNwbGF5KGNsZWFuRGl2OiBIVE1MRGl2RWxlbWVudCwgZGl2OiBIVE1MRGl2RWxlbWVudCwgdmFsdWUgPSAnJywgZm9udFNpemUgPSAxNy41LCBpc1ZlcnRpY2FsID0gdHJ1ZSk6IENvbmxhbmdFbGVtZW50IHtcblx0XHR0aHJvdyBFcnJvcignRG8gbm90IGNhbGwgdGhpcyBtZXRob2Qgb24gdGhlIExhbmd1YWdlIGNsYXNzIGl0c2VsZicpO1xuXHR9XG5cblx0c3RhdGljIFNwZWFrT3JBbmltYXRlKGNsZWFuRGl2OiBIVE1MRGl2RWxlbWVudCwgZGl2OiBIVE1MRGl2RWxlbWVudCwgdmFsdWUgPSAnJywgZm9udFNpemUgPSAxNy41LCBpc1ZlcnRpY2FsID0gdHJ1ZSk6IENvbmxhbmdFbGVtZW50IHtcblx0XHR0aHJvdyBFcnJvcignRG8gbm90IGNhbGwgdGhpcyBtZXRob2Qgb24gdGhlIExhbmd1YWdlIGNsYXNzIGl0c2VsZicpO1xuXHR9XG5cbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbmxhbmdFbGVtZW50IHtcblx0cmVhbEZvbnRTaXplOiBudW1iZXI7XG5cdGFic3RyYWN0IGdldCBzdHlsZSgpOiBDU1NTdHlsZURlY2xhcmF0aW9uO1xuXHRhYnN0cmFjdCBnZXQgY2xhc3NOYW1lKCk6IHN0cmluZztcblx0YWJzdHJhY3Qgc2V0IGNsYXNzTmFtZShuZXdWYWx1ZTogc3RyaW5nKTtcblx0YWJzdHJhY3QgZ2V0IGNsYXNzTGlzdCgpOiBET01Ub2tlbkxpc3Q7XG5cdGFic3RyYWN0IGdldCB2YWx1ZSgpOiBzdHJpbmc7XG5cdGFic3RyYWN0IHNldCB2YWx1ZShuZXdWYWx1ZTogc3RyaW5nKTtcblx0YWJzdHJhY3QgZ2V0IGlzVmVydGljYWwoKTogYm9vbGVhbjtcblx0YWJzdHJhY3Qgc2V0IGlzVmVydGljYWwobmV3VmFsdWU6IGJvb2xlYW4pO1xuXHRnZXQgZm9udFNpemUoKSB7XG5cdFx0cmV0dXJuIHRoaXMucmVhbEZvbnRTaXplO1xuXHR9XG5cdHNldCBmb250U2l6ZShuZXdWYWx1ZTogbnVtYmVyKSB7XG5cdFx0dGhpcy5yZWFsRm9udFNpemUgPSBuZXdWYWx1ZTtcblx0XHR0aGlzLnN0eWxlLmZvbnRTaXplID0gbmV3VmFsdWUgKyAncHgnO1xuXHR9XG5cdG9uY2xpY2s6ICgpID0+IFByb21pc2U8dm9pZD4gfCB2b2lkID0gKCkgPT4ge1xuXHRcdHJldHVybjtcblx0fVxufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29ubGFuZ09uZUxpbmVFZGl0b3IgZXh0ZW5kcyBDb25sYW5nRWxlbWVudCB7XG5cdG9uaW5wdXQ6ICgpID0+IFByb21pc2U8dm9pZD4gfCB2b2lkID0gKCkgPT4ge1xuXHRcdHJldHVybjtcblx0fVxuXHRvbmNoYW5nZTogKCkgPT4gUHJvbWlzZTx2b2lkPiB8IHZvaWQgPSAoKSA9PiB7XG5cdFx0cmV0dXJuO1xuXHR9XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDb25sYW5nTXVsdGlMaW5lRWRpdG9yIGV4dGVuZHMgQ29ubGFuZ0VsZW1lbnQge1xuXHRvbmlucHV0OiAoKSA9PiBQcm9taXNlPHZvaWQ+IHwgdm9pZCA9ICgpID0+IHtcblx0XHRyZXR1cm47XG5cdH1cblx0b25jaGFuZ2U6ICgpID0+IFByb21pc2U8dm9pZD4gfCB2b2lkID0gKCkgPT4ge1xuXHRcdHJldHVybjtcblx0fVxufVxuIiwgImltcG9ydCB7IENvbmxhbmdFbGVtZW50LCBDb25sYW5nTXVsdGlMaW5lRWRpdG9yLCBDb25sYW5nT25lTGluZUVkaXRvciwgTGFuZ3VhZ2UgfSBmcm9tIFwiLi9sYW5ndWFnZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEh3YXl1IGV4dGVuZHMgTGFuZ3VhZ2Uge1xyXG5cdHN0YXRpYyBDcmVhdGVPbmVMaW5lRWRpdG9yKGNsZWFuRGl2OiBIVE1MRGl2RWxlbWVudCwgZGl2OiBIVE1MRGl2RWxlbWVudCwgdmFsdWUgPSAnJywgZm9udFNpemUgPSAxNy41LCBpc1ZlcnRpY2FsID0gdHJ1ZSk6IEh3YXl1T25lTGluZUVkaXRvciB7XHJcblx0XHRjb25zdCB0ZXh0RWxlbWVudCA9IG5ldyBId2F5dU9uZUxpbmVFZGl0b3IoZGl2LCB2YWx1ZSwgZm9udFNpemUsIGlzVmVydGljYWwpO1xyXG5cdFx0cmV0dXJuIHRleHRFbGVtZW50O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIENyZWF0ZU11bHRpTGluZUVkaXRvcihjbGVhbkRpdjogSFRNTERpdkVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQsIHZhbHVlID0gJycsIGZvbnRTaXplID0gMTcuNSwgaXNWZXJ0aWNhbCA9IHRydWUpOiBId2F5dU11bHRpTGluZUVkaXRvciB7XHJcblx0XHRjb25zdCB0ZXh0RWxlbWVudCA9IG5ldyBId2F5dU11bHRpTGluZUVkaXRvcihkaXYsIHZhbHVlLCBmb250U2l6ZSwgaXNWZXJ0aWNhbCk7XHJcblx0XHRyZXR1cm4gdGV4dEVsZW1lbnQ7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgRGlzcGxheShjbGVhbkRpdjogSFRNTERpdkVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQsIHZhbHVlID0gJycsIGZvbnRTaXplID0gMTcuNSwgaXNWZXJ0aWNhbCA9IHRydWUpOiBId2F5dUVsZW1lbnQge1xyXG5cdFx0Y29uc3QgdGV4dEVsZW1lbnQgPSBuZXcgSHdheXVFbGVtZW50KGRpdiwgdmFsdWUsIGZvbnRTaXplLCBpc1ZlcnRpY2FsKTtcclxuXHRcdHJldHVybiB0ZXh0RWxlbWVudDtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBId2F5dUVsZW1lbnQgZXh0ZW5kcyBDb25sYW5nRWxlbWVudCB7XHJcblx0dGV4dEVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50O1xyXG5cdHJlYWxJc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuXHRnZXQgc3R5bGUoKTogQ1NTU3R5bGVEZWNsYXJhdGlvbiB7XHJcblx0XHRyZXR1cm4gdGhpcy50ZXh0RWxlbWVudC5zdHlsZTtcclxuXHR9XHJcblx0Z2V0IHZhbHVlKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy50ZXh0RWxlbWVudC50ZXh0Q29udGVudCA/IHRoaXMudGV4dEVsZW1lbnQudGV4dENvbnRlbnQgOiAnJztcclxuXHR9XHJcblx0c2V0IHZhbHVlKG5ld1ZhbHVlOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMudGV4dEVsZW1lbnQudGV4dENvbnRlbnQgPSBuZXdWYWx1ZTtcclxuXHR9XHJcblx0Z2V0IGNsYXNzTmFtZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMudGV4dEVsZW1lbnQuY2xhc3NOYW1lO1xyXG5cdH1cclxuXHRzZXQgY2xhc3NOYW1lKG5ld1ZhbHVlOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMudGV4dEVsZW1lbnQuY2xhc3NOYW1lID0gbmV3VmFsdWU7XHJcblx0fVxyXG5cdGdldCBjbGFzc0xpc3QoKTogRE9NVG9rZW5MaXN0IHtcclxuXHRcdHJldHVybiB0aGlzLnRleHRFbGVtZW50LmNsYXNzTGlzdDtcclxuXHR9XHJcblx0Z2V0IGlzVmVydGljYWwoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5yZWFsSXNWZXJ0aWNhbDtcclxuXHR9XHJcblx0c2V0IGlzVmVydGljYWwobmV3VmFsdWU6IGJvb2xlYW4pIHtcclxuXHRcdHRoaXMucmVhbElzVmVydGljYWwgPSBuZXdWYWx1ZTtcclxuXHRcdHRoaXMuc3R5bGUuZm9udEZhbWlseSA9IG5ld1ZhbHVlID8gJ0h3YXl1UmVhbCcgOiAnSHdheXVIb3Jpem9udGFsJztcclxuXHRcdGlmIChuZXdWYWx1ZSkge1xyXG5cdFx0XHR0aGlzLnN0eWxlLndyaXRpbmdNb2RlID0gJ3ZlcnRpY2FsLWxyJztcclxuXHRcdFx0dGhpcy5zdHlsZS50ZXh0T3JpZW50YXRpb24gPSAndXByaWdodCc7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLnN0eWxlLndyaXRpbmdNb2RlID0gJ2hvcml6b250YWwtdGInO1xyXG5cdFx0XHR0aGlzLnN0eWxlLnRleHRPcmllbnRhdGlvbiA9ICd1bnNldCc7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3RvcihkaXY6IEhUTUxEaXZFbGVtZW50LCB2YWx1ZSA9ICcnLCBmb250U2l6ZSA9IDE3LjUsIGlzVmVydGljYWwgPSB0cnVlKSB7XHJcblx0XHRzdXBlcigpO1xyXG5cdFx0dGhpcy50ZXh0RWxlbWVudCA9IGRpdi5jcmVhdGVEaXYoKTtcclxuXHRcdHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuXHRcdHRoaXMuZm9udFNpemUgPSBmb250U2l6ZTtcclxuXHRcdHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblx0XHR0aGlzLnRleHRFbGVtZW50Lm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdGF3YWl0IHRoaXMub25jbGljaygpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEh3YXl1T25lTGluZUVkaXRvciBleHRlbmRzIENvbmxhbmdPbmVMaW5lRWRpdG9yIHtcclxuXHRpbnB1dEVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcblx0cmVhbElzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG5cdGdldCBzdHlsZSgpOiBDU1NTdHlsZURlY2xhcmF0aW9uIHtcclxuXHRcdHJldHVybiB0aGlzLmlucHV0RWxlbWVudC5zdHlsZTtcclxuXHR9XHJcblx0Z2V0IHZhbHVlKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbnB1dEVsZW1lbnQudmFsdWU7XHJcblx0fVxyXG5cdHNldCB2YWx1ZShuZXdWYWx1ZTogc3RyaW5nKSB7XHJcblx0XHR0aGlzLmlucHV0RWxlbWVudC52YWx1ZSA9IG5ld1ZhbHVlO1xyXG5cdH1cclxuXHRnZXQgY2xhc3NOYW1lKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbnB1dEVsZW1lbnQuY2xhc3NOYW1lO1xyXG5cdH1cclxuXHRzZXQgY2xhc3NOYW1lKG5ld1ZhbHVlOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMuaW5wdXRFbGVtZW50LmNsYXNzTmFtZSA9IG5ld1ZhbHVlO1xyXG5cdH1cclxuXHRnZXQgY2xhc3NMaXN0KCk6IERPTVRva2VuTGlzdCB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbnB1dEVsZW1lbnQuY2xhc3NMaXN0O1xyXG5cdH1cclxuXHRnZXQgaXNWZXJ0aWNhbCgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLnJlYWxJc1ZlcnRpY2FsO1xyXG5cdH1cclxuXHRzZXQgaXNWZXJ0aWNhbChuZXdWYWx1ZTogYm9vbGVhbikge1xyXG5cdFx0dGhpcy5yZWFsSXNWZXJ0aWNhbCA9IG5ld1ZhbHVlO1xyXG5cdFx0dGhpcy5zdHlsZS5mb250RmFtaWx5ID0gbmV3VmFsdWUgPyAnSHdheXVSZWFsJyA6ICdId2F5dUhvcml6b250YWwnO1xyXG5cdFx0aWYgKG5ld1ZhbHVlKSB7XHJcblx0XHRcdHRoaXMuc3R5bGUud3JpdGluZ01vZGUgPSAndmVydGljYWwtbHInO1xyXG5cdFx0XHR0aGlzLnN0eWxlLnRleHRPcmllbnRhdGlvbiA9ICd1cHJpZ2h0JztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuc3R5bGUud3JpdGluZ01vZGUgPSAnaG9yaXpvbnRhbC10Yic7XHJcblx0XHRcdHRoaXMuc3R5bGUudGV4dE9yaWVudGF0aW9uID0gJ3Vuc2V0JztcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGNvbnN0cnVjdG9yKGRpdjogSFRNTERpdkVsZW1lbnQsIHZhbHVlID0gJycsIGZvbnRTaXplID0gMTcuNSwgaXNWZXJ0aWNhbCA9IHRydWUpIHtcclxuXHRcdHN1cGVyKCk7XHJcblx0XHR0aGlzLmlucHV0RWxlbWVudCA9IGRpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JyB9ICk7XHJcblx0XHR0aGlzLmlucHV0RWxlbWVudC5zcGVsbGNoZWNrID0gZmFsc2U7XHJcblx0XHR0aGlzLnZhbHVlID0gdmFsdWU7XHJcblx0XHR0aGlzLmZvbnRTaXplID0gZm9udFNpemU7XHJcblx0XHR0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG5cdFx0dGhpcy5pbnB1dEVsZW1lbnQub25pbnB1dCA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0dGhpcy52YWx1ZSA9IHRoaXMuaW5wdXRFbGVtZW50LnZhbHVlO1xyXG5cdFx0XHRhd2FpdCB0aGlzLm9uaW5wdXQoKTtcclxuXHRcdH1cclxuXHRcdHRoaXMuaW5wdXRFbGVtZW50Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLnZhbHVlID0gdGhpcy5pbnB1dEVsZW1lbnQudmFsdWU7XHJcblx0XHRcdGF3YWl0IHRoaXMub25jaGFuZ2UoKTtcclxuXHRcdH1cclxuXHRcdHRoaXMuaW5wdXRFbGVtZW50Lm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdGF3YWl0IHRoaXMub25jbGljaygpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEh3YXl1TXVsdGlMaW5lRWRpdG9yIGV4dGVuZHMgQ29ubGFuZ011bHRpTGluZUVkaXRvciB7XHJcblx0aW5wdXRFbGVtZW50OiBIVE1MVGV4dEFyZWFFbGVtZW50O1xyXG5cdHJlYWxJc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuXHRnZXQgc3R5bGUoKTogQ1NTU3R5bGVEZWNsYXJhdGlvbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbnB1dEVsZW1lbnQuc3R5bGU7XHJcblx0fVxyXG5cdGdldCB2YWx1ZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5wdXRFbGVtZW50LnZhbHVlO1xyXG5cdH1cclxuXHRzZXQgdmFsdWUobmV3VmFsdWU6IHN0cmluZykge1xyXG5cdFx0dGhpcy5pbnB1dEVsZW1lbnQudmFsdWUgPSBuZXdWYWx1ZTtcclxuXHR9XHJcblx0Z2V0IGNsYXNzTmFtZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5wdXRFbGVtZW50LmNsYXNzTmFtZTtcclxuXHR9XHJcblx0c2V0IGNsYXNzTmFtZShuZXdWYWx1ZTogc3RyaW5nKSB7XHJcblx0XHR0aGlzLmlucHV0RWxlbWVudC5jbGFzc05hbWUgPSBuZXdWYWx1ZTtcclxuXHR9XHJcblx0Z2V0IGNsYXNzTGlzdCgpOiBET01Ub2tlbkxpc3Qge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5wdXRFbGVtZW50LmNsYXNzTGlzdDtcclxuXHR9XHJcblx0Z2V0IGlzVmVydGljYWwoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5yZWFsSXNWZXJ0aWNhbDtcclxuXHR9XHJcblx0c2V0IGlzVmVydGljYWwobmV3VmFsdWU6IGJvb2xlYW4pIHtcclxuXHRcdHRoaXMucmVhbElzVmVydGljYWwgPSBuZXdWYWx1ZTtcclxuXHRcdHRoaXMuc3R5bGUuZm9udEZhbWlseSA9IG5ld1ZhbHVlID8gJ0h3YXl1UmVhbCcgOiAnSHdheXVIb3Jpem9udGFsJztcclxuXHRcdGlmIChuZXdWYWx1ZSkge1xyXG5cdFx0XHR0aGlzLnN0eWxlLndyaXRpbmdNb2RlID0gJ3ZlcnRpY2FsLWxyJztcclxuXHRcdFx0dGhpcy5zdHlsZS50ZXh0T3JpZW50YXRpb24gPSAndXByaWdodCc7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLnN0eWxlLndyaXRpbmdNb2RlID0gJ2hvcml6b250YWwtdGInO1xyXG5cdFx0XHR0aGlzLnN0eWxlLnRleHRPcmllbnRhdGlvbiA9ICd1bnNldCc7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3RvcihkaXY6IEhUTUxEaXZFbGVtZW50LCB2YWx1ZSA9ICcnLCBmb250U2l6ZSA9IDE3LjUsIGlzVmVydGljYWwgPSB0cnVlKSB7XHJcblx0XHRzdXBlcigpO1xyXG5cdFx0dGhpcy5pbnB1dEVsZW1lbnQgPSBkaXYuY3JlYXRlRWwoJ3RleHRhcmVhJyk7XHJcblx0XHR0aGlzLmlucHV0RWxlbWVudC5zcGVsbGNoZWNrID0gZmFsc2U7XHJcblx0XHR0aGlzLnZhbHVlID0gdmFsdWU7XHJcblx0XHR0aGlzLmZvbnRTaXplID0gZm9udFNpemU7XHJcblx0XHR0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG5cdFx0dGhpcy5pbnB1dEVsZW1lbnQub25pbnB1dCA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0dGhpcy52YWx1ZSA9IHRoaXMuaW5wdXRFbGVtZW50LnZhbHVlO1xyXG5cdFx0XHRhd2FpdCB0aGlzLm9uaW5wdXQoKTtcclxuXHRcdH1cclxuXHRcdHRoaXMuaW5wdXRFbGVtZW50Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLnZhbHVlID0gdGhpcy5pbnB1dEVsZW1lbnQudmFsdWU7XHJcblx0XHRcdGF3YWl0IHRoaXMub25jaGFuZ2UoKTtcclxuXHRcdH1cclxuXHRcdHRoaXMuaW5wdXRFbGVtZW50Lm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdGF3YWl0IHRoaXMub25jbGljaygpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQ29ubGFuZ0VsZW1lbnQsIENvbmxhbmdNdWx0aUxpbmVFZGl0b3IsIENvbmxhbmdPbmVMaW5lRWRpdG9yLCBMYW5ndWFnZSB9IGZyb20gXCIuL2xhbmd1YWdlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRW5nbGlzaCBleHRlbmRzIExhbmd1YWdlIHtcclxuXHRzdGF0aWMgQ3JlYXRlT25lTGluZUVkaXRvcihjbGVhbkRpdjogSFRNTERpdkVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQsIHZhbHVlID0gJycsIGZvbnRTaXplID0gMTcuNSwgaXNWZXJ0aWNhbCA9IHRydWUpOiBFbmdsaXNoT25lTGluZUVkaXRvciB7XHJcblx0XHRjb25zdCB0ZXh0RWxlbWVudCA9IG5ldyBFbmdsaXNoT25lTGluZUVkaXRvcihkaXYsIHZhbHVlLCBmb250U2l6ZSwgaXNWZXJ0aWNhbCk7XHJcblx0XHRyZXR1cm4gdGV4dEVsZW1lbnQ7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgQ3JlYXRlTXVsdGlMaW5lRWRpdG9yKGNsZWFuRGl2OiBIVE1MRGl2RWxlbWVudCwgZGl2OiBIVE1MRGl2RWxlbWVudCwgdmFsdWUgPSAnJywgZm9udFNpemUgPSAxNy41LCBpc1ZlcnRpY2FsID0gdHJ1ZSk6IEVuZ2xpc2hNdWx0aUxpbmVFZGl0b3Ige1xyXG5cdFx0Y29uc3QgdGV4dEVsZW1lbnQgPSBuZXcgRW5nbGlzaE11bHRpTGluZUVkaXRvcihkaXYsIHZhbHVlLCBmb250U2l6ZSwgaXNWZXJ0aWNhbCk7XHJcblx0XHRyZXR1cm4gdGV4dEVsZW1lbnQ7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgRGlzcGxheShjbGVhbkRpdjogSFRNTERpdkVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQsIHZhbHVlID0gJycsIGZvbnRTaXplID0gMTcuNSwgaXNWZXJ0aWNhbCA9IGZhbHNlKTogRW5nbGlzaEVsZW1lbnQge1xyXG5cdFx0Y29uc3QgdGV4dEVsZW1lbnQgPSBuZXcgRW5nbGlzaEVsZW1lbnQoZGl2LCB2YWx1ZSwgZm9udFNpemUsIGlzVmVydGljYWwpO1xyXG5cdFx0cmV0dXJuIHRleHRFbGVtZW50O1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEVuZ2xpc2hFbGVtZW50IGV4dGVuZHMgQ29ubGFuZ0VsZW1lbnQge1xyXG5cdHRleHRFbGVtZW50OiBIVE1MRGl2RWxlbWVudDtcclxuXHRyZWFsSXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcblx0Z2V0IHN0eWxlKCk6IENTU1N0eWxlRGVjbGFyYXRpb24ge1xyXG5cdFx0cmV0dXJuIHRoaXMudGV4dEVsZW1lbnQuc3R5bGU7XHJcblx0fVxyXG5cdGdldCB2YWx1ZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMudGV4dEVsZW1lbnQudGV4dENvbnRlbnQgPyB0aGlzLnRleHRFbGVtZW50LnRleHRDb250ZW50IDogJyc7XHJcblx0fVxyXG5cdHNldCB2YWx1ZShuZXdWYWx1ZTogc3RyaW5nKSB7XHJcblx0XHR0aGlzLnRleHRFbGVtZW50LnRleHRDb250ZW50ID0gbmV3VmFsdWU7XHJcblx0fVxyXG5cdGdldCBjbGFzc05hbWUoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLnRleHRFbGVtZW50LmNsYXNzTmFtZTtcclxuXHR9XHJcblx0c2V0IGNsYXNzTmFtZShuZXdWYWx1ZTogc3RyaW5nKSB7XHJcblx0XHR0aGlzLnRleHRFbGVtZW50LmNsYXNzTmFtZSA9IG5ld1ZhbHVlO1xyXG5cdH1cclxuXHRnZXQgY2xhc3NMaXN0KCk6IERPTVRva2VuTGlzdCB7XHJcblx0XHRyZXR1cm4gdGhpcy50ZXh0RWxlbWVudC5jbGFzc0xpc3Q7XHJcblx0fVxyXG5cdGdldCBpc1ZlcnRpY2FsKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMucmVhbElzVmVydGljYWw7XHJcblx0fVxyXG5cdHNldCBpc1ZlcnRpY2FsKG5ld1ZhbHVlOiBib29sZWFuKSB7XHJcblx0XHR0aGlzLnJlYWxJc1ZlcnRpY2FsID0gbmV3VmFsdWU7XHJcblx0XHRpZiAobmV3VmFsdWUpIHtcclxuXHRcdFx0dGhpcy5zdHlsZS53cml0aW5nTW9kZSA9ICd2ZXJ0aWNhbC1scic7XHJcblx0XHRcdHRoaXMuc3R5bGUudGV4dE9yaWVudGF0aW9uID0gJ3VwcmlnaHQnO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5zdHlsZS53cml0aW5nTW9kZSA9ICdob3Jpem9udGFsLXRiJztcclxuXHRcdFx0dGhpcy5zdHlsZS50ZXh0T3JpZW50YXRpb24gPSAndW5zZXQnO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoZGl2OiBIVE1MRGl2RWxlbWVudCwgdmFsdWUgPSAnJywgZm9udFNpemUgPSAxNy41LCBpc1ZlcnRpY2FsID0gZmFsc2UpIHtcclxuXHRcdHN1cGVyKCk7XHJcblx0XHR0aGlzLnRleHRFbGVtZW50ID0gZGl2LmNyZWF0ZURpdigpO1xyXG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlO1xyXG5cdFx0dGhpcy5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG5cdFx0dGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuXHRcdHRoaXMudGV4dEVsZW1lbnQub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0YXdhaXQgdGhpcy5vbmNsaWNrKCk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRW5nbGlzaE9uZUxpbmVFZGl0b3IgZXh0ZW5kcyBDb25sYW5nT25lTGluZUVkaXRvciB7XHJcblx0aW5wdXRFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50O1xyXG5cdHJlYWxJc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuXHRnZXQgc3R5bGUoKTogQ1NTU3R5bGVEZWNsYXJhdGlvbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbnB1dEVsZW1lbnQuc3R5bGU7XHJcblx0fVxyXG5cdGdldCB2YWx1ZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5wdXRFbGVtZW50LnZhbHVlO1xyXG5cdH1cclxuXHRzZXQgdmFsdWUobmV3VmFsdWU6IHN0cmluZykge1xyXG5cdFx0dGhpcy5pbnB1dEVsZW1lbnQudmFsdWUgPSBuZXdWYWx1ZTtcclxuXHR9XHJcblx0Z2V0IGNsYXNzTmFtZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5wdXRFbGVtZW50LmNsYXNzTmFtZTtcclxuXHR9XHJcblx0c2V0IGNsYXNzTmFtZShuZXdWYWx1ZTogc3RyaW5nKSB7XHJcblx0XHR0aGlzLmlucHV0RWxlbWVudC5jbGFzc05hbWUgPSBuZXdWYWx1ZTtcclxuXHR9XHJcblx0Z2V0IGNsYXNzTGlzdCgpOiBET01Ub2tlbkxpc3Qge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5wdXRFbGVtZW50LmNsYXNzTGlzdDtcclxuXHR9XHJcblx0Z2V0IGlzVmVydGljYWwoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5yZWFsSXNWZXJ0aWNhbDtcclxuXHR9XHJcblx0c2V0IGlzVmVydGljYWwobmV3VmFsdWU6IGJvb2xlYW4pIHtcclxuXHRcdHRoaXMucmVhbElzVmVydGljYWwgPSBuZXdWYWx1ZTtcclxuXHRcdGlmIChuZXdWYWx1ZSkge1xyXG5cdFx0XHR0aGlzLnN0eWxlLndyaXRpbmdNb2RlID0gJ3ZlcnRpY2FsLWxyJztcclxuXHRcdFx0dGhpcy5zdHlsZS50ZXh0T3JpZW50YXRpb24gPSAndXByaWdodCc7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLnN0eWxlLndyaXRpbmdNb2RlID0gJ2hvcml6b250YWwtdGInO1xyXG5cdFx0XHR0aGlzLnN0eWxlLnRleHRPcmllbnRhdGlvbiA9ICd1bnNldCc7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3RvcihkaXY6IEhUTUxEaXZFbGVtZW50LCB2YWx1ZSA9ICcnLCBmb250U2l6ZSA9IDE3LjUsIGlzVmVydGljYWwgPSBmYWxzZSkge1xyXG5cdFx0c3VwZXIoKTtcclxuXHRcdHRoaXMuaW5wdXRFbGVtZW50ID0gZGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnIH0gKTtcclxuXHRcdHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuXHRcdHRoaXMuZm9udFNpemUgPSBmb250U2l6ZTtcclxuXHRcdHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblx0XHR0aGlzLmlucHV0RWxlbWVudC5vbmlucHV0ID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLnZhbHVlID0gdGhpcy5pbnB1dEVsZW1lbnQudmFsdWU7XHJcblx0XHRcdGF3YWl0IHRoaXMub25pbnB1dCgpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5pbnB1dEVsZW1lbnQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdHRoaXMudmFsdWUgPSB0aGlzLmlucHV0RWxlbWVudC52YWx1ZTtcclxuXHRcdFx0YXdhaXQgdGhpcy5vbmNoYW5nZSgpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5pbnB1dEVsZW1lbnQub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0YXdhaXQgdGhpcy5vbmNsaWNrKCk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRW5nbGlzaE11bHRpTGluZUVkaXRvciBleHRlbmRzIENvbmxhbmdNdWx0aUxpbmVFZGl0b3Ige1xyXG5cdGlucHV0RWxlbWVudDogSFRNTFRleHRBcmVhRWxlbWVudDtcclxuXHRyZWFsSXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcblx0Z2V0IHN0eWxlKCk6IENTU1N0eWxlRGVjbGFyYXRpb24ge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5wdXRFbGVtZW50LnN0eWxlO1xyXG5cdH1cclxuXHRnZXQgdmFsdWUoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmlucHV0RWxlbWVudC52YWx1ZTtcclxuXHR9XHJcblx0c2V0IHZhbHVlKG5ld1ZhbHVlOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMuaW5wdXRFbGVtZW50LnZhbHVlID0gbmV3VmFsdWU7XHJcblx0fVxyXG5cdGdldCBjbGFzc05hbWUoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmlucHV0RWxlbWVudC5jbGFzc05hbWU7XHJcblx0fVxyXG5cdHNldCBjbGFzc05hbWUobmV3VmFsdWU6IHN0cmluZykge1xyXG5cdFx0dGhpcy5pbnB1dEVsZW1lbnQuY2xhc3NOYW1lID0gbmV3VmFsdWU7XHJcblx0fVxyXG5cdGdldCBjbGFzc0xpc3QoKTogRE9NVG9rZW5MaXN0IHtcclxuXHRcdHJldHVybiB0aGlzLmlucHV0RWxlbWVudC5jbGFzc0xpc3Q7XHJcblx0fVxyXG5cdGdldCBpc1ZlcnRpY2FsKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMucmVhbElzVmVydGljYWw7XHJcblx0fVxyXG5cdHNldCBpc1ZlcnRpY2FsKG5ld1ZhbHVlOiBib29sZWFuKSB7XHJcblx0XHR0aGlzLnJlYWxJc1ZlcnRpY2FsID0gbmV3VmFsdWU7XHJcblx0XHRpZiAobmV3VmFsdWUpIHtcclxuXHRcdFx0dGhpcy5zdHlsZS53cml0aW5nTW9kZSA9ICd2ZXJ0aWNhbC1scic7XHJcblx0XHRcdHRoaXMuc3R5bGUudGV4dE9yaWVudGF0aW9uID0gJ3VwcmlnaHQnO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5zdHlsZS53cml0aW5nTW9kZSA9ICdob3Jpem9udGFsLXRiJztcclxuXHRcdFx0dGhpcy5zdHlsZS50ZXh0T3JpZW50YXRpb24gPSAndW5zZXQnO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoZGl2OiBIVE1MRGl2RWxlbWVudCwgdmFsdWUgPSAnJywgZm9udFNpemUgPSAxNy41LCBpc1ZlcnRpY2FsID0gZmFsc2UpIHtcclxuXHRcdHN1cGVyKCk7XHJcblx0XHR0aGlzLmlucHV0RWxlbWVudCA9IGRpdi5jcmVhdGVFbCgndGV4dGFyZWEnKTtcclxuXHRcdHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuXHRcdHRoaXMuZm9udFNpemUgPSBmb250U2l6ZTtcclxuXHRcdHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblx0XHR0aGlzLmlucHV0RWxlbWVudC5vbmlucHV0ID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLnZhbHVlID0gdGhpcy5pbnB1dEVsZW1lbnQudmFsdWU7XHJcblx0XHRcdGF3YWl0IHRoaXMub25pbnB1dCgpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5pbnB1dEVsZW1lbnQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdHRoaXMudmFsdWUgPSB0aGlzLmlucHV0RWxlbWVudC52YWx1ZTtcclxuXHRcdFx0YXdhaXQgdGhpcy5vbmNoYW5nZSgpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5pbnB1dEVsZW1lbnQub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0YXdhaXQgdGhpcy5vbmNsaWNrKCk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBDb25sYW5nRWxlbWVudCwgQ29ubGFuZ09uZUxpbmVFZGl0b3IsIExhbmd1YWdlIH0gZnJvbSBcIi4vbGFuZ3VhZ2VcIjtcblxuZXhwb3J0IGNsYXNzIENvbG9yTGFuZyBleHRlbmRzIExhbmd1YWdlIHtcblx0c3RhdGljIENyZWF0ZU9uZUxpbmVFZGl0b3IoY2xlYW5EaXY6IEhUTUxEaXZFbGVtZW50LCBkaXY6IEhUTUxEaXZFbGVtZW50LCB2YWx1ZSA9ICcnLCBmb250U2l6ZSA9IDE3LjUsIGlzVmVydGljYWwgPSB0cnVlKTogQ29sb3JMYW5nRWRpdG9yIHtcblx0XHRjb25zdCB0ZXh0RWxlbWVudCA9IG5ldyBDb2xvckxhbmdFZGl0b3IoY2xlYW5EaXYsIGRpdiwgdmFsdWUsIGZvbnRTaXplLCBpc1ZlcnRpY2FsKTtcblx0XHRyZXR1cm4gdGV4dEVsZW1lbnQ7XG5cdH1cblxuXHRzdGF0aWMgQ3JlYXRlTXVsdGlMaW5lRWRpdG9yKGNsZWFuRGl2OiBIVE1MRGl2RWxlbWVudCwgZGl2OiBIVE1MRGl2RWxlbWVudCwgdmFsdWUgPSAnJywgZm9udFNpemUgPSAxNy41LCBpc1ZlcnRpY2FsID0gdHJ1ZSk6IENvbG9yTGFuZ0VkaXRvciB7XG5cdFx0Y29uc3QgdGV4dEVsZW1lbnQgPSBuZXcgQ29sb3JMYW5nRWRpdG9yKGNsZWFuRGl2LCBkaXYsIHZhbHVlLCBmb250U2l6ZSwgaXNWZXJ0aWNhbCk7XG5cdFx0cmV0dXJuIHRleHRFbGVtZW50O1xuXHR9XG5cblx0c3RhdGljIERpc3BsYXkoY2xlYW5EaXY6IEhUTUxEaXZFbGVtZW50LCBkaXY6IEhUTUxEaXZFbGVtZW50LCB2YWx1ZSA9ICcnLCBmb250U2l6ZSA9IDE3LjUsIGlzVmVydGljYWwgPSB0cnVlKTogU3RhdGljQ29sb3JMYW5nRWxlbWVudCB7XG5cdFx0Y29uc3QgdGV4dEVsZW1lbnQgPSBuZXcgU3RhdGljQ29sb3JMYW5nRWxlbWVudChjbGVhbkRpdiwgZGl2LCB2YWx1ZSwgZm9udFNpemUsIGlzVmVydGljYWwpO1xuXHRcdHJldHVybiB0ZXh0RWxlbWVudDtcblx0fVxuXG5cdHN0YXRpYyBTcGVha09yQW5pbWF0ZShjbGVhbkRpdjogSFRNTERpdkVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQsIHZhbHVlID0gJycsIGZvbnRTaXplID0gMTcuNSwgaXNWZXJ0aWNhbCA9IHRydWUpOiBBbmltYXRlZENvbG9yTGFuZ0VsZW1lbnQge1xuXHRcdGNvbnN0IHRleHRFbGVtZW50ID0gbmV3IEFuaW1hdGVkQ29sb3JMYW5nRWxlbWVudChjbGVhbkRpdiwgZGl2LCB2YWx1ZSwgZm9udFNpemUsIGlzVmVydGljYWwpO1xuXHRcdHJldHVybiB0ZXh0RWxlbWVudDtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgQW5pbWF0ZWRDb2xvckxhbmdFbGVtZW50IGV4dGVuZHMgQ29ubGFuZ0VsZW1lbnQge1xuXHRjbGVhbkRpdjogSFRNTERpdkVsZW1lbnQ7XG5cdHdyYXBwZXJEaXY6IEhUTUxEaXZFbGVtZW50O1xuXHRjb250ZW50OiBDb2xvclBocmFzZTtcblx0cmVhbElzVmVydGljYWw6IGJvb2xlYW47XG5cblx0Z2V0IHN0eWxlKCk6IENTU1N0eWxlRGVjbGFyYXRpb24ge1xuXHRcdHJldHVybiB0aGlzLndyYXBwZXJEaXYuc3R5bGU7XG5cdH1cblx0Z2V0IHZhbHVlKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuY29udGVudCk7XG5cdH1cblx0c2V0IHZhbHVlKG5ld1ZhbHVlOiBzdHJpbmcpIHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgcGxhaW5QaHJhc2UgPSBKU09OLnBhcnNlKG5ld1ZhbHVlKTtcblx0XHRcdHRoaXMuY29udGVudCA9IE9iamVjdC5hc3NpZ24obmV3IENvbG9yUGhyYXNlKCksIHBsYWluUGhyYXNlKTtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb250ZW50LndvcmRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHRoaXMuY29udGVudC53b3Jkc1tpXSA9IE9iamVjdC5hc3NpZ24obmV3IENvbG9yV29yZCgpLCB0aGlzLmNvbnRlbnQud29yZHNbaV0pO1xuXHRcdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuY29udGVudC53b3Jkc1tpXS50cmFja3MubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHR0aGlzLmNvbnRlbnQud29yZHNbaV0udHJhY2tzW2pdID0gT2JqZWN0LmFzc2lnbihuZXcgQ29sb3JXb3JkVHJhY2soKSwgdGhpcy5jb250ZW50LndvcmRzW2ldLnRyYWNrc1tqXSk7XG5cdFx0XHRcdFx0Zm9yIChsZXQgayA9IDA7IGsgPCB0aGlzLmNvbnRlbnQud29yZHNbaV0udHJhY2tzW2pdLmdseXBocy5sZW5ndGg7IGsrKykge1xuXHRcdFx0XHRcdFx0dGhpcy5jb250ZW50LndvcmRzW2ldLnRyYWNrc1tqXS5nbHlwaHNba10gPSBPYmplY3QuYXNzaWduKG5ldyBDb2xvckdseXBoKCksIHRoaXMuY29udGVudC53b3Jkc1tpXS50cmFja3Nbal0uZ2x5cGhzW2tdKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjb25zb2xlLmxvZygnQ29sb3IgTGFuZyB0ZXh0IHdhcyBub3QgdmFsaWQnKTtcblx0XHR9XG5cdFx0dGhpcy5EaXNwbGF5KCk7XG5cdH1cblx0Z2V0IGNsYXNzTmFtZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLndyYXBwZXJEaXYuY2xhc3NOYW1lO1xuXHR9XG5cdHNldCBjbGFzc05hbWUobmV3VmFsdWU6IHN0cmluZykge1xuXHRcdHRoaXMud3JhcHBlckRpdi5jbGFzc05hbWUgPSBuZXdWYWx1ZTtcblx0fVxuXHRnZXQgY2xhc3NMaXN0KCk6IERPTVRva2VuTGlzdCB7XG5cdFx0cmV0dXJuIHRoaXMud3JhcHBlckRpdi5jbGFzc0xpc3Q7XG5cdH1cblx0Z2V0IGlzVmVydGljYWwoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMucmVhbElzVmVydGljYWw7XG5cdH1cblx0c2V0IGlzVmVydGljYWwobmV3VmFsdWU6IGJvb2xlYW4pIHtcblx0XHR0aGlzLnJlYWxJc1ZlcnRpY2FsID0gbmV3VmFsdWU7XG5cdFx0aWYgKG5ld1ZhbHVlKSB7XG5cdFx0XHR0aGlzLnN0eWxlLndyaXRpbmdNb2RlID0gJ3ZlcnRpY2FsLWxyJztcblx0XHRcdHRoaXMuc3R5bGUudGV4dE9yaWVudGF0aW9uID0gJ3VwcmlnaHQnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnN0eWxlLndyaXRpbmdNb2RlID0gJ2hvcml6b250YWwtdGInO1xuXHRcdFx0dGhpcy5zdHlsZS50ZXh0T3JpZW50YXRpb24gPSAndW5zZXQnO1xuXHRcdH1cblx0fVxuXG5cdGNvbnN0cnVjdG9yKGNsZWFuRGl2OiBIVE1MRGl2RWxlbWVudCwgZGl2OiBIVE1MRGl2RWxlbWVudCwgdmFsdWUgPSAnJywgZm9udFNpemUgPSAxMCwgaXNWZXJ0aWNhbCA9IGZhbHNlKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLmNsZWFuRGl2ID0gY2xlYW5EaXY7XG5cdFx0dGhpcy53cmFwcGVyRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xuXHRcdHRoaXMuY29udGVudCA9IG5ldyBDb2xvclBocmFzZSgpO1xuXHRcdHRoaXMuZm9udFNpemUgPSBmb250U2l6ZTtcblx0XHR0aGlzLnZhbHVlID0gdmFsdWU7XG5cdFx0dGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcblx0XHR0aGlzLndyYXBwZXJEaXYub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdGF3YWl0IHRoaXMub25jbGljaygpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgRGlzcGxheSgpIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29udGVudC53b3Jkcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3Qgd29yZCA9IHRoaXMuY29udGVudC53b3Jkc1tpXTtcblx0XHRcdGNvbnNvbGUubG9nKCdjJyArIHRoaXMuZm9udFNpemUpO1xuXHRcdFx0YXdhaXQgd29yZC5EaXNwbGF5T25jZSh0aGlzLndyYXBwZXJEaXYsIHRoaXMuZm9udFNpemUpO1xuXHRcdH1cblx0XHR0aGlzLndyYXBwZXJEaXYucmVtb3ZlKCk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0YXRpY0NvbG9yTGFuZ0VsZW1lbnQgZXh0ZW5kcyBDb25sYW5nRWxlbWVudCB7XG5cdGNsZWFuRGl2OiBIVE1MRGl2RWxlbWVudDtcblx0d3JhcHBlckRpdjogSFRNTERpdkVsZW1lbnQ7XG5cdGxpbmVEaXY6IEhUTUxEaXZFbGVtZW50O1xuXHRjb250ZW50OiBDb2xvclBocmFzZTtcblx0cmVhbElzVmVydGljYWw6IGJvb2xlYW47XG5cblx0Z2V0IHN0eWxlKCk6IENTU1N0eWxlRGVjbGFyYXRpb24ge1xuXHRcdHJldHVybiB0aGlzLndyYXBwZXJEaXYuc3R5bGU7XG5cdH1cblx0Z2V0IHZhbHVlKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuY29udGVudCk7XG5cdH1cblx0c2V0IHZhbHVlKG5ld1ZhbHVlOiBzdHJpbmcpIHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgcGxhaW5QaHJhc2UgPSBKU09OLnBhcnNlKG5ld1ZhbHVlKTtcblx0XHRcdHRoaXMuY29udGVudCA9IE9iamVjdC5hc3NpZ24obmV3IENvbG9yUGhyYXNlKCksIHBsYWluUGhyYXNlKTtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb250ZW50LndvcmRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHRoaXMuY29udGVudC53b3Jkc1tpXSA9IE9iamVjdC5hc3NpZ24obmV3IENvbG9yV29yZCgpLCB0aGlzLmNvbnRlbnQud29yZHNbaV0pO1xuXHRcdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuY29udGVudC53b3Jkc1tpXS50cmFja3MubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHR0aGlzLmNvbnRlbnQud29yZHNbaV0udHJhY2tzW2pdID0gT2JqZWN0LmFzc2lnbihuZXcgQ29sb3JXb3JkVHJhY2soKSwgdGhpcy5jb250ZW50LndvcmRzW2ldLnRyYWNrc1tqXSk7XG5cdFx0XHRcdFx0Zm9yIChsZXQgayA9IDA7IGsgPCB0aGlzLmNvbnRlbnQud29yZHNbaV0udHJhY2tzW2pdLmdseXBocy5sZW5ndGg7IGsrKykge1xuXHRcdFx0XHRcdFx0dGhpcy5jb250ZW50LndvcmRzW2ldLnRyYWNrc1tqXS5nbHlwaHNba10gPSBPYmplY3QuYXNzaWduKG5ldyBDb2xvckdseXBoKCksIHRoaXMuY29udGVudC53b3Jkc1tpXS50cmFja3Nbal0uZ2x5cGhzW2tdKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjb25zb2xlLmxvZygnQ29sb3IgTGFuZyB0ZXh0IHdhcyBub3QgdmFsaWQnKTtcblx0XHR9XG5cdFx0dGhpcy5EaXNwbGF5KCk7XG5cdH1cblx0Z2V0IGNsYXNzTmFtZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLndyYXBwZXJEaXYuY2xhc3NOYW1lO1xuXHR9XG5cdHNldCBjbGFzc05hbWUobmV3VmFsdWU6IHN0cmluZykge1xuXHRcdHRoaXMud3JhcHBlckRpdi5jbGFzc05hbWUgPSBuZXdWYWx1ZTtcblx0fVxuXHRnZXQgY2xhc3NMaXN0KCk6IERPTVRva2VuTGlzdCB7XG5cdFx0cmV0dXJuIHRoaXMud3JhcHBlckRpdi5jbGFzc0xpc3Q7XG5cdH1cblx0Z2V0IGlzVmVydGljYWwoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMucmVhbElzVmVydGljYWw7XG5cdH1cblx0c2V0IGlzVmVydGljYWwobmV3VmFsdWU6IGJvb2xlYW4pIHtcblx0XHR0aGlzLnJlYWxJc1ZlcnRpY2FsID0gbmV3VmFsdWU7XG5cdFx0aWYgKG5ld1ZhbHVlKSB7XG5cdFx0XHR0aGlzLnN0eWxlLndyaXRpbmdNb2RlID0gJ3ZlcnRpY2FsLWxyJztcblx0XHRcdHRoaXMuc3R5bGUudGV4dE9yaWVudGF0aW9uID0gJ3VwcmlnaHQnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnN0eWxlLndyaXRpbmdNb2RlID0gJ2hvcml6b250YWwtdGInO1xuXHRcdFx0dGhpcy5zdHlsZS50ZXh0T3JpZW50YXRpb24gPSAndW5zZXQnO1xuXHRcdH1cblx0fVxuXG5cdGNvbnN0cnVjdG9yKGNsZWFuRGl2OiBIVE1MRGl2RWxlbWVudCwgZGl2OiBIVE1MRGl2RWxlbWVudCwgdmFsdWUgPSAnJywgZm9udFNpemUgPSAxMCwgaXNWZXJ0aWNhbCA9IGZhbHNlKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLmNsZWFuRGl2ID0gY2xlYW5EaXY7XG5cdFx0dGhpcy53cmFwcGVyRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xuXHRcdHRoaXMubGluZURpdiA9IHRoaXMud3JhcHBlckRpdi5jcmVhdGVEaXYoKTtcblx0XHR0aGlzLmNvbnRlbnQgPSBuZXcgQ29sb3JQaHJhc2UoKTtcblx0XHR0aGlzLmZvbnRTaXplID0gZm9udFNpemU7XG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlO1xuXHRcdHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XG5cdFx0dGhpcy53cmFwcGVyRGl2Lm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRhd2FpdCB0aGlzLm9uY2xpY2soKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIERpc3BsYXkoKSB7XG5cdFx0dGhpcy5saW5lRGl2LnJlbW92ZSgpO1xuXHRcdHRoaXMubGluZURpdiA9IHRoaXMud3JhcHBlckRpdi5jcmVhdGVEaXYoKTtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb250ZW50LndvcmRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCB3b3JkID0gdGhpcy5jb250ZW50LndvcmRzW2ldO1xuXHRcdFx0d29yZC5EaXNwbGF5TG9vcCh0aGlzLmxpbmVEaXYsIHRoaXMuZm9udFNpemUpO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgY2xhc3MgQ29sb3JMYW5nRWRpdG9yIGV4dGVuZHMgQ29ubGFuZ09uZUxpbmVFZGl0b3Ige1xuXHRjbGVhbkRpdjogSFRNTERpdkVsZW1lbnQ7XG5cdHdyYXBwZXJEaXY6IEhUTUxEaXZFbGVtZW50O1xuXHRsaW5lRGl2OiBIVE1MRGl2RWxlbWVudDtcblx0Y29udGVudDogQ29sb3JQaHJhc2U7XG5cdHJlYWxJc1ZlcnRpY2FsOiBib29sZWFuO1xuXG5cdGdldCBzdHlsZSgpOiBDU1NTdHlsZURlY2xhcmF0aW9uIHtcblx0XHRyZXR1cm4gdGhpcy53cmFwcGVyRGl2LnN0eWxlO1xuXHR9XG5cdGdldCB2YWx1ZSgpOiBzdHJpbmcge1xuXHRcdGlmICh0aGlzLmNvbnRlbnQud29yZHMubGVuZ3RoID4gMCkge1xuXHRcdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuY29udGVudCk7XG5cdFx0fVxuXHRcdHJldHVybiAnJztcblx0fVxuXHRzZXQgdmFsdWUobmV3VmFsdWU6IHN0cmluZykge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBwbGFpblBocmFzZSA9IEpTT04ucGFyc2UobmV3VmFsdWUpO1xuXHRcdFx0dGhpcy5jb250ZW50ID0gT2JqZWN0LmFzc2lnbihuZXcgQ29sb3JQaHJhc2UoKSwgcGxhaW5QaHJhc2UpO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbnRlbnQud29yZHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dGhpcy5jb250ZW50LndvcmRzW2ldID0gT2JqZWN0LmFzc2lnbihuZXcgQ29sb3JXb3JkKCksIHRoaXMuY29udGVudC53b3Jkc1tpXSk7XG5cdFx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5jb250ZW50LndvcmRzW2ldLnRyYWNrcy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdHRoaXMuY29udGVudC53b3Jkc1tpXS50cmFja3Nbal0gPSBPYmplY3QuYXNzaWduKG5ldyBDb2xvcldvcmRUcmFjaygpLCB0aGlzLmNvbnRlbnQud29yZHNbaV0udHJhY2tzW2pdKTtcblx0XHRcdFx0XHRmb3IgKGxldCBrID0gMDsgayA8IHRoaXMuY29udGVudC53b3Jkc1tpXS50cmFja3Nbal0uZ2x5cGhzLmxlbmd0aDsgaysrKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmNvbnRlbnQud29yZHNbaV0udHJhY2tzW2pdLmdseXBoc1trXSA9IE9iamVjdC5hc3NpZ24obmV3IENvbG9yR2x5cGgoKSwgdGhpcy5jb250ZW50LndvcmRzW2ldLnRyYWNrc1tqXS5nbHlwaHNba10pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNvbnNvbGUubG9nKCdDb2xvciBMYW5nIHRleHQgd2FzIG5vdCB2YWxpZCcpO1xuXHRcdH1cblx0XHR0aGlzLm9uY2hhbmdlKCk7XG5cdFx0dGhpcy5EaXNwbGF5KCk7XG5cdH1cblx0Z2V0IGNsYXNzTmFtZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLndyYXBwZXJEaXYuY2xhc3NOYW1lO1xuXHR9XG5cdHNldCBjbGFzc05hbWUobmV3VmFsdWU6IHN0cmluZykge1xuXHRcdHRoaXMud3JhcHBlckRpdi5jbGFzc05hbWUgPSBuZXdWYWx1ZTtcblx0fVxuXHRnZXQgY2xhc3NMaXN0KCk6IERPTVRva2VuTGlzdCB7XG5cdFx0cmV0dXJuIHRoaXMud3JhcHBlckRpdi5jbGFzc0xpc3Q7XG5cdH1cblx0Z2V0IGlzVmVydGljYWwoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMucmVhbElzVmVydGljYWw7XG5cdH1cblx0c2V0IGlzVmVydGljYWwobmV3VmFsdWU6IGJvb2xlYW4pIHtcblx0XHR0aGlzLnJlYWxJc1ZlcnRpY2FsID0gbmV3VmFsdWU7XG5cdFx0aWYgKG5ld1ZhbHVlKSB7XG5cdFx0XHR0aGlzLnN0eWxlLndyaXRpbmdNb2RlID0gJ3ZlcnRpY2FsLWxyJztcblx0XHRcdHRoaXMuc3R5bGUudGV4dE9yaWVudGF0aW9uID0gJ3VwcmlnaHQnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnN0eWxlLndyaXRpbmdNb2RlID0gJ2hvcml6b250YWwtdGInO1xuXHRcdFx0dGhpcy5zdHlsZS50ZXh0T3JpZW50YXRpb24gPSAndW5zZXQnO1xuXHRcdH1cblx0fVxuXG5cdGNvbnN0cnVjdG9yKGNsZWFuRGl2OiBIVE1MRGl2RWxlbWVudCwgZGl2OiBIVE1MRGl2RWxlbWVudCwgdmFsdWUgPSAnJywgZm9udFNpemUgPSAxMCwgaXNWZXJ0aWNhbCA9IGZhbHNlKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLmNsZWFuRGl2ID0gY2xlYW5EaXY7XG5cdFx0dGhpcy53cmFwcGVyRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xuXHRcdHRoaXMubGluZURpdiA9IHRoaXMud3JhcHBlckRpdi5jcmVhdGVEaXYoKTtcblx0XHR0aGlzLmNvbnRlbnQgPSBuZXcgQ29sb3JQaHJhc2UoKTtcblx0XHR0aGlzLmZvbnRTaXplID0gZm9udFNpemU7XG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlO1xuXHRcdHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XG5cdFx0dGhpcy53cmFwcGVyRGl2Lm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRhd2FpdCB0aGlzLm9uY2xpY2soKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIERpc3BsYXkoKSB7XG5cdFx0dGhpcy53cmFwcGVyRGl2LmVtcHR5KCk7XG5cdFx0dGhpcy5saW5lRGl2ID0gdGhpcy53cmFwcGVyRGl2LmNyZWF0ZURpdih0aGlzLmlzVmVydGljYWwgPyAndmJveCcgOiAnaGJveCcpO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbnRlbnQud29yZHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGluZGV4ID0gaTtcblx0XHRcdGNvbnN0IHdvcmRDYXJkID0gdGhpcy5saW5lRGl2LmNyZWF0ZURpdih0aGlzLmlzVmVydGljYWwgPyAnaGJveCcgOiAndmJveCcpO1xuXHRcdFx0Y29uc3QgZGVsZXRlQnV0dG9uID0gd29yZENhcmQuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJy0nIH0gKTtcblx0XHRcdGRlbGV0ZUJ1dHRvbi5jbGFzc05hbWUgPSAnY2ZlLXJlbW92ZS1idXR0b24nO1xuXG5cdFx0XHRjb25zdCB3b3JkRGl2ID0gd29yZENhcmQuY3JlYXRlRGl2KCk7XG5cdFx0XHR3b3JkRGl2LmNsYXNzTGlzdC5hZGQoJ2NmZS1wb2ludGVyLWhvdmVyJyk7XG5cdFx0XHRjb25zdCB3b3JkID0gdGhpcy5jb250ZW50LndvcmRzW2ldO1xuXHRcdFx0d29yZC5EaXNwbGF5TG9vcCh3b3JkRGl2LCB0aGlzLmZvbnRTaXplKTtcblx0XHRcdHdvcmREaXYub25jbGljayA9ICgpID0+IHtcblx0XHRcdFx0d29yZC5EaXNwbGF5RWRpdG9yKHRoaXMuY2xlYW5EaXYuY3JlYXRlRGl2KCkpO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBmdWxsV29yZElucHV0ID0gd29yZENhcmQuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiBKU09OLnN0cmluZ2lmeSh3b3JkKSB9ICk7XG5cdFx0XHRmdWxsV29yZElucHV0Lm9uY2hhbmdlID0gKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBwbGFpbldvcmQgPSBKU09OLnBhcnNlKGZ1bGxXb3JkSW5wdXQudmFsdWUpO1xuXHRcdFx0XHR0aGlzLmNvbnRlbnQud29yZHNbaW5kZXhdID0gT2JqZWN0LmFzc2lnbihuZXcgQ29sb3JXb3JkKCksIHBsYWluV29yZCk7XG5cdFx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5jb250ZW50LndvcmRzW2luZGV4XS50cmFja3MubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHR0aGlzLmNvbnRlbnQud29yZHNbaW5kZXhdLnRyYWNrc1tqXSA9IE9iamVjdC5hc3NpZ24obmV3IENvbG9yV29yZFRyYWNrKCksIHRoaXMuY29udGVudC53b3Jkc1tpbmRleF0udHJhY2tzW2pdKTtcblx0XHRcdFx0XHRmb3IgKGxldCBrID0gMDsgayA8IHRoaXMuY29udGVudC53b3Jkc1tpbmRleF0udHJhY2tzW2pdLmdseXBocy5sZW5ndGg7IGsrKykge1xuXHRcdFx0XHRcdFx0dGhpcy5jb250ZW50LndvcmRzW2luZGV4XS50cmFja3Nbal0uZ2x5cGhzW2tdID0gT2JqZWN0LmFzc2lnbihuZXcgQ29sb3JHbHlwaCgpLCB0aGlzLmNvbnRlbnQud29yZHNbaW5kZXhdLnRyYWNrc1tqXS5nbHlwaHNba10pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0dGhpcy5pc1ZlcnRpY2FsID8gZnVsbFdvcmRJbnB1dC5zdHlsZS5oZWlnaHQgOiBmdWxsV29yZElucHV0LnN0eWxlLndpZHRoID0gKHRoaXMuZm9udFNpemUgKiAzLjI1KSArICdweCc7XG5cblx0XHRcdHRoaXMuaXNWZXJ0aWNhbCA/IGRlbGV0ZUJ1dHRvbi5zdHlsZS5oZWlnaHQgOiBkZWxldGVCdXR0b24uc3R5bGUud2lkdGggPSAodGhpcy5mb250U2l6ZSAqIDMuMjUpICsgJ3B4Jztcblx0XHRcdGRlbGV0ZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0XHR0aGlzLmNvbnRlbnQud29yZHMuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0dGhpcy52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuY29udGVudCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgYWRkQnV0dG9uID0gdGhpcy5saW5lRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICcrJyB9ICk7XG5cblx0XHRjb25zdCBmdWxsSW5wdXQgPSB0aGlzLmxpbmVEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLnZhbHVlIH0gKTtcblx0XHR0aGlzLmlzVmVydGljYWwgPyBmdWxsSW5wdXQuc3R5bGUuaGVpZ2h0IDogZnVsbElucHV0LnN0eWxlLndpZHRoID0gKHRoaXMuZm9udFNpemUgKiAzLjI1KSArICdweCc7XG5cblx0XHRjb25zdCBzYXZlQnV0dG9uID0gdGhpcy5saW5lRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdzYXZlJyB9ICk7XG5cblx0XHRhZGRCdXR0b24ub25jbGljayA9ICgpID0+IHtcblx0XHRcdHRoaXMuY29udGVudC53b3Jkcy5wdXNoKG5ldyBDb2xvcldvcmQoKSk7XG5cdFx0XHR0aGlzLkRpc3BsYXkoKTtcblx0XHR9XG5cdFx0ZnVsbElucHV0Lm9uY2hhbmdlID0gKCkgPT4ge1xuXHRcdFx0dGhpcy52YWx1ZSA9IGZ1bGxJbnB1dC52YWx1ZTtcblx0XHR9XG5cdFx0c2F2ZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0dGhpcy52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuY29udGVudCk7XG5cdFx0fVxuXHR9XG59XG5cbmNsYXNzIENvbG9yUGhyYXNlIHtcblx0d29yZHM6IENvbG9yV29yZFtdO1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMud29yZHMgPSBbXTtcblx0fVxuXG5cdGFzeW5jIERpc3BsYXlPbmNlKGRpdjogSFRNTERpdkVsZW1lbnQsIGZvbnRTaXplID0gMTcuNSkge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy53b3Jkcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0YXdhaXQgdGhpcy53b3Jkc1tpXS5EaXNwbGF5T25jZShkaXYsIGZvbnRTaXplKTtcblx0XHR9XG5cdH1cblxuXHRhc3luYyBEaXNwbGF5TG9vcChkaXY6IEhUTUxEaXZFbGVtZW50LCBmb250U2l6ZSA9IDE3LjUpIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMud29yZHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy53b3Jkcy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRhd2FpdCB0aGlzLndvcmRzW2pdLkRpc3BsYXlPbmNlKGRpdiwgZm9udFNpemUpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGkgPT09IHRoaXMud29yZHMubGVuZ3RoIC0gMSkge1xuXHRcdFx0XHRpID0gLTE7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbmNsYXNzIENvbG9yV29yZCB7XG5cdHRyYWNrczogQ29sb3JXb3JkVHJhY2tbXTtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLnRyYWNrcyA9IFtdO1xuXHRcdHRoaXMudHJhY2tzLnB1c2gobmV3IENvbG9yV29yZFRyYWNrKCkpO1xuXHR9XG5cblx0Z2V0IGR1cmF0aW9uKCkge1xuXHRcdGxldCBtYXggPSAwO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50cmFja3MubGVuZ3RoOyBpKyspIHtcblx0XHRcdGxldCBtcyA9IDA7XG5cdFx0XHRtcyArPSB0aGlzLnRyYWNrc1tpXS5kdXJhdGlvbjtcblx0XHRcdGlmIChtcyA+IG1heCkge1xuXHRcdFx0XHRtYXggPSBtcztcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG1heDtcblx0fVxuXG5cdGFzeW5jIERpc3BsYXlPbmNlKGRpdjogSFRNTERpdkVsZW1lbnQsIGZvbnRTaXplID0gMTcuNSkge1xuXHRcdGNvbnN0IHdvcmREaXYgPSBkaXYuY3JlYXRlRGl2KCk7XG5cdFx0d29yZERpdi5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG5cdFx0d29yZERpdi5zdHlsZS53aWR0aCA9IChmb250U2l6ZSAqIDMuMjUpICsgJ3B4Jztcblx0XHR3b3JkRGl2LnN0eWxlLmhlaWdodCA9IChmb250U2l6ZSAqIDMuMjUpICsgJ3B4JztcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50cmFja3MubGVuZ3RoOyBpKyspIHtcblx0XHRcdHRoaXMudHJhY2tzW2ldLkRpc3BsYXlPbmNlKHdvcmREaXYsIGZvbnRTaXplKTtcblx0XHR9XG5cdFx0YXdhaXQgc2xlZXAodGhpcy5kdXJhdGlvbik7XG5cblx0XHR3b3JkRGl2LnJlbW92ZSgpO1xuXHR9XG5cblx0YXN5bmMgRGlzcGxheVN0YXRpYyhkaXY6IEhUTUxEaXZFbGVtZW50LCBmb250U2l6ZSA9IDE3LjUpIHtcblx0XHRkaXYuZW1wdHkoKTtcblx0XHRjb25zdCB3b3JkRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xuXHRcdHdvcmREaXYuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuXHRcdHdvcmREaXYuc3R5bGUud2lkdGggPSAoZm9udFNpemUgKiAzLjI1KSArICdweCc7XG5cdFx0d29yZERpdi5zdHlsZS5oZWlnaHQgPSAoZm9udFNpemUgKiAzLjI1KSArICdweCc7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudHJhY2tzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCB0cmFjayA9IHRoaXMudHJhY2tzW2ldO1xuXHRcdFx0dHJhY2suRGlzcGxheVN0YXRpYyh3b3JkRGl2LCBmb250U2l6ZSk7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgRGlzcGxheUxvb3AoZGl2OiBIVE1MRGl2RWxlbWVudCwgZm9udFNpemUgPSAxNy41KSB7XG5cdFx0ZGl2LmVtcHR5KCk7XG5cdFx0Y29uc3Qgd29yZERpdiA9IGRpdi5jcmVhdGVEaXYoKTtcblx0XHR3b3JkRGl2LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcblx0XHR3b3JkRGl2LnN0eWxlLndpZHRoID0gKGZvbnRTaXplICogMy4yNSkgKyAncHgnO1xuXHRcdHdvcmREaXYuc3R5bGUuaGVpZ2h0ID0gKGZvbnRTaXplICogMy4yNSkgKyAncHgnO1xuXG5cdFx0bGV0IGRvTG9vcCA9IHRydWU7XG5cdFx0ZG9Mb29wID0gdHJ1ZTtcblx0XHR3aGlsZSAoZG9Mb29wKSB7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudHJhY2tzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGNvbnN0IHRyYWNrID0gdGhpcy50cmFja3NbaV07XG5cdFx0XHRcdHRyYWNrLkRpc3BsYXlPbmNlKHdvcmREaXYsIGZvbnRTaXplKTtcblx0XHRcdH1cblx0XHRcdGF3YWl0IHNsZWVwKHRoaXMuZHVyYXRpb24pO1xuXHRcdH1cblx0fVxuXG5cdERpc3BsYXlFZGl0b3IoZGl2OiBIVE1MRGl2RWxlbWVudCkge1xuXHRcdGRpdi5lbXB0eSgpO1xuXHRcdGNvbnN0IHBvcHVwID0gZGl2LmNyZWF0ZURpdignY2ZlLXBvcHVwJyk7XG5cdFx0XG5cdFx0Y29uc3QgZXhpdEJ1dHRvbkRpdiA9IHBvcHVwLmNyZWF0ZURpdigpO1xuXHRcdGV4aXRCdXR0b25EaXYuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuXG5cdFx0Y29uc3QgZXhpdEJ1dHRvbiA9IGV4aXRCdXR0b25EaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1gnIH0gKTtcblx0XHRleGl0QnV0dG9uLmNsYXNzTmFtZSA9ICdjZmUtcmVtb3ZlLWJ1dHRvbic7XG5cdFx0ZXhpdEJ1dHRvbi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG5cdFx0ZXhpdEJ1dHRvbi5zdHlsZS50b3AgPSAnMCUnO1xuXHRcdGV4aXRCdXR0b24uc3R5bGUucmlnaHQgPSAnMCUnO1xuXHRcdGV4aXRCdXR0b24ub25jbGljayA9ICgpID0+IHtcblx0XHRcdGRpdi5yZW1vdmUoKTtcblx0XHR9XG5cblx0XHRjb25zdCBoYWx2ZXMgPSBwb3B1cC5jcmVhdGVEaXYoJ2hib3gnKTtcblx0XHRoYWx2ZXMuc3R5bGUud2lkdGggPSAnMTAwJSc7XG5cdFx0aGFsdmVzLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcblx0XHRjb25zdCBsZWZ0U2lkZSA9IGhhbHZlcy5jcmVhdGVEaXYoJ3Zib3gnKTtcblx0XHRsZWZ0U2lkZS5zdHlsZS53aWR0aCA9ICc0MCUnO1xuXHRcdGNvbnN0IGdseXBoc0RpdiA9IGhhbHZlcy5jcmVhdGVEaXYoJ3Zib3gnKTtcblx0XHRnbHlwaHNEaXYuc3R5bGUud2lkdGggPSAnNjAlJztcblxuXHRcdGNvbnN0IHNwZWFrRGl2ID0gbGVmdFNpZGUuY3JlYXRlRGl2KCk7XG5cdFx0c3BlYWtEaXYuc3R5bGUuaGVpZ2h0ID0gJzUwJSc7XG5cdFx0dGhpcy5EaXNwbGF5TG9vcChzcGVha0RpdiwgMTAwKTtcblxuXHRcdGNvbnN0IHRyYWNrc0RpdiA9IGxlZnRTaWRlLmNyZWF0ZURpdigpO1xuXHRcdHRyYWNrc0Rpdi5zdHlsZS5oZWlnaHQgPSAnNTAlJztcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudHJhY2tzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBpbmRleCA9IGk7XG5cdFx0XHRjb25zdCB0cmFja0RpdiA9IHRyYWNrc0Rpdi5jcmVhdGVEaXYoJ2hib3gnKTtcblx0XHRcdHRyYWNrRGl2LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXHRcdFx0dHJhY2tEaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnc29saWQnO1xuXHRcdFx0dHJhY2tEaXYuc3R5bGUuYm9yZGVyQ29sb3IgPSAnI0ZGRkZGRic7XG5cdFx0XHRjb25zdCB0cmFja051bWJlciA9IHRyYWNrRGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICd0cmFjayAnICsgaSB9ICk7XG5cdFx0XHR0cmFja051bWJlci5zdHlsZS53aWR0aCA9ICcxMDAlJztcblx0XHRcdHRyYWNrTnVtYmVyLmNsYXNzTmFtZSA9ICdjZmUtcG9pbnRlci1ob3Zlcic7XG5cdFx0XHRjb25zdCBkZWxldGVCdXR0b24gPSB0cmFja0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnLScgfSApO1xuXHRcdFx0ZGVsZXRlQnV0dG9uLmNsYXNzTmFtZSA9ICdjZmUtcmVtb3ZlLWJ1dHRvbic7XG5cdFx0XHR0cmFja051bWJlci5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0XHR0aGlzLnRyYWNrc1tpbmRleF0uRGlzcGxheUVkaXRvcihnbHlwaHNEaXYpO1xuXHRcdFx0fVxuXHRcdFx0ZGVsZXRlQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHRcdHRoaXMudHJhY2tzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHRcdHRyYWNrRGl2LnJlbW92ZSgpO1xuXHRcdFx0XHR0aGlzLkRpc3BsYXlFZGl0b3IoZGl2KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBhZGRCdXR0b24gPSB0cmFja3NEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJysnIH0gKTtcblx0XHRhZGRCdXR0b24ub25jbGljayA9ICgpID0+IHtcblx0XHRcdHRoaXMudHJhY2tzLnB1c2gobmV3IENvbG9yV29yZFRyYWNrKCkpO1xuXHRcdFx0dGhpcy5EaXNwbGF5RWRpdG9yKGRpdik7XG5cdFx0fVxuXHR9XG59XG5cbmNsYXNzIENvbG9yV29yZFRyYWNrIHtcblx0Z2x5cGhzOiBDb2xvckdseXBoW107XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5nbHlwaHMgPSBbXTtcblx0XHR0aGlzLmdseXBocy5wdXNoKG5ldyBDb2xvckdseXBoKCkpO1xuXHR9XG5cdGdldCBkdXJhdGlvbigpIHtcblx0XHRsZXQgbXMgPSAwO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5nbHlwaHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdG1zICs9IHRoaXMuZ2x5cGhzW2ldLnRyYW5zaXRpb25UaW1lO1xuXHRcdFx0bXMgKz0gdGhpcy5nbHlwaHNbaV0uZHVyYXRpb247XG5cdFx0fVxuXHRcdHJldHVybiBtcztcblx0fVxuXG5cdERpc3BsYXlTdGF0aWMoZGl2OiBIVE1MRGl2RWxlbWVudCwgZm9udFNpemUgPSAxNy41KSB7XG5cdFx0aWYgKHRoaXMuZ2x5cGhzLmxlbmd0aCA8IDEpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y29uc3QgdHJhY2tEaXYgPSBkaXYuY3JlYXRlRGl2KCk7XG5cdFx0dHJhY2tEaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXG5cdFx0dHJhY2tEaXYuc3R5bGUuZm9udEZhbWlseSA9ICdDb2xvckxhbmcnO1xuXHRcdHRyYWNrRGl2LnN0eWxlLmZvbnRTaXplID0gZm9udFNpemUgKyAncHgnO1xuXHRcdHRyYWNrRGl2LnN0eWxlLnRyYW5zaXRpb25Qcm9wZXJ0eSA9ICdhbGwnO1xuXG5cdFx0dGhpcy5nbHlwaHNbMF0uRGlzcGxheVN0YXRpYyh0cmFja0RpdiwgZm9udFNpemUpO1xuXHR9XG5cblx0YXN5bmMgRGlzcGxheU9uY2UoZGl2OiBIVE1MRGl2RWxlbWVudCwgZm9udFNpemUgPSAxNy41KSB7XG5cdFx0Y29uc3QgdHJhY2tEaXYgPSBkaXYuY3JlYXRlRGl2KCk7XG5cdFx0dHJhY2tEaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXG5cdFx0dHJhY2tEaXYuc3R5bGUuZm9udEZhbWlseSA9ICdDb2xvckxhbmcnO1xuXHRcdHRyYWNrRGl2LnN0eWxlLmZvbnRTaXplID0gZm9udFNpemUgKyAncHgnO1xuXHRcdHRyYWNrRGl2LnN0eWxlLnRyYW5zaXRpb25Qcm9wZXJ0eSA9ICdhbGwnO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmdseXBocy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgZ2x5cGggPSB0aGlzLmdseXBoc1tpXTtcblx0XHRcdGF3YWl0IGdseXBoLkRpc3BsYXkodHJhY2tEaXYsIGZvbnRTaXplKTtcblx0XHR9XG5cblx0XHR0cmFja0Rpdi5yZW1vdmUoKTtcblx0fVxuXG5cdGFzeW5jIERpc3BsYXlMb29wKGRpdjogSFRNTERpdkVsZW1lbnQsIGZvbnRTaXplID0gMTcuNSkge1xuXHRcdGNvbnN0IHRyYWNrRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xuXHRcdHRyYWNrRGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcblxuXHRcdHRyYWNrRGl2LnN0eWxlLmZvbnRGYW1pbHkgPSAnQ29sb3JMYW5nJztcblx0XHR0cmFja0Rpdi5zdHlsZS5mb250U2l6ZSA9IGZvbnRTaXplICsgJ3B4Jztcblx0XHR0cmFja0Rpdi5zdHlsZS50cmFuc2l0aW9uUHJvcGVydHkgPSAnYWxsJztcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5nbHlwaHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGdseXBoID0gdGhpcy5nbHlwaHNbaV07XG5cblx0XHRcdGF3YWl0IGdseXBoLkRpc3BsYXkodHJhY2tEaXYsIGZvbnRTaXplKTtcblxuXHRcdFx0aWYgKGkgPT09IHRoaXMuZ2x5cGhzLmxlbmd0aCAtIDEpIHtcblx0XHRcdFx0aSA9IC0xO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRyYWNrRGl2LnJlbW92ZSgpO1xuXHR9XG5cblx0RGlzcGxheUVkaXRvcihnbHlwaHNEaXY6IEhUTUxEaXZFbGVtZW50KSB7XG5cdFx0Z2x5cGhzRGl2LmVtcHR5KCk7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmdseXBocy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgaW5kZXggPSBpO1xuXHRcdFx0Y29uc3QgZ2x5cGhEaXYgPSBnbHlwaHNEaXYuY3JlYXRlRGl2KCdoYm94Jyk7XG5cdFx0XHRnbHlwaERpdi5zdHlsZS53aWR0aCA9ICcxMDAlJztcblx0XHRcdHRoaXMuZ2x5cGhzW2ldLkRpc3BsYXlFZGl0b3IoZ2x5cGhEaXYpO1xuXHRcdFx0Y29uc3QgZGVsZXRlQnV0dG9uID0gZ2x5cGhEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJy0nIH0gKTtcblx0XHRcdGRlbGV0ZUJ1dHRvbi5jbGFzc05hbWUgPSAnY2ZlLXJlbW92ZS1idXR0b24nO1xuXHRcdFx0ZGVsZXRlQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHRcdGdseXBoRGl2LnJlbW92ZSgpO1xuXHRcdFx0XHR0aGlzLmdseXBocy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFx0XHR0aGlzLkRpc3BsYXlFZGl0b3IoZ2x5cGhzRGl2KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Y29uc3QgYWRkQnV0dG9uID0gZ2x5cGhzRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICcrJyB9ICk7XG5cdFx0YWRkQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHR0aGlzLmdseXBocy5wdXNoKG5ldyBDb2xvckdseXBoKCkpO1xuXHRcdFx0dGhpcy5EaXNwbGF5RWRpdG9yKGdseXBoc0Rpdik7XG5cdFx0fVxuXHR9XG59XG5cbmNsYXNzIENvbG9yR2x5cGgge1xuXHRzaGFwZTogc3RyaW5nO1xuXHRjb2xvcjogc3RyaW5nO1xuXHRvcGFjaXR5OiBudW1iZXI7XG5cdHRyYW5zaXRpb25UaW1lOiBudW1iZXI7XG5cdGR1cmF0aW9uOiBudW1iZXI7XG5cdHNpemU6IG51bWJlcjtcblx0eDogbnVtYmVyO1xuXHR5OiBudW1iZXI7XG5cdHo6IG51bWJlcjtcblx0cjogbnVtYmVyO1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMuc2hhcGUgPSAnbyc7XG5cdFx0dGhpcy5jb2xvciA9ICcjRkZGRkZGJztcblx0XHR0aGlzLm9wYWNpdHkgPSAxMDA7XG5cdFx0dGhpcy50cmFuc2l0aW9uVGltZSA9IDEwMDtcblx0XHR0aGlzLmR1cmF0aW9uID0gNTAwO1xuXHRcdHRoaXMuc2l6ZSA9IDEwMDtcblx0XHR0aGlzLnggPSAwO1xuXHRcdHRoaXMueSA9IDA7XG5cdFx0dGhpcy56ID0gMDtcblx0XHR0aGlzLnIgPSAwO1xuXHR9XG5cdFxuXHQvLyBGdWxsIGRpc2Nsb3N1cmUsIENoYXRHUFQgd3JvdGUgdGhpcyBvbmVcblx0cHJpdmF0ZSBoZXhUb1JHQkEoaGV4OiBzdHJpbmcsIG9wYWNpdHk6IG51bWJlcik6IHN0cmluZyB7XG5cdFx0Ly8gUmVtb3ZlICcjJyBpZiBwcmVzZW50XG5cdFx0aGV4ID0gaGV4LnJlcGxhY2UoJyMnLCAnJyk7XG5cblx0XHQvLyBQYXJzZSBoZXggY29tcG9uZW50c1xuXHRcdGNvbnN0IHIgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDAsIDIpLCAxNik7XG5cdFx0Y29uc3QgZyA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoMiwgNCksIDE2KTtcblx0XHRjb25zdCBiID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZyg0LCA2KSwgMTYpO1xuXG5cdFx0Ly8gQ29udmVydCBvcGFjaXR5IHBlcmNlbnRhZ2UgdG8gYSBmbG9hdCBiZXR3ZWVuIDAgYW5kIDFcblx0XHRjb25zdCBhbHBoYSA9IG9wYWNpdHkgLyAxMDA7XG5cblx0XHQvLyBDb25zdHJ1Y3QgUkdCQSBzdHJpbmdcblx0XHRyZXR1cm4gYHJnYmEoJHtyfSwgJHtnfSwgJHtifSwgJHthbHBoYX0pYDtcblx0fVxuXG5cdERpc3BsYXlTdGF0aWMoZGl2OiBIVE1MRGl2RWxlbWVudCwgZm9udFNpemU6IG51bWJlcikge1xuXHRcdGRpdi50ZXh0Q29udGVudCA9IHRoaXMuc2hhcGU7XG5cdFx0ZGl2LnN0eWxlLmNvbG9yID0gdGhpcy5oZXhUb1JHQkEodGhpcy5jb2xvciwgdGhpcy5vcGFjaXR5KTtcblx0XHRkaXYuc3R5bGUuZm9udFNpemUgPSAoZm9udFNpemUgKiB0aGlzLnNpemUgLyAxMDApICsgJ3B4Jztcblx0XHRkaXYuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgtNTAlLCA1MCUpIHJvdGF0ZSgnICsgdGhpcy5yICsgJ2RlZyknO1xuXHRcdGRpdi5zdHlsZS5sZWZ0ID0gKHRoaXMueCArIDUwKSArICclJztcblx0XHRkaXYuc3R5bGUuYm90dG9tID0gKHRoaXMueSArIDUwKSArICclJztcblx0XHRkaXYuc3R5bGUuekluZGV4ID0gdGhpcy56ICsgJyc7XG5cdH1cblxuXHRhc3luYyBEaXNwbGF5KGRpdjogSFRNTERpdkVsZW1lbnQsIGZvbnRTaXplOiBudW1iZXIpIHtcblx0XHRkaXYudGV4dENvbnRlbnQgPSB0aGlzLnNoYXBlO1xuXHRcdGRpdi5zdHlsZS5jb2xvciA9IHRoaXMuaGV4VG9SR0JBKHRoaXMuY29sb3IsIHRoaXMub3BhY2l0eSk7XG5cdFx0ZGl2LnN0eWxlLmZvbnRTaXplID0gKGZvbnRTaXplICogdGhpcy5zaXplIC8gMTAwKSArICdweCc7XG5cdFx0ZGl2LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoLTUwJSwgNTAlKSByb3RhdGUoJyArIHRoaXMuciArICdkZWcpJztcblx0XHRkaXYuc3R5bGUubGVmdCA9ICh0aGlzLnggKyA1MCkgKyAnJSc7XG5cdFx0ZGl2LnN0eWxlLmJvdHRvbSA9ICh0aGlzLnkgKyA1MCkgKyAnJSc7XG5cdFx0ZGl2LnN0eWxlLnpJbmRleCA9IHRoaXMueiArICcnO1xuXHRcdGRpdi5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSB0aGlzLnRyYW5zaXRpb25UaW1lICsgJ21zJztcblx0XHRhd2FpdCBzbGVlcCh0aGlzLmR1cmF0aW9uICsgdGhpcy50cmFuc2l0aW9uVGltZSk7XG5cdH1cblxuXHREaXNwbGF5RWRpdG9yKGRpdjogSFRNTERpdkVsZW1lbnQpIHtcblx0XHRjb25zdCBzaGFwZUlucHV0ID0gZGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy5zaGFwZSB9ICk7XG5cdFx0c2hhcGVJbnB1dC5zdHlsZS5mb250RmFtaWx5ID0gJ0NvbG9yTGFuZyc7XG5cdFx0c2hhcGVJbnB1dC5zdHlsZS53aWR0aCA9ICc1JSc7XG5cblx0XHRjb25zdCBjb2xvcklucHV0ID0gZGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ2NvbG9yJywgdmFsdWU6IHRoaXMuY29sb3IgfSApO1xuXHRcdFxuXHRcdGRpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnQWxwaGEnIH0gKTtcblx0XHRjb25zdCBvcGFjaXR5SW5wdXQgPSBkaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLm9wYWNpdHkgKyAnJyB9ICk7XG5cdFx0b3BhY2l0eUlucHV0LnN0eWxlLndpZHRoID0gJzclJztcblxuXHRcdGRpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnVFRpbWUnIH0gKTtcblx0XHRjb25zdCB0cmFuc2l0aW9uVGltZUlucHV0ID0gZGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy50cmFuc2l0aW9uVGltZSArICcnIH0gKTtcblx0XHR0cmFuc2l0aW9uVGltZUlucHV0LnN0eWxlLndpZHRoID0gJzglJztcblx0XHRcblx0XHRkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ0R1cmF0aW9uJyB9ICk7XG5cdFx0Y29uc3QgZHVyYXRpb25JbnB1dCA9IGRpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6IHRoaXMuZHVyYXRpb24gKyAnJyB9ICk7XG5cdFx0ZHVyYXRpb25JbnB1dC5zdHlsZS53aWR0aCA9ICc4JSc7XG5cblx0XHRkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ1NpemUnIH0gKTtcblx0XHRjb25zdCBzaXplSW5wdXQgPSBkaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLnNpemUgKyAnJyB9ICk7XG5cdFx0c2l6ZUlucHV0LnN0eWxlLndpZHRoID0gJzclJztcblx0XHRcblx0XHRkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ3gnIH0gKTtcblx0XHRjb25zdCB4SW5wdXQgPSBkaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLnggKyAnJyB9ICk7XG5cdFx0eElucHV0LnN0eWxlLndpZHRoID0gJzUlJztcblx0XHRcblx0XHRkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ3knIH0gKTtcblx0XHRjb25zdCB5SW5wdXQgPSBkaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLnkgKyAnJyB9ICk7XG5cdFx0eUlucHV0LnN0eWxlLndpZHRoID0gJzUlJztcblx0XHRcblx0XHRkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ3onIH0gKTtcblx0XHRjb25zdCB6SW5wdXQgPSBkaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLnogKyAnJyB9ICk7XG5cdFx0eklucHV0LnN0eWxlLndpZHRoID0gJzUlJztcblxuXHRcdGRpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAncicgfSApO1xuXHRcdGNvbnN0IHJJbnB1dCA9IGRpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6IHRoaXMuciArICcnIH0gKTtcblx0XHRySW5wdXQuc3R5bGUud2lkdGggPSAnNSUnO1xuXG5cdFx0c2hhcGVJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcblx0XHRcdHRoaXMuc2hhcGUgPSBzaGFwZUlucHV0LnZhbHVlO1xuXHRcdH1cblx0XHRjb2xvcklucHV0Lm9uY2hhbmdlID0gKCkgPT4ge1xuXHRcdFx0dGhpcy5jb2xvciA9IGNvbG9ySW5wdXQudmFsdWU7XG5cdFx0fVxuXHRcdG9wYWNpdHlJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcblx0XHRcdHRoaXMub3BhY2l0eSA9IHBhcnNlSW50KG9wYWNpdHlJbnB1dC52YWx1ZSk7XG5cdFx0fVxuXHRcdHRyYW5zaXRpb25UaW1lSW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XG5cdFx0XHR0aGlzLnRyYW5zaXRpb25UaW1lID0gcGFyc2VGbG9hdCh0cmFuc2l0aW9uVGltZUlucHV0LnZhbHVlKTtcblx0XHR9XG5cdFx0ZHVyYXRpb25JbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcblx0XHRcdHRoaXMuZHVyYXRpb24gPSBwYXJzZUZsb2F0KGR1cmF0aW9uSW5wdXQudmFsdWUpO1xuXHRcdH1cblx0XHRzaXplSW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XG5cdFx0XHR0aGlzLnNpemUgPSBwYXJzZUludChzaXplSW5wdXQudmFsdWUpO1xuXHRcdH1cblx0XHR4SW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XG5cdFx0XHR0aGlzLnggPSBwYXJzZUZsb2F0KHhJbnB1dC52YWx1ZSk7XG5cdFx0fVxuXHRcdHlJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcblx0XHRcdHRoaXMueSA9IHBhcnNlRmxvYXQoeUlucHV0LnZhbHVlKTtcblx0XHR9XG5cdFx0eklucHV0Lm9uY2hhbmdlID0gKCkgPT4ge1xuXHRcdFx0dGhpcy56ID0gcGFyc2VGbG9hdCh6SW5wdXQudmFsdWUpO1xuXHRcdH1cblx0XHRySW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XG5cdFx0XHR0aGlzLnIgPSBwYXJzZUZsb2F0KHJJbnB1dC52YWx1ZSk7XG5cdFx0fVxuXHR9XG59XG4iLCAiaW1wb3J0IHsgSHdheXUgfSBmcm9tIFwiLi9od2F5dVwiO1xyXG5pbXBvcnQgeyBFbmdsaXNoIH0gZnJvbSBcIi4vZW5nbGlzaFwiO1xyXG5pbXBvcnQgeyBDb25sYW5nRWxlbWVudCwgQ29ubGFuZ011bHRpTGluZUVkaXRvciwgQ29ubGFuZ09uZUxpbmVFZGl0b3IgfSBmcm9tIFwiLi9sYW5ndWFnZVwiO1xyXG5pbXBvcnQgeyBDb2xvckxhbmcgfSBmcm9tIFwiLi9jb2xvcmxhbmdcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMYW5ndWFnZUhhbmRsZXIge1xyXG5cdHN0YXRpYyBrbm93bkxhbmd1YWdlcyA9IFtcclxuXHRcdCdFbmdsaXNoJyxcclxuXHRcdCdId2F5dScsXHJcblx0XHQnQ29sb3IgTGFuZydcclxuXHRdXHJcblxyXG5cdHN0YXRpYyBDcmVhdGVPbmVMaW5lRWRpdG9yKGNsZWFuRGl2OiBIVE1MRGl2RWxlbWVudCwgZGl2OiBIVE1MRGl2RWxlbWVudCwgbGFuZ3VhZ2U6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCwgZm9udFNpemU6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCwgaXNWZXJ0aWNhbDogYm9vbGVhbiB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCk6IENvbmxhbmdPbmVMaW5lRWRpdG9yIHtcclxuXHRcdHN3aXRjaChsYW5ndWFnZSkge1xyXG5cdFx0XHRjYXNlICdFbmdsaXNoJzpcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRyZXR1cm4gRW5nbGlzaC5DcmVhdGVPbmVMaW5lRWRpdG9yKGNsZWFuRGl2LCBkaXYsIHZhbHVlLCBmb250U2l6ZSwgaXNWZXJ0aWNhbCk7XHJcblx0XHRcdGNhc2UgJ0h3YXl1JzpcclxuXHRcdFx0XHRyZXR1cm4gSHdheXUuQ3JlYXRlT25lTGluZUVkaXRvcihjbGVhbkRpdiwgZGl2LCB2YWx1ZSwgZm9udFNpemUsIGlzVmVydGljYWwpO1xyXG5cdFx0XHRjYXNlICdDb2xvciBMYW5nJzpcclxuXHRcdFx0XHRyZXR1cm4gQ29sb3JMYW5nLkNyZWF0ZU9uZUxpbmVFZGl0b3IoY2xlYW5EaXYsIGRpdiwgdmFsdWUsIGZvbnRTaXplLCBpc1ZlcnRpY2FsKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHN0YXRpYyBDcmVhdGVNdWx0aUxpbmVFZGl0b3IoY2xlYW5EaXY6IEhUTUxEaXZFbGVtZW50LCBkaXY6IEhUTUxEaXZFbGVtZW50LCBsYW5ndWFnZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLCBmb250U2l6ZTogbnVtYmVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLCBpc1ZlcnRpY2FsOiBib29sZWFuIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKTogQ29ubGFuZ011bHRpTGluZUVkaXRvciB7XHJcblx0XHRzd2l0Y2gobGFuZ3VhZ2UpIHtcclxuXHRcdFx0Y2FzZSAnRW5nbGlzaCc6XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0cmV0dXJuIEVuZ2xpc2guQ3JlYXRlTXVsdGlMaW5lRWRpdG9yKGNsZWFuRGl2LCBkaXYsIHZhbHVlLCBmb250U2l6ZSwgaXNWZXJ0aWNhbCk7XHJcblx0XHRcdGNhc2UgJ0h3YXl1JzpcclxuXHRcdFx0XHRyZXR1cm4gSHdheXUuQ3JlYXRlTXVsdGlMaW5lRWRpdG9yKGNsZWFuRGl2LCBkaXYsIHZhbHVlLCBmb250U2l6ZSwgaXNWZXJ0aWNhbCk7XHJcblx0XHRcdGNhc2UgJ0NvbG9yIExhbmcnOlxyXG5cdFx0XHRcdHJldHVybiBDb2xvckxhbmcuQ3JlYXRlTXVsdGlMaW5lRWRpdG9yKGNsZWFuRGl2LCBkaXYsIHZhbHVlLCBmb250U2l6ZSwgaXNWZXJ0aWNhbCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgRGlzcGxheShjbGVhbkRpdjogSFRNTERpdkVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQsIGxhbmd1YWdlOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsIGZvbnRTaXplOiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsIGlzVmVydGljYWw6IGJvb2xlYW4gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpOiBDb25sYW5nRWxlbWVudCB7XHJcblx0XHRzd2l0Y2gobGFuZ3VhZ2UpIHtcclxuXHRcdFx0Y2FzZSAnRW5nbGlzaCc6XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0cmV0dXJuIEVuZ2xpc2guRGlzcGxheShjbGVhbkRpdiwgZGl2LCB2YWx1ZSwgZm9udFNpemUsIGlzVmVydGljYWwpO1xyXG5cdFx0XHRjYXNlICdId2F5dSc6XHJcblx0XHRcdFx0cmV0dXJuIEh3YXl1LkRpc3BsYXkoY2xlYW5EaXYsIGRpdiwgdmFsdWUsIGZvbnRTaXplLCBpc1ZlcnRpY2FsKTtcclxuXHRcdFx0Y2FzZSAnQ29sb3IgTGFuZyc6XHJcblx0XHRcdFx0cmV0dXJuIENvbG9yTGFuZy5EaXNwbGF5KGNsZWFuRGl2LCBkaXYsIHZhbHVlLCBmb250U2l6ZSwgaXNWZXJ0aWNhbCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgU3BlYWtPckFuaW1hdGUoY2xlYW5EaXY6IEhUTUxEaXZFbGVtZW50LCBkaXY6IEhUTUxEaXZFbGVtZW50LCBsYW5ndWFnZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLCBmb250U2l6ZTogbnVtYmVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLCBpc1ZlcnRpY2FsOiBib29sZWFuIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKTogQ29ubGFuZ0VsZW1lbnQge1xyXG5cdFx0c3dpdGNoKGxhbmd1YWdlKSB7XHJcblx0XHRcdGNhc2UgJ0VuZ2xpc2gnOlxyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdHRocm93IEVycm9yKCdUaGlzIGxhbmd1YWdlIGRvZXMgbm90IGhhdmUgYW4gYW5pbWF0aW5nIG9yIHNwZWFraW5nIGZ1bmN0aW9uJyk7XHJcblx0XHRcdGNhc2UgJ0h3YXl1JzpcclxuXHRcdFx0XHR0aHJvdyBFcnJvcignVGhpcyBsYW5ndWFnZSBkb2VzIG5vdCBoYXZlIGFuIGFuaW1hdGluZyBvciBzcGVha2luZyBmdW5jdGlvbicpO1xyXG5cdFx0XHRjYXNlICdDb2xvciBMYW5nJzpcclxuXHRcdFx0XHRyZXR1cm4gQ29sb3JMYW5nLlNwZWFrT3JBbmltYXRlKGNsZWFuRGl2LCBkaXYsIHZhbHVlLCBmb250U2l6ZSwgaXNWZXJ0aWNhbCk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBDRkVGaWxlIH0gZnJvbSBcIi4vY2ZlLWZpbGVcIjtcbmltcG9ydCB7IExhbmd1YWdlSGFuZGxlciB9IGZyb20gXCIuL2NvbmxhbmdzL2xhbmd1YWdlLWhhbmRsZXJcIjtcbmltcG9ydCB7IFNvdXJjZUFuZFZhdWx0IH0gZnJvbSBcIi4vc252XCI7XG5cbmV4cG9ydCBjbGFzcyBDb25sYW5nRGljdGlvbmFyeSBleHRlbmRzIENGRUZpbGUge1xuXG5cdHRlcm1MYW5ndWFnZTogc3RyaW5nO1xuXHRkZWZpbml0aW9uTGFuZ3VhZ2U6IHN0cmluZztcblx0d29yZHM6IFtzdHJpbmcsIHN0cmluZ11bXTtcblx0c2VhcmNoVGVybTogc3RyaW5nO1xuXHRzZWFyY2hJbkNvbmxhbmc6IGJvb2xlYW47XG5cblx0c3RhdGljIG92ZXJyaWRlIGFzeW5jIENyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnY6IFNvdXJjZUFuZFZhdWx0LCBmaWxlVHlwZTogc3RyaW5nLCBwYXJlbnRGb2xkZXJJRDogbnVtYmVyLCBuYW1lOiBzdHJpbmcpOiBQcm9taXNlPENvbmxhbmdEaWN0aW9uYXJ5PiB7XG5cdFx0Y29uc3QgdW5maW5pc2hlZERpY3Rpb25hcnkgPSA8Q29ubGFuZ0RpY3Rpb25hcnk+IGF3YWl0IHN1cGVyLkNyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnYsIGZpbGVUeXBlLCBwYXJlbnRGb2xkZXJJRCwgbmFtZSk7XG5cdFx0dW5maW5pc2hlZERpY3Rpb25hcnkudGVybUxhbmd1YWdlID0gJ0VuZ2xpc2gnO1xuXHRcdHVuZmluaXNoZWREaWN0aW9uYXJ5LmRlZmluaXRpb25MYW5ndWFnZSA9ICdFbmdsaXNoJztcblx0XHR1bmZpbmlzaGVkRGljdGlvbmFyeS53b3JkcyA9IFtdO1xuXHRcdHVuZmluaXNoZWREaWN0aW9uYXJ5LnNlYXJjaFRlcm0gPSAnJztcblx0XHR1bmZpbmlzaGVkRGljdGlvbmFyeS5zZWFyY2hJbkNvbmxhbmcgPSBmYWxzZTtcblx0XHRyZXR1cm4gdW5maW5pc2hlZERpY3Rpb25hcnk7XG5cdH1cblxuXHRvdmVycmlkZSBhc3luYyBEaXNwbGF5KHNudjogU291cmNlQW5kVmF1bHQsIG1haW5EaXY6IEhUTUxEaXZFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0YXdhaXQgc3VwZXIuRGlzcGxheShzbnYsIG1haW5EaXYpO1xuXG5cdFx0bWFpbkRpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ1Rlcm0gTGFuZ3VhZ2UnIH0gKTtcblx0XHRjb25zdCB0ZXJtTGFuZ3VhZ2VEcm9wZG93biA9IG1haW5EaXYuY3JlYXRlRWwoJ3NlbGVjdCcpO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgTGFuZ3VhZ2VIYW5kbGVyLmtub3duTGFuZ3VhZ2VzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBjdXJyZW50TGFuZyA9IExhbmd1YWdlSGFuZGxlci5rbm93bkxhbmd1YWdlc1tpXTtcblx0XHRcdHRlcm1MYW5ndWFnZURyb3Bkb3duLmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6IGN1cnJlbnRMYW5nLCB2YWx1ZTogY3VycmVudExhbmcgfSApO1xuXHRcdH1cblx0XHR0ZXJtTGFuZ3VhZ2VEcm9wZG93bi52YWx1ZSA9IHRoaXMudGVybUxhbmd1YWdlO1xuXG5cdFx0bWFpbkRpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0RlZmluaXRpb24gTGFuZ3VhZ2UnIH0gKTtcblx0XHRjb25zdCBkZWZpbml0aW9uTGFuZ3VhZ2VEcm9wZG93biA9IG1haW5EaXYuY3JlYXRlRWwoJ3NlbGVjdCcpO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgTGFuZ3VhZ2VIYW5kbGVyLmtub3duTGFuZ3VhZ2VzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBjdXJyZW50TGFuZyA9IExhbmd1YWdlSGFuZGxlci5rbm93bkxhbmd1YWdlc1tpXTtcblx0XHRcdGRlZmluaXRpb25MYW5ndWFnZURyb3Bkb3duLmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6IGN1cnJlbnRMYW5nLCB2YWx1ZTogY3VycmVudExhbmcgfSApO1xuXHRcdH1cblx0XHRkZWZpbml0aW9uTGFuZ3VhZ2VEcm9wZG93bi52YWx1ZSA9IHRoaXMuZGVmaW5pdGlvbkxhbmd1YWdlO1xuXG5cdFx0Y29uc3QgYWRkV29yZERpdiA9IG1haW5EaXYuY3JlYXRlRGl2KCd2Ym94Jyk7XG5cdFx0YXdhaXQgdGhpcy5DcmVhdGVOZXdXb3JkRWRpdG9yKHNudiwgbWFpbkRpdiwgYWRkV29yZERpdik7XG5cblx0XHR0ZXJtTGFuZ3VhZ2VEcm9wZG93bi5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdHRoaXMudGVybUxhbmd1YWdlID0gdGVybUxhbmd1YWdlRHJvcGRvd24udmFsdWU7XG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdGF3YWl0IHRoaXMuRGlzcGxheShzbnYsIG1haW5EaXYpO1xuXHRcdH1cblx0XHRkZWZpbml0aW9uTGFuZ3VhZ2VEcm9wZG93bi5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdHRoaXMuZGVmaW5pdGlvbkxhbmd1YWdlID0gZGVmaW5pdGlvbkxhbmd1YWdlRHJvcGRvd24udmFsdWU7XG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdGF3YWl0IHRoaXMuRGlzcGxheShzbnYsIG1haW5EaXYpO1xuXHRcdH1cblxuXHRcdGF3YWl0IHRoaXMuRGlzcGxheUxpc3Qoc252LCBtYWluRGl2KTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgRGlzcGxheVdvcmQoc252OiBTb3VyY2VBbmRWYXVsdCwgbWFpbkRpdjogSFRNTERpdkVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQsIGluZGV4OiBudW1iZXIpIHtcblx0XHRkaXYuZW1wdHkoKTtcblxuXHRcdGNvbnN0IG1vZGVCdXR0b24gPSBkaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0VkaXQnIH0gKTtcblx0XHRtb2RlQnV0dG9uLnN0eWxlLnRvcCA9ICcwJztcblx0XHRtb2RlQnV0dG9uLnN0eWxlLnJpZ2h0ID0gJzAnO1xuXHRcdG1vZGVCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdGF3YWl0IHRoaXMuRWRpdFdvcmQoc252LCBtYWluRGl2LCBkaXYsIGluZGV4KTtcblx0XHR9XG5cblx0XHRjb25zdCB3b3JkRGl2ID0gZGl2LmNyZWF0ZURpdignaGJveCcpO1xuXHRcdHdvcmREaXYuc3R5bGUuZ2FwID0gJzElJztcblx0XHR3b3JkRGl2LnN0eWxlLmZvbnRTaXplID0gJzE3LjVweCc7XG5cdFx0Y29uc3QgY29ubGFuZ1dvcmQgPSB0aGlzLndvcmRzW2luZGV4XVswXTtcblx0XHRjb25zdCBkZWZpbml0aW9uID0gdGhpcy53b3Jkc1tpbmRleF1bMV07XG5cdFx0Y29uc3QgY29ubGFuZ1dvcmREaXYgPSBMYW5ndWFnZUhhbmRsZXIuRGlzcGxheShtYWluRGl2LCB3b3JkRGl2LCB0aGlzLnRlcm1MYW5ndWFnZSwgY29ubGFuZ1dvcmQsIDE3LjUpO1xuXHRcdGNvbmxhbmdXb3JkRGl2LmNsYXNzTGlzdC5hZGQoJ2NmZS1wb2ludGVyLWhvdmVyJyk7XG5cdFx0d29yZERpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnOicgfSApO1xuXHRcdExhbmd1YWdlSGFuZGxlci5EaXNwbGF5KG1haW5EaXYsIHdvcmREaXYsIHRoaXMuZGVmaW5pdGlvbkxhbmd1YWdlLCBkZWZpbml0aW9uLCAxNy41KTtcblxuXHRcdGNvbmxhbmdXb3JkRGl2Lm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChjb25sYW5nV29yZCk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNvcHkgdGV4dDogJywgZXJyKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIEVkaXRXb3JkKHNudjogU291cmNlQW5kVmF1bHQsIG1haW5EaXY6IEhUTUxEaXZFbGVtZW50LCBkaXY6IEhUTUxEaXZFbGVtZW50LCBpbmRleDogbnVtYmVyKSB7XG5cdFx0ZGl2LmVtcHR5KCk7XG5cdFx0Y29uc3QgYnV0dG9uc0RpdiA9IGRpdi5jcmVhdGVEaXYoJ2hib3gnKTtcblxuXHRcdGNvbnN0IG1vZGVCdXR0b24gPSBidXR0b25zRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdWaWV3JyB9ICk7XG5cdFx0bW9kZUJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0YXdhaXQgdGhpcy5EaXNwbGF5V29yZChzbnYsIG1haW5EaXYsIGRpdiwgaW5kZXgpO1xuXHRcdH1cblxuXHRcdGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0RlbGV0ZScgfSApO1xuXHRcdGRlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QgPSAnY2ZlLXJlbW92ZS1idXR0b24nO1xuXHRcdGRlbGV0ZUJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0dGhpcy53b3Jkcy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XG5cdFx0XHRhd2FpdCB0aGlzLkRpc3BsYXkoc252LCBtYWluRGl2KTtcblx0XHR9XG5cblx0XHRjb25zdCB3b3JkRGl2ID0gZGl2LmNyZWF0ZURpdigndmJveCcpO1xuXHRcdHdvcmREaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdXb3JkIGluICcgKyB0aGlzLnRlcm1MYW5ndWFnZSB9ICk7XG5cdFx0Y29uc3QgY29ubGFuZ1dvcmQgPSB0aGlzLndvcmRzW2luZGV4XVswXTtcblx0XHRjb25zdCBkZWZpbml0aW9uID0gdGhpcy53b3Jkc1tpbmRleF1bMV07XG5cdFx0Y29uc3QgbmV3V29yZElucHV0ID0gTGFuZ3VhZ2VIYW5kbGVyLkNyZWF0ZU9uZUxpbmVFZGl0b3IobWFpbkRpdiwgd29yZERpdiwgdGhpcy50ZXJtTGFuZ3VhZ2UsIGNvbmxhbmdXb3JkLCAxNy41LCBmYWxzZSk7XG5cblx0XHR3b3JkRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnRGVmaW5pdGlvbicgfSApO1xuXHRcdGNvbnN0IGRlZmluaXRpb25JbnB1dCA9IExhbmd1YWdlSGFuZGxlci5DcmVhdGVPbmVMaW5lRWRpdG9yKG1haW5EaXYsIHdvcmREaXYsIHRoaXMuZGVmaW5pdGlvbkxhbmd1YWdlLCBkZWZpbml0aW9uLCAxNy41LCBmYWxzZSk7XG5cblx0XHRjb25zdCBvblN1Ym1pdCA9IGFzeW5jICgpID0+IHtcblx0XHRcdHRoaXMud29yZHNbaW5kZXhdID0gW25ld1dvcmRJbnB1dC52YWx1ZSwgZGVmaW5pdGlvbklucHV0LnZhbHVlXTtcblx0XHRcdHRoaXMuUmVTb3J0KGluZGV4KTtcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xuXHRcdFx0YXdhaXQgdGhpcy5EaXNwbGF5KHNudiwgbWFpbkRpdik7XG5cdFx0fVxuXG5cdFx0ZGl2Lm9ua2V5ZG93biA9IGFzeW5jIChldmVudCkgPT4ge1xuXHRcdFx0aWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJykge1xuXHRcdFx0XHRhd2FpdCBvblN1Ym1pdCgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgQ3JlYXRlTmV3V29yZEVkaXRvcihzbnY6IFNvdXJjZUFuZFZhdWx0LCBtYWluRGl2OiBIVE1MRGl2RWxlbWVudCwgZGl2OiBIVE1MRGl2RWxlbWVudCkge1xuXHRcdGRpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0FkZCBOZXcgV29yZDonIH0gKTtcblx0XHRkaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdXb3JkIGluICcgKyB0aGlzLnRlcm1MYW5ndWFnZSB9ICk7XG5cdFx0Y29uc3QgbmV3V29yZElucHV0ID0gTGFuZ3VhZ2VIYW5kbGVyLkNyZWF0ZU9uZUxpbmVFZGl0b3IobWFpbkRpdiwgZGl2LCB0aGlzLnRlcm1MYW5ndWFnZSwgdW5kZWZpbmVkLCAxNy41LCBmYWxzZSk7XG5cblx0XHRkaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdEZWZpbml0aW9uJyB9ICk7XG5cdFx0Y29uc3QgZGVmaW5pdGlvbklucHV0ID0gTGFuZ3VhZ2VIYW5kbGVyLkNyZWF0ZU9uZUxpbmVFZGl0b3IobWFpbkRpdiwgZGl2LCB0aGlzLmRlZmluaXRpb25MYW5ndWFnZSwgdW5kZWZpbmVkLCAxNy41LCBmYWxzZSk7XG5cdFx0Y29uc3Qgc3VibWl0QnV0dG9uID0gZGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdzdWJtaXQnIH0gKTtcblxuXHRcdGNvbnN0IG9uU3VibWl0ID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0dGhpcy53b3Jkcy5wdXNoKFtuZXdXb3JkSW5wdXQudmFsdWUsIGRlZmluaXRpb25JbnB1dC52YWx1ZV0pO1xuXHRcdFx0dGhpcy5SZVNvcnQodGhpcy53b3Jkcy5sZW5ndGggLSAxKTtcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xuXHRcdFx0YXdhaXQgdGhpcy5EaXNwbGF5KHNudiwgbWFpbkRpdik7XG5cdFx0fVxuXG5cdFx0c3VibWl0QnV0dG9uLm9uY2xpY2sgPSBvblN1Ym1pdDtcblx0XHRkaXYub25rZXlkb3duID0gYXN5bmMgKGV2ZW50KSA9PiB7XG5cdFx0XHRpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7XG5cdFx0XHRcdGF3YWl0IG9uU3VibWl0KCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBEaXNwbGF5TGlzdChzbnY6IFNvdXJjZUFuZFZhdWx0LCBkaXY6IEhUTUxEaXZFbGVtZW50KSB7XG5cdFx0ZGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnU2VhcmNoIGluICcgKyB0aGlzLnRlcm1MYW5ndWFnZSArICc/JyB9ICk7XG5cdFx0XG5cdFx0Y29uc3QgY2hlY2tib3ggPSBkaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnY2hlY2tib3gnIH0gKTtcblx0XHRjaGVja2JveC5jaGVja2VkID0gdGhpcy5zZWFyY2hJbkNvbmxhbmc7XG5cblx0XHRkaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdTZWFyY2ggdGVybScgfSApO1xuXHRcdFxuXHRcdGNvbnN0IGNvbmxhbmdTZWFyY2ggPSBMYW5ndWFnZUhhbmRsZXIuQ3JlYXRlT25lTGluZUVkaXRvcihkaXYsIGRpdiwgdGhpcy50ZXJtTGFuZ3VhZ2UsIHRoaXMuc2VhcmNoVGVybSwgMTcuNSwgZmFsc2UpO1xuXHRcdGNvbnN0IGRlZmluaXRpb25TZWFyY2ggPSBMYW5ndWFnZUhhbmRsZXIuQ3JlYXRlT25lTGluZUVkaXRvcihkaXYsIGRpdiwgdGhpcy5kZWZpbml0aW9uTGFuZ3VhZ2UsIHRoaXMuc2VhcmNoVGVybSwgMTcuNSwgZmFsc2UpO1xuXHRcdFxuXHRcdGxldCBwcmV2RWxlbWVudCA9IGNoZWNrYm94LmNoZWNrZWQgPyBkZWZpbml0aW9uU2VhcmNoIDogY29ubGFuZ1NlYXJjaDtcblx0XHRsZXQgY3VycmVudEVsZW1lbnQgPSBjaGVja2JveC5jaGVja2VkID8gY29ubGFuZ1NlYXJjaCA6IGRlZmluaXRpb25TZWFyY2g7XG5cblx0XHRwcmV2RWxlbWVudC5zdHlsZS53aWR0aCA9ICcxMDAlJztcblx0XHRjdXJyZW50RWxlbWVudC5zdHlsZS53aWR0aCA9ICcxMDAlJztcblxuXHRcdHRoaXMuc2VhcmNoVGVybSA9IHByZXZFbGVtZW50LnZhbHVlO1xuXHRcdFxuXHRcdHByZXZFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0Y3VycmVudEVsZW1lbnQudmFsdWUgPSB0aGlzLnNlYXJjaFRlcm07XG5cdFx0Y3VycmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xuXHRcdFxuXHRcdGNvbnN0IHJlc3VsdHNEaXYgPSBkaXYuY3JlYXRlRGl2KCdjZmUtZGljdGlvbmFyeS1ncmlkJyk7XG5cdFx0XG5cdFx0Y29uc3QgcmVmcmVzaFJlc3VsdHMgPSAoKSA9PiB7XG5cdFx0XHR0aGlzLnNlYXJjaFRlcm0gPSBjdXJyZW50RWxlbWVudC52YWx1ZTtcblx0XHRcdHRoaXMuc2VhcmNoSW5Db25sYW5nID0gY2hlY2tib3guY2hlY2tlZDtcblx0XHRcdHJlc3VsdHNEaXYuZW1wdHkoKTtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy53b3Jkcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAodGhpcy53b3Jkc1tpXVtjaGVja2JveC5jaGVja2VkID8gMCA6IDFdLmNvbnRhaW5zKGN1cnJlbnRFbGVtZW50LnZhbHVlKSkge1xuXHRcdFx0XHRcdGNvbnN0IHdvcmREaXYgPSByZXN1bHRzRGl2LmNyZWF0ZURpdignY2ZlLWRpY3Rpb25hcnktd29yZCcpO1xuXHRcdFx0XHRcdHRoaXMuRGlzcGxheVdvcmQoc252LCBkaXYsIHdvcmREaXYsIGkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmVmcmVzaFJlc3VsdHMoKTtcblxuXHRcdGNvbmxhbmdTZWFyY2gub25pbnB1dCA9IHJlZnJlc2hSZXN1bHRzO1xuXHRcdGRlZmluaXRpb25TZWFyY2gub25pbnB1dCA9IHJlZnJlc2hSZXN1bHRzO1xuXG5cdFx0Y2hlY2tib3gub25jaGFuZ2UgPSAoKSA9PiB7XG5cdFx0XHRyZXN1bHRzRGl2LmVtcHR5KCk7XG5cblx0XHRcdHByZXZFbGVtZW50ID0gY2hlY2tib3guY2hlY2tlZCA/IGRlZmluaXRpb25TZWFyY2ggOiBjb25sYW5nU2VhcmNoO1xuXHRcdFx0Y3VycmVudEVsZW1lbnQgPSBjaGVja2JveC5jaGVja2VkID8gY29ubGFuZ1NlYXJjaCA6IGRlZmluaXRpb25TZWFyY2g7XG5cdFx0XHR0aGlzLnNlYXJjaFRlcm0gPSBwcmV2RWxlbWVudC52YWx1ZTtcblxuXHRcdFx0cHJldkVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHRcdGN1cnJlbnRFbGVtZW50LnZhbHVlID0gdGhpcy5zZWFyY2hUZXJtO1xuXHRcdFx0Y3VycmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xuXHRcdFx0XG5cdFx0XHRyZWZyZXNoUmVzdWx0cygpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgUmVTb3J0KGluZGV4T2ZDaGFuZ2VkV29yZDogbnVtYmVyKSB7XG5cdFx0Y29uc3QgY2hhbmdlZFdvcmQgPSB0aGlzLndvcmRzLnNwbGljZShpbmRleE9mQ2hhbmdlZFdvcmQsIDEpWzBdO1xuXHRcdGxldCBpID0gMDtcblx0XHRsZXQgbGVmdCA9IDA7XG5cdFx0bGV0IHJpZ2h0ID0gdGhpcy53b3Jkcy5sZW5ndGggLSAxO1xuXHRcdFxuXHRcdHdoaWxlIChsZWZ0IDw9IHJpZ2h0KSB7XG5cdFx0XHRjb25zdCBtaWQgPSBNYXRoLmZsb29yKChsZWZ0ICsgcmlnaHQpIC8gMik7XG5cdFx0XHRpZiAodGhpcy53b3Jkc1ttaWRdWzBdIDwgY2hhbmdlZFdvcmRbMF0pIHtcblx0XHRcdFx0bGVmdCA9IG1pZCArIDE7XG5cdFx0XHRcdGkgPSBsZWZ0O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmlnaHQgPSBtaWQgLSAxO1xuXHRcdFx0XHRpID0gbWlkO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMud29yZHMuc3BsaWNlKGksIDAsIGNoYW5nZWRXb3JkKTtcblx0fVxufVxuIiwgImltcG9ydCB7IENGRUZpbGUgfSBmcm9tIFwiLi9jZmUtZmlsZVwiO1xyXG5pbXBvcnQgeyBDRkVGaWxlSGFuZGxlciB9IGZyb20gXCIuL2NmZS1maWxlLWhhbmRsZXJcIjtcclxuaW1wb3J0IHsgTGFuZ3VhZ2VIYW5kbGVyIH0gZnJvbSBcIi4vY29ubGFuZ3MvbGFuZ3VhZ2UtaGFuZGxlclwiO1xyXG5pbXBvcnQgeyBTaW5nbGVNZWRpYUZpbGUgfSBmcm9tIFwiLi9zaW5nbGUtbWVkaWEtZmlsZVwiO1xyXG5pbXBvcnQgeyBTb3VyY2VBbmRWYXVsdCB9IGZyb20gXCIuL3NudlwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0b3J5IGV4dGVuZHMgQ0ZFRmlsZSB7XHJcblx0cHJpdmF0ZSBjdXJyZW50UGFnZUluZGV4OiBudW1iZXI7XHJcblx0cHJpdmF0ZSBwYWdlczogUGFnZVtdO1xyXG5cdHByaXZhdGUgY2hhcmFjdGVyczogQ2hhcmFjdGVyW107XHJcblx0cHJpdmF0ZSBsYW5ndWFnZTogc3RyaW5nO1xyXG5cdHByaXZhdGUgZG9WZXJ0aWNhbDogYm9vbGVhbjtcclxuXHRwcml2YXRlIGZvbnRTaXplOiBudW1iZXI7XHJcblxyXG5cdHByaXZhdGUgTWFrZVZlcnRpY2FsKGVsOiBIVE1MRWxlbWVudCkge1xyXG5cdFx0ZWwuc3R5bGUud3JpdGluZ01vZGUgPSAndmVydGljYWwtbHInO1xyXG5cdFx0ZWwuc3R5bGUudGV4dE9yaWVudGF0aW9uID0gJ3VwcmlnaHQnO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBEaXNwbGF5TGluZUVkaXQobWFpbkRpdjogSFRNTERpdkVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQsIGxpbmU6IERpYWxvZ3VlTGluZSkge1xyXG5cdFx0Y29uc3QgaW5wdXQgPSBMYW5ndWFnZUhhbmRsZXIuQ3JlYXRlTXVsdGlMaW5lRWRpdG9yKG1haW5EaXYsIGRpdiwgdGhpcy5sYW5ndWFnZSwgbGluZS5jb250ZW50KTtcclxuXHRcdGNvbnN0IHNwZWFrZXIgPSB0aGlzLmNoYXJhY3RlcnNbbGluZS5zcGVha2VySW5kZXhdO1xyXG5cdFx0aWYgKHRoaXMubGFuZ3VhZ2UgIT09ICdDb2xvciBMYW5nJykge1xyXG5cdFx0XHRpbnB1dC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBzcGVha2VyLmJhY2tncm91bmRDb2xvcjtcclxuXHRcdFx0aW5wdXQuc3R5bGUuY29sb3IgPSBzcGVha2VyLmNvbG9yO1xyXG5cdFx0fVxyXG5cdFx0aW5wdXQuaXNWZXJ0aWNhbCA9IHRoaXMuZG9WZXJ0aWNhbDtcclxuXHRcdHJldHVybiBpbnB1dDtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBvdmVycmlkZSBhc3luYyBDcmVhdGVOZXdGaWxlRm9yTGF5ZXIoc252OiBTb3VyY2VBbmRWYXVsdCwgZmlsZVR5cGU6IHN0cmluZywgcGFyZW50Rm9sZGVySUQ6IG51bWJlciwgbmFtZTogc3RyaW5nKTogUHJvbWlzZTxTdG9yeT4ge1xyXG5cdFx0Y29uc3QgbmV3U3RvcnlGaWxlID0gPFN0b3J5PiAoYXdhaXQgc3VwZXIuQ3JlYXRlTmV3RmlsZUZvckxheWVyKHNudiwgZmlsZVR5cGUsIHBhcmVudEZvbGRlcklELCBuYW1lKSk7XHJcblx0XHRuZXdTdG9yeUZpbGUuY3VycmVudFBhZ2VJbmRleCA9IDA7XHJcblx0XHRuZXdTdG9yeUZpbGUucGFnZXMgPSBbXTtcclxuXHRcdG5ld1N0b3J5RmlsZS5jaGFyYWN0ZXJzID0gW107XHJcblx0XHRuZXdTdG9yeUZpbGUubGFuZ3VhZ2UgPSAnRW5nbGlzaCc7XHJcblx0XHRuZXdTdG9yeUZpbGUuZG9WZXJ0aWNhbCA9IGZhbHNlO1xyXG5cdFx0cmV0dXJuIG5ld1N0b3J5RmlsZTtcclxuXHR9XHJcblxyXG5cdG92ZXJyaWRlIGFzeW5jIERpc3BsYXkoc252OiBTb3VyY2VBbmRWYXVsdCwgbWFpbkRpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuXHRcdGF3YWl0IHN1cGVyLkRpc3BsYXkoc252LCBtYWluRGl2KTtcclxuXHRcdHRoaXMuTG9hZFN0b3J5VUkoc252LCBtYWluRGl2LmNyZWF0ZURpdigndmJveCcpKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgTG9hZFN0b3J5VUkoc252OiBTb3VyY2VBbmRWYXVsdCwgbWFpbkRpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuXHRcdG1haW5EaXYuZW1wdHkoKTtcclxuXHRcdG1haW5EaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdHbyB0byBwYWdlIG51bWJlcjonIH0gKTtcclxuXHRcdGNvbnN0IHBhZ2VTZWxlY3REaXYgPSBtYWluRGl2LmNyZWF0ZURpdignaGJveCcpO1xyXG5cdFx0Y29uc3QgcGFnZU51bWJlcklucHV0ID0gcGFnZVNlbGVjdERpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6ICcnICsgKHRoaXMuY3VycmVudFBhZ2VJbmRleCArIDEpIH0gKTtcclxuXHRcdHBhZ2VTZWxlY3REaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICcnICsgJy8nICsgdGhpcy5wYWdlcy5sZW5ndGggfSApO1xyXG5cdFx0Y29uc3QgZ29CdXR0b24gPSBwYWdlU2VsZWN0RGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdHbycgfSApO1xyXG5cdFx0Z29CdXR0b24ub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0dGhpcy5jdXJyZW50UGFnZUluZGV4ID0gcGFyc2VJbnQocGFnZU51bWJlcklucHV0LnZhbHVlKSAtIDE7XHJcblx0XHRcdHRoaXMuTG9hZEN1cnJlbnRQYWdlRWRpdChzbnYsIG1haW5EaXYpO1xyXG5cdFx0fVxyXG5cclxuXHRcdG1haW5EaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdGb250IFNpemUgKGluIHB4KTonIH0gKTtcclxuXHRcdGNvbnN0IGZvbnRTaXplSW5wdXQgPSBtYWluRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnIH0gKTtcclxuXHRcdGZvbnRTaXplSW5wdXQudmFsdWUgPSB0aGlzLmZvbnRTaXplID8gJycgKyB0aGlzLmZvbnRTaXplIDogJzE3LjUnO1xyXG5cdFx0Zm9udFNpemVJbnB1dC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0dGhpcy5mb250U2l6ZSA9IHBhcnNlRmxvYXQoZm9udFNpemVJbnB1dC52YWx1ZSk7XHJcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xyXG5cdFx0XHR0aGlzLkxvYWRTdG9yeVVJKHNudiwgbWFpbkRpdik7XHJcblx0XHR9XHJcblxyXG5cdFx0bWFpbkRpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0xhbmd1YWdlOicgfSApO1xyXG5cdFx0Y29uc3QgbGFuZ3VhZ2VJbnB1dCA9IG1haW5EaXYuY3JlYXRlRWwoJ3NlbGVjdCcpO1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBMYW5ndWFnZUhhbmRsZXIua25vd25MYW5ndWFnZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0bGFuZ3VhZ2VJbnB1dC5jcmVhdGVFbCgnb3B0aW9uJywgeyB0ZXh0OiBMYW5ndWFnZUhhbmRsZXIua25vd25MYW5ndWFnZXNbaV0sIHZhbHVlOiBMYW5ndWFnZUhhbmRsZXIua25vd25MYW5ndWFnZXNbaV0gfSApO1xyXG5cdFx0fVxyXG5cdFx0bGFuZ3VhZ2VJbnB1dC52YWx1ZSA9IHRoaXMubGFuZ3VhZ2U7XHJcblx0XHRsYW5ndWFnZUlucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmxhbmd1YWdlID0gbGFuZ3VhZ2VJbnB1dC52YWx1ZTtcclxuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XHJcblx0XHRcdHRoaXMuTG9hZFN0b3J5VUkoc252LCBtYWluRGl2KTtcclxuXHRcdH1cclxuXHJcblx0XHRtYWluRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnVmVydGljYWwgVGV4dCcgfSApO1xyXG5cdFx0Y29uc3QgZG9WZXJ0aWNhbEJveCA9IG1haW5EaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnY2hlY2tib3gnIH0gKTtcclxuXHRcdGRvVmVydGljYWxCb3guY2hlY2tlZCA9IHRoaXMuZG9WZXJ0aWNhbDtcclxuXHRcdGRvVmVydGljYWxCb3gub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0dGhpcy5kb1ZlcnRpY2FsID0gZG9WZXJ0aWNhbEJveC5jaGVja2VkO1xyXG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcclxuXHRcdFx0dGhpcy5Mb2FkU3RvcnlVSShzbnYsIG1haW5EaXYpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuTG9hZENoYXJhY3RlckVkaXRvclVJKHNudiwgbWFpbkRpdik7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIExvYWRDaGFyYWN0ZXJFZGl0b3JVSShzbnY6IFNvdXJjZUFuZFZhdWx0LCBkaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcblx0XHRjb25zdCBjaGFyRWRpdG9yRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xyXG5cdFx0Y2hhckVkaXRvckRpdi5jbGFzc05hbWUgPSB0aGlzLmRvVmVydGljYWwgPyAnaGJveCcgOiAndmJveCc7XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hhcmFjdGVycy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRjb25zdCBjdXJyZW50SW5kZXggPSBpO1xyXG5cdFx0XHRjb25zdCBjaGFyRGl2ID0gY2hhckVkaXRvckRpdi5jcmVhdGVEaXYoKTtcclxuXHRcdFx0Y2hhckRpdi5jbGFzc05hbWUgPSB0aGlzLmRvVmVydGljYWwgPyAndmJveCcgOiAnaGJveCc7XHJcblxyXG5cdFx0XHRjaGFyRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnTmFtZTogJyB9ICk7XHJcblx0XHRcdGNvbnN0IG5hbWVJbnB1dCA9IExhbmd1YWdlSGFuZGxlci5DcmVhdGVPbmVMaW5lRWRpdG9yKGRpdiwgY2hhckRpdiwgdGhpcy5sYW5ndWFnZSwgdGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRJbmRleF0ubmFtZSwgdGhpcy5mb250U2l6ZSwgdGhpcy5kb1ZlcnRpY2FsKTtcclxuXHRcdFx0aWYgKHRoaXMubGFuZ3VhZ2UgIT09ICdDb2xvciBMYW5nJykge1xyXG5cdFx0XHRcdG5hbWVJbnB1dC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmNoYXJhY3RlcnNbY3VycmVudEluZGV4XS5iYWNrZ3JvdW5kQ29sb3I7XHJcblx0XHRcdFx0bmFtZUlucHV0LnN0eWxlLmNvbG9yID0gdGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRJbmRleF0uY29sb3I7XHJcblx0XHRcdH1cclxuXHRcdFx0bmFtZUlucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuY2hhcmFjdGVyc1tjdXJyZW50SW5kZXhdLm5hbWUgPSBuYW1lSW5wdXQudmFsdWU7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XHJcblx0XHRcdFx0dGhpcy5Mb2FkU3RvcnlVSShzbnYsIGRpdik7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHRoaXMuZG9WZXJ0aWNhbCkge1xyXG5cdFx0XHRcdG5hbWVJbnB1dC5zdHlsZS5oZWlnaHQgPSAnZml0LWNvbnRlbnQnO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdG5hbWVJbnB1dC5zdHlsZS53aWR0aCA9ICdmaXQtY29udGVudCc7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHRoaXMubGFuZ3VhZ2UgIT09ICdDb2xvciBMYW5nJykge1xyXG5cdFx0XHRcdHRoaXMuTG9hZENoYXJhY3RlckNvbG9yU2VsZWN0aW9uVUkoc252LCBkaXYsIGNoYXJFZGl0b3JEaXYsIGN1cnJlbnRJbmRleCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGNvbnN0IGFkZENoYXJCdXR0b24gPSBjaGFyRWRpdG9yRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdBZGQgQ2hhcmFjdGVyJyB9ICk7XHJcblx0XHRhZGRDaGFyQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdHRoaXMuY2hhcmFjdGVycy5wdXNoKG5ldyBDaGFyYWN0ZXIoKSk7XHJcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xyXG5cdFx0XHRjaGFyRWRpdG9yRGl2LnJlbW92ZSgpO1xyXG5cdFx0XHR0aGlzLkxvYWRDaGFyYWN0ZXJFZGl0b3JVSShzbnYsIGRpdik7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIExvYWRDaGFyYWN0ZXJDb2xvclNlbGVjdGlvblVJKHNudjogU291cmNlQW5kVmF1bHQsIGRpdjogSFRNTERpdkVsZW1lbnQsIGNoYXJFZGl0b3JEaXY6IEhUTUxEaXZFbGVtZW50LCBjdXJyZW50SW5kZXg6IG51bWJlcikge1xyXG5cdFx0Y29uc3QgY29sb3JEaXYgPSBjaGFyRWRpdG9yRGl2LmNyZWF0ZURpdigpO1xyXG5cdFx0Y29sb3JEaXYuY2xhc3NOYW1lID0gdGhpcy5kb1ZlcnRpY2FsID8gJ3Zib3gnIDogJ2hib3gnO1xyXG5cclxuXHRcdGNvbG9yRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnVGV4dCBDb2xvcjonIH0gKTtcclxuXHRcdGNvbnN0IGNvbG9ySW5wdXQgPSBjb2xvckRpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdjb2xvcicsIHZhbHVlOiB0aGlzLmNoYXJhY3RlcnNbY3VycmVudEluZGV4XS5jb2xvciB9ICk7XHJcblx0XHRjb25zdCBzd2FwQnV0dG9uID0gY29sb3JEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1N3YXAnIH0gKTtcclxuXHRcdGNvbG9ySW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdHRoaXMuY2hhcmFjdGVyc1tjdXJyZW50SW5kZXhdLmNvbG9yID0gY29sb3JJbnB1dC52YWx1ZTtcclxuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XHJcblx0XHRcdGNoYXJFZGl0b3JEaXYucmVtb3ZlKCk7XHJcblx0XHRcdHRoaXMuTG9hZENoYXJhY3RlckVkaXRvclVJKHNudiwgZGl2KTtcclxuXHRcdH1cclxuXHRcdGNvbG9yRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnQmFja2dyb3VuZCBDb2xvcjonIH0gKTtcclxuXHRcdGNvbnN0IGJhY2tncm91bmRJbnB1dCA9IGNvbG9yRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ2NvbG9yJywgdmFsdWU6IHRoaXMuY2hhcmFjdGVyc1tjdXJyZW50SW5kZXhdLmJhY2tncm91bmRDb2xvciB9ICk7XHJcblx0XHRiYWNrZ3JvdW5kSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdHRoaXMuY2hhcmFjdGVyc1tjdXJyZW50SW5kZXhdLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRJbnB1dC52YWx1ZTtcclxuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XHJcblx0XHRcdGNoYXJFZGl0b3JEaXYucmVtb3ZlKCk7XHJcblx0XHRcdHRoaXMuTG9hZENoYXJhY3RlckVkaXRvclVJKHNudiwgZGl2KTtcclxuXHRcdH1cclxuXHRcdHN3YXBCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0dGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRJbmRleF0uYmFja2dyb3VuZENvbG9yID0gY29sb3JJbnB1dC52YWx1ZTtcclxuXHRcdFx0dGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRJbmRleF0uY29sb3IgPSBiYWNrZ3JvdW5kSW5wdXQudmFsdWU7XHJcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xyXG5cdFx0XHRjaGFyRWRpdG9yRGl2LnJlbW92ZSgpO1xyXG5cdFx0XHR0aGlzLkxvYWRDaGFyYWN0ZXJFZGl0b3JVSShzbnYsIGRpdik7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIExvYWRQYWdlU2VsZWN0b3Ioc252OiBTb3VyY2VBbmRWYXVsdCwgbWFpbkRpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuXHRcdGNvbnN0IGJ1dHRvbnNEaXYgPSBtYWluRGl2LmNyZWF0ZURpdignaGJveCcpO1xyXG5cdFx0Y29uc3QgYmFja0J1dHRvbiA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJy0nIH0gKTtcclxuXHRcdGNvbnN0IHBhZ2VOdW1iZXJJbnB1dCA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiAnJyArICh0aGlzLmN1cnJlbnRQYWdlSW5kZXggKyAxKSB9ICk7XHJcblx0XHRidXR0b25zRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnJyArICcvJyArIHRoaXMucGFnZXMubGVuZ3RoIH0gKTtcclxuXHRcdGNvbnN0IG5leHRCdXR0b24gPSBidXR0b25zRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICcrJyB9ICk7XHJcblx0XHRjb25zdCBkZWxldGVCdXR0b24gPSBidXR0b25zRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdEZWxldGUgUGFnZScgfSApO1xyXG5cdFx0ZGVsZXRlQnV0dG9uLmNsYXNzTmFtZSA9ICdjZmUtcmVtb3ZlLWJ1dHRvbic7XHJcblx0XHRjb25zdCBhZGRCdXR0b24gPSBidXR0b25zRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdBZGQgUGFnZScgfSApO1xyXG5cdFx0Y29uc3QgZWRpdE1vZGVCdXR0b24gPSBidXR0b25zRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdFZGl0IE1vZGUnIH0gKTtcclxuXHRcdGNvbnN0IHZpZXdNb2RlQnV0dG9uID0gYnV0dG9uc0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnVmlldyBNb2RlJyB9ICk7XHJcblx0XHRjb25zdCBob21lQnV0dG9uID0gYnV0dG9uc0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnUmV0dXJuIHRvIFN0b3J5JyB9ICk7XHJcblx0XHRob21lQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdGF3YWl0IHRoaXMuTG9hZFN0b3J5VUkoc252LCBtYWluRGl2KTtcclxuXHRcdH1cclxuXHRcdGVkaXRNb2RlQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdGF3YWl0IHRoaXMuTG9hZEN1cnJlbnRQYWdlRWRpdChzbnYsIG1haW5EaXYpO1xyXG5cdFx0fVxyXG5cdFx0dmlld01vZGVCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0YXdhaXQgdGhpcy5Mb2FkQ3VycmVudFBhZ2VEaXNwbGF5T25seShzbnYsIG1haW5EaXYpO1xyXG5cdFx0fVxyXG5cdFx0YmFja0J1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRpZiAodGhpcy5jdXJyZW50UGFnZUluZGV4ID4gMCkge1xyXG5cdFx0XHRcdHRoaXMuY3VycmVudFBhZ2VJbmRleC0tO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuTG9hZEN1cnJlbnRQYWdlRWRpdChzbnYsIG1haW5EaXYpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRuZXh0QnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdGlmICh0aGlzLmN1cnJlbnRQYWdlSW5kZXggPCB0aGlzLnBhZ2VzLmxlbmd0aCkge1xyXG5cdFx0XHRcdHRoaXMuY3VycmVudFBhZ2VJbmRleCsrO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuTG9hZEN1cnJlbnRQYWdlRWRpdChzbnYsIG1haW5EaXYpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRwYWdlTnVtYmVySW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdHRoaXMuY3VycmVudFBhZ2VJbmRleCA9IHBhcnNlSW50KHBhZ2VOdW1iZXJJbnB1dC52YWx1ZSkgLSAxO1xyXG5cdFx0XHRhd2FpdCB0aGlzLkxvYWRDdXJyZW50UGFnZUVkaXQoc252LCBtYWluRGl2KTtcclxuXHRcdH1cclxuXHRcdGRlbGV0ZUJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLnBhZ2VzLnNwbGljZSh0aGlzLmN1cnJlbnRQYWdlSW5kZXgsIDEpO1xyXG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcclxuXHRcdFx0aWYgKHRoaXMuY3VycmVudFBhZ2VJbmRleCAhPT0gMCkge1xyXG5cdFx0XHRcdHRoaXMuY3VycmVudFBhZ2VJbmRleC0tO1xyXG5cdFx0XHR9XHJcblx0XHRcdGF3YWl0IHRoaXMuTG9hZEN1cnJlbnRQYWdlRWRpdChzbnYsIG1haW5EaXYpO1xyXG5cdFx0fVxyXG5cdFx0YWRkQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdGNvbnN0IGRlZmF1bHRQYWdlID0gbmV3IFBhZ2UoKTtcclxuXHRcdFx0Y29uc3QgdGhpc1BhZ2VGaWxlSUQgPSB0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF0ubWVkaWFGaWxlSUQ7XHJcblx0XHRcdGlmICh0aGlzUGFnZUZpbGVJRCAhPT0gLTEgJiYgdGhpc1BhZ2VGaWxlSUQgPCBzbnYuc291cmNlRm9sZGVyLmZpbGVDb3VudCkge1xyXG5cdFx0XHRcdGRlZmF1bHRQYWdlLm1lZGlhRmlsZUlEID0gdGhpc1BhZ2VGaWxlSUQ7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5wYWdlcy5zcGxpY2UodGhpcy5jdXJyZW50UGFnZUluZGV4ICsgMSwgMCwgZGVmYXVsdFBhZ2UpO1xyXG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcclxuXHRcdFx0dGhpcy5jdXJyZW50UGFnZUluZGV4Kys7XHJcblx0XHRcdGF3YWl0IHRoaXMuTG9hZEN1cnJlbnRQYWdlRWRpdChzbnYsIG1haW5EaXYpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBMb2FkQ3VycmVudFBhZ2VFZGl0KHNudjogU291cmNlQW5kVmF1bHQsIG1haW5EaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcblx0XHRtYWluRGl2LmVtcHR5KCk7XHJcblx0XHR0aGlzLkxvYWRQYWdlU2VsZWN0b3Ioc252LCBtYWluRGl2KTtcclxuXHJcblx0XHRtYWluRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnTWVkaWEgRmlsZSBJRDonIH0gKTtcclxuXHRcdGNvbnN0IG1lZGlhRmlsZUlESW5wdXQgPSBtYWluRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnIH0gKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgcGFuZWxEaXYgPSBtYWluRGl2LmNyZWF0ZURpdignaGJveCcpO1xyXG5cdFx0Y29uc3Qgb3V0ZXJNZWRpYURpdiA9IHBhbmVsRGl2LmNyZWF0ZURpdigndmJveCcpO1xyXG5cdFx0b3V0ZXJNZWRpYURpdi5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XHJcblx0XHRjb25zdCBsaW5lc0RpdiA9IHBhbmVsRGl2LmNyZWF0ZURpdigndmJveCcpO1xyXG5cclxuXHRcdGNvbnN0IHNwZWFrRGl2ID0gb3V0ZXJNZWRpYURpdi5jcmVhdGVEaXYoKTtcclxuXHRcdHNwZWFrRGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuXHRcdHNwZWFrRGl2LnN0eWxlLnRvcCA9ICcwcHgnO1xyXG5cdFx0c3BlYWtEaXYuc3R5bGUubGVmdCA9ICcwcHgnO1xyXG5cclxuXHRcdGNvbnN0IG1lZGlhV2lkdGhJbnB1dCA9IG91dGVyTWVkaWFEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcgfSApO1xyXG5cdFx0bWVkaWFXaWR0aElucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRvdXRlck1lZGlhRGl2LnN0eWxlLndpZHRoID0gbWVkaWFXaWR0aElucHV0LnZhbHVlICsgJyUnO1xyXG5cdFx0XHRsaW5lc0Rpdi5zdHlsZS53aWR0aCA9IDEwMCAtIHBhcnNlSW50KG1lZGlhV2lkdGhJbnB1dC52YWx1ZSkgKyAnJSc7XHJcblx0XHRcdHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XS5tZWRpYVNpemVQZXJjZW50YWdlID0gcGFyc2VJbnQobWVkaWFXaWR0aElucHV0LnZhbHVlKTtcclxuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgbWVkaWFEaXYgPSBvdXRlck1lZGlhRGl2LmNyZWF0ZURpdigndmJveCcpO1xyXG5cdFx0b3V0ZXJNZWRpYURpdi5zdHlsZS53aWR0aCA9ICc1MCUnO1xyXG5cdFx0bWVkaWFEaXYuc3R5bGUub2JqZWN0Rml0ID0gJ2NvbnRhaW4nO1xyXG5cdFx0bGluZXNEaXYuc3R5bGUud2lkdGggPSAnNTAlJztcclxuXHRcdGxpbmVzRGl2LnN0eWxlLm1heEhlaWdodCA9ICc4MHZoJztcclxuXHRcdGxpbmVzRGl2LnN0eWxlLnBvc2l0aW9uID0gJ3N0aWNreSc7XHJcblx0XHRsaW5lc0Rpdi5zdHlsZS50b3AgPSAnMCUnO1xyXG5cclxuXHRcdGlmICh0aGlzLmN1cnJlbnRQYWdlSW5kZXggPCB0aGlzLnBhZ2VzLmxlbmd0aCkge1xyXG5cdFx0XHRjb25zdCBjdXJyZW50UGFnZSA9IHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XTtcclxuXHRcdFx0Y29uc3QgbWVkaWFGaWxlSUQgPSBjdXJyZW50UGFnZS5tZWRpYUZpbGVJRDtcclxuXHRcdFx0bWVkaWFGaWxlSURJbnB1dC52YWx1ZSA9ICcnICsgY3VycmVudFBhZ2UubWVkaWFGaWxlSUQ7XHJcblx0XHRcdGlmIChtZWRpYUZpbGVJRCA+IDApIHtcclxuXHRcdFx0XHRjb25zdCBtZWRpYUZpbGUgPSA8U2luZ2xlTWVkaWFGaWxlPiBhd2FpdCBDRkVGaWxlSGFuZGxlci5Mb2FkRmlsZShzbnYsIG1lZGlhRmlsZUlEKTtcclxuXHRcdFx0XHRhd2FpdCBtZWRpYUZpbGUuRGlzcGxheU1lZGlhT25seShtZWRpYURpdiwgc252KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLm1lZGlhU2l6ZVBlcmNlbnRhZ2UpIHtcclxuXHRcdFx0XHRtZWRpYVdpZHRoSW5wdXQudmFsdWUgPSAnJyArIHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XS5tZWRpYVNpemVQZXJjZW50YWdlO1xyXG5cdFx0XHRcdG91dGVyTWVkaWFEaXYuc3R5bGUud2lkdGggPSBtZWRpYVdpZHRoSW5wdXQudmFsdWUgKyAnJSc7XHJcblx0XHRcdFx0bGluZXNEaXYuc3R5bGUud2lkdGggPSAxMDAgLSBwYXJzZUludChtZWRpYVdpZHRoSW5wdXQudmFsdWUpICsgJyUnO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdG1lZGlhV2lkdGhJbnB1dC52YWx1ZSA9ICc1MCc7XHJcblx0XHRcdFx0dGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLm1lZGlhU2l6ZVBlcmNlbnRhZ2UgPSA1MDtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y29uc3QgZGVmYXVsdFBhZ2UgPSBuZXcgUGFnZSgpO1xyXG5cdFx0XHRjb25zdCBsYXN0UGFnZSA9IHRoaXMuY3VycmVudFBhZ2VJbmRleCAtIDE7XHJcblx0XHRcdGlmIChsYXN0UGFnZSA+PSAwICYmIHRoaXMuY3VycmVudFBhZ2VJbmRleCAhPT0gMCkge1xyXG5cdFx0XHRcdGNvbnN0IGxhc3RQYWdlRmlsZUlEID0gdGhpcy5wYWdlc1tsYXN0UGFnZV0ubWVkaWFGaWxlSUQ7XHJcblx0XHRcdFx0Y29uc3QgbGFzdFBhZ2VTaXplID0gdGhpcy5wYWdlc1tsYXN0UGFnZV0ubWVkaWFTaXplUGVyY2VudGFnZTtcclxuXHRcdFx0XHRkZWZhdWx0UGFnZS5tZWRpYVNpemVQZXJjZW50YWdlID0gbGFzdFBhZ2VTaXplO1xyXG5cdFx0XHRcdG1lZGlhV2lkdGhJbnB1dC52YWx1ZSA9ICcnICsgbGFzdFBhZ2VTaXplO1xyXG5cdFx0XHRcdG91dGVyTWVkaWFEaXYuc3R5bGUud2lkdGggPSBtZWRpYVdpZHRoSW5wdXQudmFsdWUgKyAnJSc7XHJcblx0XHRcdFx0bGluZXNEaXYuc3R5bGUud2lkdGggPSAxMDAgLSBwYXJzZUludChtZWRpYVdpZHRoSW5wdXQudmFsdWUpICsgJyUnO1xyXG5cdFx0XHRcdGlmIChsYXN0UGFnZUZpbGVJRCAhPT0gLTEgJiYgbGFzdFBhZ2VGaWxlSUQgPCBzbnYuc291cmNlRm9sZGVyLmZpbGVDb3VudCkge1xyXG5cdFx0XHRcdFx0Y29uc3QgbWVkaWFGaWxlSUQgPSBsYXN0UGFnZUZpbGVJRCArIDE7XHJcblx0XHRcdFx0XHRkZWZhdWx0UGFnZS5tZWRpYUZpbGVJRCA9IG1lZGlhRmlsZUlEO1xyXG5cdFx0XHRcdFx0bWVkaWFGaWxlSURJbnB1dC52YWx1ZSA9ICcnICsgbWVkaWFGaWxlSUQ7XHJcblx0XHRcdFx0XHRpZiAobWVkaWFGaWxlSUQgPiAwKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IG1lZGlhRmlsZSA9IDxTaW5nbGVNZWRpYUZpbGU+IGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNudiwgbWVkaWFGaWxlSUQpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCBtZWRpYUZpbGUuRGlzcGxheU1lZGlhT25seShtZWRpYURpdiwgc252KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5wYWdlcy5wdXNoKGRlZmF1bHRQYWdlKTtcclxuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XHJcblx0XHR9XHJcblx0XHRhd2FpdCB0aGlzLkxvYWREaWFsb2d1ZUxpbmVzRWRpdChzbnYsIGxpbmVzRGl2LCBzcGVha0RpdiwgbWFpbkRpdik7XHJcblx0XHRtZWRpYUZpbGVJRElucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRjb25zdCBjdXJyZW50UGFnZSA9IHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XTtcclxuXHRcdFx0Y3VycmVudFBhZ2UubWVkaWFGaWxlSUQgPSBwYXJzZUludChtZWRpYUZpbGVJRElucHV0LnZhbHVlKTtcclxuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XHJcblx0XHRcdGNvbnN0IG1lZGlhRmlsZSA9IDxTaW5nbGVNZWRpYUZpbGU+IGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNudiwgY3VycmVudFBhZ2UubWVkaWFGaWxlSUQpO1xyXG5cdFx0XHRhd2FpdCBtZWRpYUZpbGUuRGlzcGxheU1lZGlhT25seShtZWRpYURpdiwgc252KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgTG9hZEN1cnJlbnRQYWdlRGlzcGxheU9ubHkoc252OiBTb3VyY2VBbmRWYXVsdCwgbWFpbkRpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuXHRcdG1haW5EaXYuZW1wdHkoKTtcclxuXHJcblx0XHR0aGlzLkxvYWRQYWdlU2VsZWN0b3Ioc252LCBtYWluRGl2KTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgcGFuZWxEaXYgPSBtYWluRGl2LmNyZWF0ZURpdignaGJveCcpO1xyXG5cdFx0Y29uc3Qgb3V0ZXJNZWRpYURpdiA9IHBhbmVsRGl2LmNyZWF0ZURpdigndmJveCcpO1xyXG5cdFx0b3V0ZXJNZWRpYURpdi5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XHJcblx0XHRjb25zdCBsaW5lc0RpdiA9IHBhbmVsRGl2LmNyZWF0ZURpdigndmJveCcpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBzcGVha0RpdiA9IG91dGVyTWVkaWFEaXYuY3JlYXRlRGl2KCk7XHJcblx0XHRzcGVha0Rpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcblx0XHRzcGVha0Rpdi5zdHlsZS50b3AgPSAnMHB4JztcclxuXHRcdHNwZWFrRGl2LnN0eWxlLmxlZnQgPSAnMHB4JztcclxuXHJcblx0XHRjb25zdCBtZWRpYURpdiA9IG91dGVyTWVkaWFEaXYuY3JlYXRlRGl2KCd2Ym94Jyk7XHJcblx0XHRvdXRlck1lZGlhRGl2LnN0eWxlLndpZHRoID0gJzUwJSc7XHJcblx0XHRtZWRpYURpdi5zdHlsZS5vYmplY3RGaXQgPSAnY29udGFpbic7XHJcblx0XHRsaW5lc0Rpdi5zdHlsZS53aWR0aCA9ICc1MCUnO1xyXG5cdFx0bGluZXNEaXYuc3R5bGUubWF4SGVpZ2h0ID0gJzgwdmgnO1xyXG5cdFx0bGluZXNEaXYuc3R5bGUucG9zaXRpb24gPSAnc3RpY2t5JztcclxuXHRcdGxpbmVzRGl2LnN0eWxlLnRvcCA9ICcwJSc7XHJcblxyXG5cdFx0Y29uc3QgY3VycmVudFBhZ2UgPSB0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF07XHJcblx0XHRjb25zdCBtZWRpYUZpbGVJRCA9IGN1cnJlbnRQYWdlLm1lZGlhRmlsZUlEO1xyXG5cdFx0aWYgKG1lZGlhRmlsZUlEID4gMCkge1xyXG5cdFx0XHRjb25zdCBtZWRpYUZpbGUgPSA8U2luZ2xlTWVkaWFGaWxlPiBhd2FpdCBDRkVGaWxlSGFuZGxlci5Mb2FkRmlsZShzbnYsIG1lZGlhRmlsZUlEKTtcclxuXHRcdFx0YXdhaXQgbWVkaWFGaWxlLkRpc3BsYXlNZWRpYU9ubHkobWVkaWFEaXYsIHNudik7XHJcblx0XHR9XHJcblx0XHRpZiAodGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLm1lZGlhU2l6ZVBlcmNlbnRhZ2UpIHtcclxuXHRcdFx0Y29uc3Qgd2lkdGggPSB0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF0ubWVkaWFTaXplUGVyY2VudGFnZTtcclxuXHRcdFx0b3V0ZXJNZWRpYURpdi5zdHlsZS53aWR0aCA9IHdpZHRoICsgJyUnO1xyXG5cdFx0XHRsaW5lc0Rpdi5zdHlsZS53aWR0aCA9IDEwMCAtIHdpZHRoICsgJyUnO1xyXG5cdFx0fVxyXG5cdFx0YXdhaXQgdGhpcy5Mb2FkRGlhbG9ndWVMaW5lc0Rpc3BsYXlPbmx5KGxpbmVzRGl2LCBzcGVha0RpdiwgbWFpbkRpdik7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIExvYWREaWFsb2d1ZUxpbmVzRWRpdChzbnY6IFNvdXJjZUFuZFZhdWx0LCBsaW5lc0RpdjogSFRNTERpdkVsZW1lbnQsIHNwZWFrRGl2OiBIVE1MRGl2RWxlbWVudCwgY2xlYW5EaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcblx0XHRsaW5lc0Rpdi5lbXB0eSgpO1xyXG5cclxuXHRcdGNvbnN0IGV4aXN0aW5nTGluZXNEaXYgPSBsaW5lc0Rpdi5jcmVhdGVEaXYoKTtcclxuXHRcdGV4aXN0aW5nTGluZXNEaXYuY2xhc3NOYW1lID0gdGhpcy5kb1ZlcnRpY2FsID8gJ2hib3gnIDogJ3Zib3gnO1xyXG5cdFx0aWYgKHRoaXMuZG9WZXJ0aWNhbCkge1xyXG5cdFx0XHRleGlzdGluZ0xpbmVzRGl2LnN0eWxlLm92ZXJmbG93WCA9ICdzY3JvbGwnO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZXhpc3RpbmdMaW5lc0Rpdi5zdHlsZS5vdmVyZmxvd1kgPSAnc2Nyb2xsJztcclxuXHRcdH1cclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLmxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRJbmRleCA9IGk7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRMaW5lID0gdGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLmxpbmVzW2ldO1xyXG5cdFx0XHRjb25zdCBzcGVha2VyID0gdGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRMaW5lLnNwZWFrZXJJbmRleF07XHJcblxyXG5cdFx0XHRjb25zdCBsaW5lRGl2ID0gZXhpc3RpbmdMaW5lc0Rpdi5jcmVhdGVEaXYoKTtcclxuXHRcdFx0bGluZURpdi5jbGFzc05hbWUgPSB0aGlzLmRvVmVydGljYWwgPyAndmJveCcgOiAnaGJveCc7XHJcblxyXG5cdFx0XHRjb25zdCBkZWxldGVCdXR0b24gPSBsaW5lRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICctJyB9ICk7XHJcblx0XHRcdGRlbGV0ZUJ1dHRvbi5jbGFzc05hbWUgPSAnY2ZlLXJlbW92ZS1idXR0b24nO1xyXG5cdFx0XHRkZWxldGVCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF0ubGluZXMuc3BsaWNlKGN1cnJlbnRJbmRleCwgMSk7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5Mb2FkRGlhbG9ndWVMaW5lc0VkaXQoc252LCBsaW5lc0Rpdiwgc3BlYWtEaXYsIGNsZWFuRGl2KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodGhpcy5kb1ZlcnRpY2FsKSB7XHJcblx0XHRcdFx0dGhpcy5NYWtlVmVydGljYWwoZGVsZXRlQnV0dG9uKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgcGxheUJ1dHRvbiA9IGxpbmVEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1x1MjVCNycgfSApO1xyXG5cdFx0XHRwbGF5QnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XHJcblx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdExhbmd1YWdlSGFuZGxlci5TcGVha09yQW5pbWF0ZShjbGVhbkRpdiwgc3BlYWtEaXYsIHRoaXMubGFuZ3VhZ2UsIGN1cnJlbnRMaW5lLmNvbnRlbnQsIDE1MCwgdGhpcy5kb1ZlcnRpY2FsKTtcclxuXHRcdFx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdFx0XHRlLmNvbnNvbGUuZXJyb3IoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdGNvbnN0IGNoYXJEcm9wZG93bkJ1dHRvbiA9IGxpbmVEaXYuY3JlYXRlRGl2KCk7XHJcblx0XHRcdGNvbnN0IGNoYXJEcm9wZG93bkRpdiA9IGNoYXJEcm9wZG93bkJ1dHRvbi5jcmVhdGVEaXYoKTtcclxuXHRcdFx0Y2hhckRyb3Bkb3duRGl2LnN0eWxlLmhlaWdodCA9ICdmaXQtY29udGVudCc7XHJcblx0XHRcdGNoYXJEcm9wZG93bkRpdi5zdHlsZS53aWR0aCA9ICdmaXQtY29udGVudCc7XHJcblx0XHRcdGNoYXJEcm9wZG93bkRpdi5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XHJcblx0XHRcdGNoYXJEcm9wZG93bkJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IHNlbGVjdERpdiA9IGNoYXJEcm9wZG93bkRpdi5jcmVhdGVEaXYoKTtcclxuXHRcdFx0XHRzZWxlY3REaXYuY2xhc3NOYW1lID0gdGhpcy5kb1ZlcnRpY2FsID8gJ2hib3gnIDogJ3Zib3gnO1xyXG5cdFx0XHRcdHNlbGVjdERpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcblx0XHRcdFx0c2VsZWN0RGl2LnN0eWxlLnRvcCA9ICcwJSc7XHJcblx0XHRcdFx0c2VsZWN0RGl2LnN0eWxlLmxlZnQgPSAnMCUnO1xyXG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGFyYWN0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0XHRjb25zdCBjdXJyZW50Q2hhckluZGV4ID0gaTtcclxuXHRcdFx0XHRcdGNvbnN0IGN1cnJlbnRDaGFyID0gdGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRDaGFySW5kZXhdO1xyXG5cdFx0XHRcdFx0Y29uc3QgY3VycmVudE9wdGlvbiA9IHNlbGVjdERpdi5jcmVhdGVEaXYoKTtcclxuXHRcdFx0XHRcdGlmICh0aGlzLmRvVmVydGljYWwpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5NYWtlVmVydGljYWwoY3VycmVudE9wdGlvbik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAodGhpcy5sYW5ndWFnZSAhPT0gJ0NvbG9yIExhbmcnKSB7XHJcblx0XHRcdFx0XHRcdGN1cnJlbnRPcHRpb24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY3VycmVudENoYXIuYmFja2dyb3VuZENvbG9yO1xyXG5cdFx0XHRcdFx0XHRjdXJyZW50T3B0aW9uLnN0eWxlLmNvbG9yID0gY3VycmVudENoYXIuY29sb3I7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRjdXJyZW50T3B0aW9uLnN0eWxlLnpJbmRleCA9ICcyJztcclxuXHRcdFx0XHRcdExhbmd1YWdlSGFuZGxlci5EaXNwbGF5KHNwZWFrRGl2LCBjdXJyZW50T3B0aW9uLCB0aGlzLmxhbmd1YWdlLCBjdXJyZW50Q2hhci5uYW1lLCB0aGlzLmZvbnRTaXplLCB0aGlzLmRvVmVydGljYWwpO1xyXG5cdFx0XHRcdFx0Y3VycmVudE9wdGlvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF0ubGluZXNbY3VycmVudEluZGV4XS5zcGVha2VySW5kZXggPSBjdXJyZW50Q2hhckluZGV4O1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcclxuXHRcdFx0XHRcdFx0dGhpcy5Mb2FkRGlhbG9ndWVMaW5lc0VkaXQoc252LCBsaW5lc0Rpdiwgc3BlYWtEaXYsIGNsZWFuRGl2KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IG5hbWVFbCA9IExhbmd1YWdlSGFuZGxlci5EaXNwbGF5KHNwZWFrRGl2LCBjaGFyRHJvcGRvd25EaXYsIHRoaXMubGFuZ3VhZ2UsIHRoaXMuY2hhcmFjdGVyc1tjdXJyZW50TGluZS5zcGVha2VySW5kZXhdLm5hbWUsIHRoaXMuZm9udFNpemUsIHRoaXMuZG9WZXJ0aWNhbCk7XHJcblx0XHRcdGlmICh0aGlzLmxhbmd1YWdlICE9PSAnQ29sb3IgTGFuZycpIHtcclxuXHRcdFx0XHRuYW1lRWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gc3BlYWtlci5iYWNrZ3JvdW5kQ29sb3I7XHJcblx0XHRcdFx0bmFtZUVsLnN0eWxlLmNvbG9yID0gc3BlYWtlci5jb2xvcjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgbGluZUlucHV0ID0gdGhpcy5EaXNwbGF5TGluZUVkaXQoY2xlYW5EaXYsIGxpbmVEaXYsIGN1cnJlbnRMaW5lKTtcclxuXHRcdFx0aWYgKHRoaXMuZG9WZXJ0aWNhbCkge1xyXG5cdFx0XHRcdGxpbmVJbnB1dC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0bGluZUlucHV0LnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRsaW5lSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0Y3VycmVudExpbmUuY29udGVudCA9IGxpbmVJbnB1dC52YWx1ZTtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Y29uc3QgYWRkQnV0dG9uID0gZXhpc3RpbmdMaW5lc0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnKycgfSApO1xyXG5cdFx0YWRkQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XS5saW5lcy5wdXNoKG5ldyBEaWFsb2d1ZUxpbmUoMCkpO1xyXG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcclxuXHRcdFx0YXdhaXQgdGhpcy5Mb2FkRGlhbG9ndWVMaW5lc0VkaXQoc252LCBsaW5lc0Rpdiwgc3BlYWtEaXYsIGNsZWFuRGl2KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgTG9hZERpYWxvZ3VlTGluZXNEaXNwbGF5T25seShsaW5lc0RpdjogSFRNTERpdkVsZW1lbnQsIHNwZWFrRGl2OiBIVE1MRGl2RWxlbWVudCwgY2xlYW5EaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcblx0XHRsaW5lc0Rpdi5lbXB0eSgpO1xyXG5cclxuXHRcdGNvbnN0IGV4aXN0aW5nTGluZXNEaXYgPSBsaW5lc0Rpdi5jcmVhdGVEaXYoKTtcclxuXHRcdGV4aXN0aW5nTGluZXNEaXYuY2xhc3NOYW1lID0gdGhpcy5kb1ZlcnRpY2FsID8gJ2hib3gnIDogJ3Zib3gnIDtcclxuXHRcdGlmICh0aGlzLmRvVmVydGljYWwpIHtcclxuXHRcdFx0ZXhpc3RpbmdMaW5lc0Rpdi5zdHlsZS5vdmVyZmxvd1ggPSAnc2Nyb2xsJztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGV4aXN0aW5nTGluZXNEaXYuc3R5bGUub3ZlcmZsb3dZID0gJ3Njcm9sbCc7XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF0ubGluZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0Y29uc3QgY3VycmVudExpbmUgPSB0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF0ubGluZXNbaV07XHJcblx0XHRcdGNvbnN0IHNwZWFrZXIgPSB0aGlzLmNoYXJhY3RlcnNbY3VycmVudExpbmUuc3BlYWtlckluZGV4XTtcclxuXHRcdFx0XHJcblx0XHRcdGNvbnN0IHBsYXlCdXR0b24gPSBleGlzdGluZ0xpbmVzRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdcdTI1QjcnIH0gKTtcclxuXHRcdFx0Y29uc3QgbmFtZURpdiA9IGV4aXN0aW5nTGluZXNEaXYuY3JlYXRlRGl2KCcnKTtcclxuXHRcdFx0Y29uc3QgbGluZURpdiA9IGV4aXN0aW5nTGluZXNEaXYuY3JlYXRlRGl2KCcnKTtcclxuXHJcblx0XHRcdGNvbnN0IG5hbWVFbCA9IExhbmd1YWdlSGFuZGxlci5EaXNwbGF5KGNsZWFuRGl2LCBuYW1lRGl2LCB0aGlzLmxhbmd1YWdlLCBzcGVha2VyLm5hbWUsIHRoaXMuZm9udFNpemUsIHRoaXMuZG9WZXJ0aWNhbCk7XHJcblx0XHRcdGlmICh0aGlzLmxhbmd1YWdlICE9PSAnQ29sb3IgTGFuZycpIHtcclxuXHRcdFx0XHRuYW1lRWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gc3BlYWtlci5iYWNrZ3JvdW5kQ29sb3I7XHJcblx0XHRcdFx0bmFtZUVsLnN0eWxlLmNvbG9yID0gc3BlYWtlci5jb2xvcjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgbGluZUVsID0gTGFuZ3VhZ2VIYW5kbGVyLkRpc3BsYXkoY2xlYW5EaXYsIGxpbmVEaXYsIHRoaXMubGFuZ3VhZ2UsIGN1cnJlbnRMaW5lLmNvbnRlbnQsIHRoaXMuZm9udFNpemUsIHRoaXMuZG9WZXJ0aWNhbCk7XHJcblx0XHRcdGlmICh0aGlzLmxhbmd1YWdlICE9PSAnQ29sb3IgTGFuZycpIHtcclxuXHRcdFx0XHRsaW5lRWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gc3BlYWtlci5iYWNrZ3JvdW5kQ29sb3I7XHJcblx0XHRcdFx0bGluZUVsLnN0eWxlLmNvbG9yID0gc3BlYWtlci5jb2xvcjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cGxheUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG5cdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRMYW5ndWFnZUhhbmRsZXIuU3BlYWtPckFuaW1hdGUoY2xlYW5EaXYsIHNwZWFrRGl2LCB0aGlzLmxhbmd1YWdlLCBjdXJyZW50TGluZS5jb250ZW50LCAxNTAsIHRoaXMuZG9WZXJ0aWNhbCk7XHJcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdFx0ZS5jb25zb2xlLmVycm9yKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxufVxyXG5cclxuY2xhc3MgUGFnZSB7XHJcblx0bWVkaWFGaWxlSUQ6IG51bWJlcjtcclxuXHRsaW5lczogRGlhbG9ndWVMaW5lW107XHJcblx0bWVkaWFTaXplUGVyY2VudGFnZTogbnVtYmVyO1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0dGhpcy5tZWRpYUZpbGVJRCA9IC0xO1xyXG5cdFx0dGhpcy5saW5lcyA9IFtdO1xyXG5cdFx0dGhpcy5tZWRpYVNpemVQZXJjZW50YWdlID0gNTA7XHJcblx0fVxyXG59XHJcblxyXG5jbGFzcyBEaWFsb2d1ZUxpbmUge1xyXG5cdHNwZWFrZXJJbmRleDogbnVtYmVyO1xyXG5cdGNvbnRlbnQ6IHN0cmluZztcclxuXHRjb25zdHJ1Y3RvcihzcGVha2VySW5kZXg6IG51bWJlcikge1xyXG5cdFx0dGhpcy5zcGVha2VySW5kZXggPSBzcGVha2VySW5kZXg7XHJcblx0XHR0aGlzLmNvbnRlbnQgPSAnJztcclxuXHR9XHJcbn1cclxuXHJcbmNsYXNzIENoYXJhY3RlciB7XHJcblx0bmFtZTogc3RyaW5nO1xyXG5cdGNvbG9yOiBzdHJpbmc7XHJcblx0YmFja2dyb3VuZENvbG9yOiBzdHJpbmc7XHJcblx0Y29uc3RydWN0b3IobmFtZSA9ICcnLCBjb2xvciA9ICcjRkZGRkZGJywgYmFja2dyb3VuZENvbG9yID0gJyMwMDAwMDAnKSB7XHJcblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xyXG5cdFx0dGhpcy5jb2xvciA9IGNvbG9yO1xyXG5cdFx0dGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3I7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBDRkVGaWxlIH0gZnJvbSBcIi4vY2ZlLWZpbGVcIjtcbmltcG9ydCB7IFNvdXJjZUFuZFZhdWx0IH0gZnJvbSBcIi4vc252XCI7XG5cbmV4cG9ydCBjbGFzcyBTdG9yYWdlT3JnYW5pemVyIGV4dGVuZHMgQ0ZFRmlsZSB7XG5cdGl0ZW1MaXN0OiBTdG9yZWRJdGVtW107XG5cdHNlYXJjaFRlcm06IHN0cmluZztcblx0Y3VycmVudEl0ZW06IG51bWJlcjtcblxuXHRzdGF0aWMgb3ZlcnJpZGUgYXN5bmMgQ3JlYXRlTmV3RmlsZUZvckxheWVyKHNudjogU291cmNlQW5kVmF1bHQsIGZpbGVUeXBlOiBzdHJpbmcsIHBhcmVudEZvbGRlcklEOiBudW1iZXIsIG5hbWU6IHN0cmluZyk6IFByb21pc2U8U3RvcmFnZU9yZ2FuaXplcj4ge1xuXHRcdGNvbnN0IG5ld09yZ2FuaXplciA9IDxTdG9yYWdlT3JnYW5pemVyPiBhd2FpdCBzdXBlci5DcmVhdGVOZXdGaWxlRm9yTGF5ZXIoc252LCBmaWxlVHlwZSwgcGFyZW50Rm9sZGVySUQsIG5hbWUpO1xuXHRcdG5ld09yZ2FuaXplci5pdGVtTGlzdCA9IFtuZXcgU3RvcmVkSXRlbSgwKV07XG5cdFx0bmV3T3JnYW5pemVyLnNlYXJjaFRlcm0gPSAnJztcblx0XHRuZXdPcmdhbml6ZXIuY3VycmVudEl0ZW0gPSAwO1xuXHRcdHJldHVybiBuZXdPcmdhbml6ZXI7XG5cdH1cblxuXHRvdmVycmlkZSBhc3luYyBEaXNwbGF5KHNudjogU291cmNlQW5kVmF1bHQsIGRpdjogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRhd2FpdCBzdXBlci5EaXNwbGF5KHNudiwgZGl2KTtcblxuXHRcdGNvbnN0IGJ1dHRvbkRpdiA9IGRpdi5jcmVhdGVEaXYoJ2hib3gnKTtcblx0XHRjb25zdCBzZWFyY2hCdXR0b24gPSBidXR0b25EaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0dvIFNlYXJjaCcgfSApO1xuXHRcdGNvbnN0IHZpZXdCdXR0b24gPSBidXR0b25EaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0dvIHRvIFZpc3VhbGl6ZXInIH0gKTtcblxuXHRcdGNvbnN0IGRpc3BsYXlEaXYgPSBkaXYuY3JlYXRlRGl2KCd2Ym94Jyk7XG5cblx0XHRzZWFyY2hCdXR0b24ub25jbGljayA9ICgpID0+IHtcblx0XHRcdHRoaXMuTG9hZFNlYXJjaChzbnYsIGRpdiwgZGlzcGxheURpdik7XG5cdFx0fVxuXHRcdHZpZXdCdXR0b24ub25jbGljayA9ICgpID0+IHtcblx0XHRcdHRoaXMuaXRlbUxpc3RbdGhpcy5jdXJyZW50SXRlbV0uRGlzcGxheShzbnYsIGRpdiwgZGlzcGxheURpdiwgdGhpcyk7XG5cdFx0fVxuXG5cdFx0dGhpcy5pdGVtTGlzdFt0aGlzLmN1cnJlbnRJdGVtXS5EaXNwbGF5KHNudiwgZGl2LCBkaXNwbGF5RGl2LCB0aGlzKTtcblx0fVxuXG5cdExvYWRBbGxJbm5lck9iamVjdHMoKTogU3RvcmFnZU9yZ2FuaXplciB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLml0ZW1MaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBwbGFpbk9iamVjdCA9IHRoaXMuaXRlbUxpc3RbaV07XG5cdFx0XHR0aGlzLml0ZW1MaXN0W2ldID0gT2JqZWN0LmFzc2lnbihuZXcgU3RvcmVkSXRlbShwbGFpbk9iamVjdC5pZCwgcGxhaW5PYmplY3QuY29udGFpbmVySWQpLCBwbGFpbk9iamVjdCk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0TG9hZFNlYXJjaChzbnY6IFNvdXJjZUFuZFZhdWx0LCBtYWluRGl2OiBIVE1MRGl2RWxlbWVudCwgc2VhcmNoRGl2OiBIVE1MRGl2RWxlbWVudCkge1xuXHRcdHNlYXJjaERpdi5lbXB0eSgpO1xuXHRcdGNvbnN0IHJlc3VsdHNEaXYgPSBzZWFyY2hEaXYuY3JlYXRlRGl2KCk7XG5cblx0XHRjb25zdCBzZWFyY2hCYXIgPSBzZWFyY2hEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLnNlYXJjaFRlcm0gfSApO1xuXHRcdGNvbnN0IGxvYWRSZXN1bHRzID0gKGRpdjogSFRNTERpdkVsZW1lbnQpID0+IHtcblx0XHRcdGRpdi5lbXB0eSgpO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLml0ZW1MaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGNvbnN0IGN1cnJlbnRJdGVtID0gdGhpcy5pdGVtTGlzdFtpXVxuXHRcdFx0XHRpZiAoY3VycmVudEl0ZW0ubmFtZS50b0xvd2VyQ2FzZSgpLmNvbnRhaW5zKHRoaXMuc2VhcmNoVGVybS50b0xvd2VyQ2FzZSgpKSB8fCBjdXJyZW50SXRlbS5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpLmNvbnRhaW5zKHRoaXMuc2VhcmNoVGVybS50b0xvd2VyQ2FzZSgpKSkge1xuXHRcdFx0XHRcdGxldCBkaXJlY3Rpb25zID0gJyc7XG5cdFx0XHRcdFx0Y29uc3QgaW5kZXggPSBpO1xuXHRcdFx0XHRcdGNvbnN0IGRpcmVjdGlvbnNBcnJheSA9IGN1cnJlbnRJdGVtLkdldERpcmVjdGlvbnModGhpcy5pdGVtTGlzdCk7XG5cdFx0XHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBkaXJlY3Rpb25zQXJyYXkubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRcdGNvbnN0IGN1cnJlbnRDb250YWluZXIgPSB0aGlzLml0ZW1MaXN0W2RpcmVjdGlvbnNBcnJheVtqXV07XG5cdFx0XHRcdFx0XHRpZiAoaiA+IDApIHtcblx0XHRcdFx0XHRcdFx0ZGlyZWN0aW9ucyArPSAnIC0+ICc7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRkaXJlY3Rpb25zICs9ICdJRDogJyArIGN1cnJlbnRDb250YWluZXIuaWQgKyAnLCBOYW1lOiAnICsgY3VycmVudENvbnRhaW5lci5uYW1lO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb25zdCBpdGVtRWxlbWVudCA9IGRpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBkaXJlY3Rpb25zIH0gKTtcblx0XHRcdFx0XHRpdGVtRWxlbWVudC5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5pdGVtTGlzdFtpbmRleF0uRGlzcGxheShzbnYsIG1haW5EaXYsIHNlYXJjaERpdiwgdGhpcyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bG9hZFJlc3VsdHMocmVzdWx0c0Rpdik7XG5cdFx0XG5cdFx0c2VhcmNoQmFyLm9uaW5wdXQgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHR0aGlzLnNlYXJjaFRlcm0gPSBzZWFyY2hCYXIudmFsdWU7XG5cdFx0XHRsb2FkUmVzdWx0cyhyZXN1bHRzRGl2KTtcblx0XHR9XG5cdH1cblxufVxuXG5jbGFzcyBTdG9yZWRJdGVtIHtcblx0Y29udGFpbmVySWQ6IG51bWJlcjtcblx0aWQ6IG51bWJlcjtcblx0bmFtZTogc3RyaW5nO1xuXHRkZXNjcmlwdGlvbjogc3RyaW5nO1xuXHRzdG9yZWRJZHM6IG51bWJlcltdO1xuXHR4OiBudW1iZXI7XG5cdHk6IG51bWJlcjtcblx0ejogbnVtYmVyO1xuXHR3aWR0aDogbnVtYmVyO1xuXHRoZWlnaHQ6IG51bWJlcjtcblx0ZGVncmVlc1JvdGF0ZWQ6IG51bWJlcjtcblxuXHRHZXREaXJlY3Rpb25zKGl0ZW1MaXN0OiBTdG9yZWRJdGVtW10pOiBudW1iZXJbXSB7XG5cdFx0Y29uc3QgcGF0aCA9IHRoaXMuY29udGFpbmVySWQgPT09IDAgPyBbMF0gOiBpdGVtTGlzdFt0aGlzLmNvbnRhaW5lcklkXS5HZXREaXJlY3Rpb25zKGl0ZW1MaXN0KTtcblx0XHRwYXRoLnB1c2godGhpcy5pZCk7XG5cdFx0cmV0dXJuIHBhdGg7XG5cdH1cblxuXHRjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCBjb250YWluZXJJZCA9IDApIHtcblx0XHR0aGlzLmNvbnRhaW5lcklkID0gY29udGFpbmVySWQ7XG5cdFx0dGhpcy5pZCA9IGlkO1xuXHRcdHRoaXMubmFtZSA9ICdVbm5hbWVkJztcblx0XHR0aGlzLmRlc2NyaXB0aW9uID0gJ2Rlc2NyaXB0aW9uJztcblx0XHR0aGlzLnN0b3JlZElkcyA9IFtdO1xuXHRcdHRoaXMueCA9IDE1MDtcblx0XHR0aGlzLnkgPSA1MDtcblx0XHR0aGlzLnogPSAwO1xuXHRcdHRoaXMud2lkdGggPSAyNTtcblx0XHR0aGlzLmhlaWdodCA9IDI1O1xuXHRcdHRoaXMuZGVncmVlc1JvdGF0ZWQgPSAwO1xuXHR9XG5cblx0YXN5bmMgRGlzcGxheShzbnY6IFNvdXJjZUFuZFZhdWx0LCBtYWluRGl2OiBIVE1MRGl2RWxlbWVudCwgZGlzcGxheURpdjogSFRNTERpdkVsZW1lbnQsIG9yZ2FuaXplcjogU3RvcmFnZU9yZ2FuaXplcikge1xuXHRcdGRpc3BsYXlEaXYuZW1wdHkoKTtcblxuXHRcdG9yZ2FuaXplci5jdXJyZW50SXRlbSA9IHRoaXMuaWQ7XG5cblx0XHRjb25zdCBiYWNrQnV0dG9uID0gZGlzcGxheURpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnYmFjaycgfSApO1xuXHRcdGJhY2tCdXR0b24ub25jbGljayA9ICgpID0+IHtcblx0XHRcdG9yZ2FuaXplci5pdGVtTGlzdFt0aGlzLmNvbnRhaW5lcklkXS5EaXNwbGF5KHNudiwgbWFpbkRpdiwgZGlzcGxheURpdiwgb3JnYW5pemVyKTtcblx0XHR9XG5cblx0XHRjb25zdCBjb250YWluZXJEaXYgPSBkaXNwbGF5RGl2LmNyZWF0ZURpdigpO1xuXHRcdGNvbnRhaW5lckRpdi5zdHlsZS53aWR0aCA9ICc0MHZ3Jztcblx0XHRjb250YWluZXJEaXYuc3R5bGUuaGVpZ2h0ID0gJzQwdncnO1xuXHRcdGNvbnRhaW5lckRpdi5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG5cblx0XHRjb25zdCBsb25nZXJTaWRlID0gdGhpcy53aWR0aCA+IHRoaXMuaGVpZ2h0ID8gdGhpcy53aWR0aCA6IHRoaXMuaGVpZ2h0O1xuXG5cdFx0Y29uc3QgdGhpc0l0ZW0gPSBjb250YWluZXJEaXYuY3JlYXRlRGl2KCk7XG5cdFx0dGhpc0l0ZW0uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXHRcdHRoaXNJdGVtLnN0eWxlLmJvcmRlclN0eWxlID0gJ3NvbGlkJztcblx0XHR0aGlzSXRlbS5zdHlsZS5ib3JkZXJDb2xvciA9ICd3aGl0ZSc7XG5cdFx0dGhpc0l0ZW0uc3R5bGUud2lkdGggPSAodGhpcy53aWR0aCAvIGxvbmdlclNpZGUgKiAxMDApICsgJyUnO1xuXHRcdHRoaXNJdGVtLnN0eWxlLmhlaWdodCA9ICh0aGlzLmhlaWdodCAvIGxvbmdlclNpZGUgKiAxMDApICsgJyUnO1xuXHRcdHRoaXNJdGVtLnN0eWxlLmxlZnQgPSAnMCUnO1xuXHRcdHRoaXNJdGVtLnN0eWxlLmJvdHRvbSA9ICcwJSc7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RvcmVkSWRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRvcmdhbml6ZXIuaXRlbUxpc3RbdGhpcy5zdG9yZWRJZHNbaV1dLkRpc3BsYXlXaXRoaW5QYXJlbnQoc252LCBtYWluRGl2LCBkaXNwbGF5RGl2LCBjb250YWluZXJEaXYsIG9yZ2FuaXplcik7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZWRpdERpdiA9IGRpc3BsYXlEaXYuY3JlYXRlRGl2KCk7XG5cdFx0dGhpcy5EaXNwbGF5RWRpdG9yKHNudiwgbWFpbkRpdiwgZGlzcGxheURpdiwgZWRpdERpdiwgb3JnYW5pemVyKTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgRGlzcGxheVdpdGhpblBhcmVudChzbnY6IFNvdXJjZUFuZFZhdWx0LCBtYWluRGl2OiBIVE1MRGl2RWxlbWVudCwgZGlzcGxheURpdjogSFRNTERpdkVsZW1lbnQsIHBhcmVudERpdjogSFRNTERpdkVsZW1lbnQsIG9yZ2FuaXplcjogU3RvcmFnZU9yZ2FuaXplcikge1xuXHRcdGNvbnN0IGNvbnRhaW5lciA9IG9yZ2FuaXplci5pdGVtTGlzdFt0aGlzLmNvbnRhaW5lcklkXTtcblx0XHRjb25zdCBsb25nZXJTaWRlID0gY29udGFpbmVyLndpZHRoID4gY29udGFpbmVyLmhlaWdodCA/IGNvbnRhaW5lci53aWR0aCA6IGNvbnRhaW5lci5oZWlnaHQ7XG5cblx0XHRjb25zdCB0aGlzSXRlbSA9IHBhcmVudERpdi5jcmVhdGVEaXYoJ2NmZS1wb2ludGVyLWhvdmVyJyk7XG5cdFx0dGhpc0l0ZW0uc3R5bGUuYm9yZGVyU3R5bGUgPSAnc29saWQnO1xuXHRcdHRoaXNJdGVtLnN0eWxlLmJvcmRlckNvbG9yID0gJ3doaXRlJztcblx0XHR0aGlzSXRlbS5zdHlsZS5jb2xvciA9ICd3aGl0ZSc7XG5cdFx0dGhpc0l0ZW0udGV4dENvbnRlbnQgPSB0aGlzLm5hbWU7XG5cdFx0dGhpc0l0ZW0uc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG5cdFx0dGhpc0l0ZW0uc3R5bGUuYWxpZ25Db250ZW50ID0gJ2NlbnRlcic7XG5cdFx0dGhpc0l0ZW0uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXHRcdHRoaXNJdGVtLnN0eWxlLndpZHRoID0gKHRoaXMud2lkdGggKiBsb25nZXJTaWRlIC8gMTAwKSArICclJztcblx0XHR0aGlzSXRlbS5zdHlsZS5oZWlnaHQgPSAodGhpcy5oZWlnaHQgKiBsb25nZXJTaWRlIC8gMTAwKSArICclJztcblx0XHR0aGlzSXRlbS5zdHlsZS5sZWZ0ID0gdGhpcy54ICsgJyUnO1xuXHRcdHRoaXNJdGVtLnN0eWxlLmJvdHRvbSA9IHRoaXMueSArICclJztcblx0XHR0aGlzSXRlbS5zdHlsZS56SW5kZXggPSB0aGlzLnogKyAnJztcblx0XHR0aGlzSXRlbS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKC01MCUsIDUwJSkgcm90YXRlKCcgKyB0aGlzLmRlZ3JlZXNSb3RhdGVkICsgJ2RlZyknO1xuXHRcdHRoaXNJdGVtLmRyYWdnYWJsZSA9IHRydWU7XG5cdFx0dGhpc0l0ZW0uc3R5bGUucmVzaXplID0gJ2JvdGgnO1xuXHRcdHRoaXNJdGVtLnN0eWxlLm92ZXJmbG93ID0gJ2F1dG8nO1xuXG5cdFx0dGhpc0l0ZW0ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdHRoaXMuRGlzcGxheShzbnYsIG1haW5EaXYsIGRpc3BsYXlEaXYsIG9yZ2FuaXplcik7XG5cdFx0fVxuXHRcdFxuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgKGV2ZW50OiBEcmFnRXZlbnQpID0+IHtcblx0XHRcdC8vI3JlZ2lvbiBUaGUgZm9sbG93aW5nIHJlZ2lvbiB3YXMgd3JpdHRlbiBieSB0aGUgQUkgb3ZlcnZpZXcgaW4gZ29vZ2xlIHNlYXJjaFxuXHRcdFx0Y29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG5cdFx0XHRpbWcuc3JjID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veUg1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlCUkFBNyc7XG5cdFx0XHRldmVudC5kYXRhVHJhbnNmZXI/LnNldERyYWdJbWFnZShpbWcsIDAsIDApO1xuXHRcdFx0Ly8jZW5kcmVnaW9uXG5cdFx0fSk7XG5cblx0XHR0aGlzSXRlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnJywgKGV2ZW50OiBEcmFnRXZlbnQpID0+IHtcblx0XHRcdC8vI3JlZ2lvbiBUaGUgZm9sbG93aW5nIHJlZ2lvbiB3YXMgd3JpdHRlbiBieSB0aGUgQUkgb3ZlcnZpZXcgaW4gZ29vZ2xlIHNlYXJjaFxuXHRcdFx0Y29uc3QgcmVjdCA9IHBhcmVudERpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdFx0Ly8gQ2FsY3VsYXRlIG1vdXNlIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBkaXZcblx0XHRcdGNvbnN0IG1vdXNlWFJlbGF0aXZlVG9EaXYgPSBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0O1xuXHRcdFx0Y29uc3QgbW91c2VZUmVsYXRpdmVUb0RpdiA9IHJlY3QuYm90dG9tIC0gZXZlbnQuY2xpZW50WTtcblxuXHRcdFx0Ly8gQ29udmVydCB0byBwZXJjZW50YWdlXG5cdFx0XHRjb25zdCBtb3VzZVhQZXJjZW50YWdlID0gKChtb3VzZVhSZWxhdGl2ZVRvRGl2IC8gcmVjdC53aWR0aCkgKiAxMDApLnRvRml4ZWQoMik7XG5cdFx0XHRjb25zdCBtb3VzZVlQZXJjZW50YWdlID0gKChtb3VzZVlSZWxhdGl2ZVRvRGl2IC8gcmVjdC5oZWlnaHQpICogMTAwKS50b0ZpeGVkKDIpO1xuXG5cdFx0XHQvLyBPbmUgY2FuIHVzZSB0aGVzZSBwZXJjZW50YWdlIHZhbHVlcyBmb3IgdmFyaW91cyBpbnRlcmFjdGl2ZSBmZWF0dXJlc1xuXHRcdFx0Ly8jZW5kcmVnaW9uXG5cblx0XHRcdHRoaXNJdGVtLnN0eWxlLmxlZnQgPSBtb3VzZVhQZXJjZW50YWdlICsgJyUnO1xuXHRcdFx0dGhpc0l0ZW0uc3R5bGUuYm90dG9tID0gbW91c2VZUGVyY2VudGFnZSArICclJztcblx0XHR9KTtcblx0XHRcblx0XHR0aGlzSXRlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgYXN5bmMgKGV2ZW50OiBEcmFnRXZlbnQpID0+IHtcblx0XHRcdC8vI3JlZ2lvbiBUaGUgZm9sbG93aW5nIHJlZ2lvbiB3YXMgd3JpdHRlbiBieSB0aGUgQUkgb3ZlcnZpZXcgaW4gZ29vZ2xlIHNlYXJjaFxuXHRcdFx0Y29uc3QgcmVjdCA9IHBhcmVudERpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdFx0Ly8gQ2FsY3VsYXRlIG1vdXNlIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBkaXZcblx0XHRcdGNvbnN0IG1vdXNlWFJlbGF0aXZlVG9EaXYgPSBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0O1xuXHRcdFx0Y29uc3QgbW91c2VZUmVsYXRpdmVUb0RpdiA9IHJlY3QuYm90dG9tIC0gZXZlbnQuY2xpZW50WTtcblxuXHRcdFx0Ly8gQ29udmVydCB0byBwZXJjZW50YWdlXG5cdFx0XHRjb25zdCBtb3VzZVhQZXJjZW50YWdlID0gKChtb3VzZVhSZWxhdGl2ZVRvRGl2IC8gcmVjdC53aWR0aCkgKiAxMDApLnRvRml4ZWQoMik7XG5cdFx0XHRjb25zdCBtb3VzZVlQZXJjZW50YWdlID0gKChtb3VzZVlSZWxhdGl2ZVRvRGl2IC8gcmVjdC5oZWlnaHQpICogMTAwKS50b0ZpeGVkKDIpO1xuXG5cdFx0XHQvLyBPbmUgY2FuIHVzZSB0aGVzZSBwZXJjZW50YWdlIHZhbHVlcyBmb3IgdmFyaW91cyBpbnRlcmFjdGl2ZSBmZWF0dXJlc1xuXHRcdFx0Ly8jZW5kcmVnaW9uXG5cblx0XHRcdHRoaXMueCA9IHBhcnNlSW50KG1vdXNlWFBlcmNlbnRhZ2UpO1xuXHRcdFx0dGhpcy55ID0gcGFyc2VJbnQobW91c2VZUGVyY2VudGFnZSk7XG5cdFx0XHR0aGlzSXRlbS5zdHlsZS5sZWZ0ID0gbW91c2VYUGVyY2VudGFnZSArICclJztcblx0XHRcdHRoaXNJdGVtLnN0eWxlLmJvdHRvbSA9IG1vdXNlWVBlcmNlbnRhZ2UgKyAnJSc7XG5cdFx0XHRhd2FpdCBvcmdhbml6ZXIuU2F2ZShzbnYpO1xuXHRcdH0pO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBEaXNwbGF5RWRpdG9yKHNudjogU291cmNlQW5kVmF1bHQsIG1haW5EaXY6IEhUTUxEaXZFbGVtZW50LCBkaXNwbGF5RGl2OiBIVE1MRGl2RWxlbWVudCwgZWRpdG9yRGl2OiBIVE1MRGl2RWxlbWVudCwgb3JnYW5pemVyOiBTdG9yYWdlT3JnYW5pemVyKSB7XG5cdFx0ZWRpdG9yRGl2LmVtcHR5KCk7XG5cdFx0Y29uc3QgaW5wdXREaXYgPSBlZGl0b3JEaXYuY3JlYXRlRGl2KCdoYm94Jyk7XG5cdFx0aW5wdXREaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdJRDogJyArIHRoaXMuaWQgfSApO1xuXHRcdGlucHV0RGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnTmFtZTonIH0gKTtcblx0XHRjb25zdCBuYW1lID0gaW5wdXREaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLm5hbWUgfSApO1xuXHRcdGlucHV0RGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnRGVzY3JpcHRpb246JyB9ICk7XG5cdFx0Y29uc3QgZGVzY3JpcHRpb24gPSBpbnB1dERpdi5jcmVhdGVFbCgndGV4dGFyZWEnLCB7IHRleHQ6IHRoaXMuZGVzY3JpcHRpb24gfSApO1xuXHRcdGlucHV0RGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnWjonIH0gKTtcblx0XHRjb25zdCB6ID0gaW5wdXREaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLnogKyAnJyB9ICk7XG5cdFx0ei5zdHlsZS53aWR0aCA9ICc1JSc7XG5cdFx0aW5wdXREaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdSb3RhdGlvbjonIH0gKTtcblx0XHRjb25zdCByb3RhdGlvbiA9IGlucHV0RGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy5kZWdyZWVzUm90YXRlZCArICcnIH0gKTtcblx0XHRyb3RhdGlvbi5zdHlsZS53aWR0aCA9ICc1JSc7XG5cdFx0aW5wdXREaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdXaWR0aDonIH0gKTtcblx0XHRjb25zdCB3aWR0aCA9IGlucHV0RGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy53aWR0aCArICcnIH0gKTtcblx0XHR3aWR0aC5zdHlsZS53aWR0aCA9ICc1JSc7XG5cdFx0aW5wdXREaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdIZWlnaHQ6JyB9ICk7XG5cdFx0Y29uc3QgaGVpZ2h0ID0gaW5wdXREaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLmhlaWdodCArICcnIH0gKTtcblx0XHRoZWlnaHQuc3R5bGUud2lkdGggPSAnNSUnO1xuXG5cdFx0bmFtZS5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdHRoaXMubmFtZSA9IG5hbWUudmFsdWU7XG5cdFx0XHRhd2FpdCBvcmdhbml6ZXIuU2F2ZShzbnYpO1xuXHRcdFx0dGhpcy5EaXNwbGF5RWRpdG9yKHNudiwgbWFpbkRpdiwgZGlzcGxheURpdiwgZWRpdG9yRGl2LCBvcmdhbml6ZXIpO1xuXHRcdH1cblx0XHRkZXNjcmlwdGlvbi5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbi52YWx1ZTtcblx0XHRcdGF3YWl0IG9yZ2FuaXplci5TYXZlKHNudik7XG5cdFx0XHR0aGlzLkRpc3BsYXlFZGl0b3Ioc252LCBtYWluRGl2LCBkaXNwbGF5RGl2LCBlZGl0b3JEaXYsIG9yZ2FuaXplcik7XG5cdFx0fVxuXHRcdHoub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHR0aGlzLnogPSBwYXJzZUZsb2F0KHoudmFsdWUpO1xuXHRcdFx0YXdhaXQgb3JnYW5pemVyLlNhdmUoc252KTtcblx0XHRcdHRoaXMuRGlzcGxheUVkaXRvcihzbnYsIG1haW5EaXYsIGRpc3BsYXlEaXYsIGVkaXRvckRpdiwgb3JnYW5pemVyKTtcblx0XHR9XG5cdFx0cm90YXRpb24ub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHR0aGlzLmRlZ3JlZXNSb3RhdGVkID0gcGFyc2VGbG9hdChyb3RhdGlvbi52YWx1ZSk7XG5cdFx0XHRhd2FpdCBvcmdhbml6ZXIuU2F2ZShzbnYpO1xuXHRcdFx0dGhpcy5EaXNwbGF5RWRpdG9yKHNudiwgbWFpbkRpdiwgZGlzcGxheURpdiwgZWRpdG9yRGl2LCBvcmdhbml6ZXIpO1xuXHRcdH1cblx0XHR3aWR0aC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdHRoaXMud2lkdGggPSBwYXJzZUZsb2F0KHdpZHRoLnZhbHVlKTtcblx0XHRcdGF3YWl0IG9yZ2FuaXplci5TYXZlKHNudik7XG5cdFx0XHRvcmdhbml6ZXIuRGlzcGxheShzbnYsIG1haW5EaXYpO1xuXHRcdH1cblx0XHRoZWlnaHQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHR0aGlzLmhlaWdodCA9IHBhcnNlRmxvYXQoaGVpZ2h0LnZhbHVlKTtcblx0XHRcdGF3YWl0IG9yZ2FuaXplci5TYXZlKHNudik7XG5cdFx0XHRvcmdhbml6ZXIuRGlzcGxheShzbnYsIG1haW5EaXYpO1xuXHRcdH1cblx0XHRcblx0XHRjb25zdCBzdG9yZWRJdGVtc0RpdiA9IGVkaXRvckRpdi5jcmVhdGVEaXYoJ3Zib3gnKTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RvcmVkSWRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBpbmRleCA9IGk7XG5cdFx0XHRjb25zdCBjdXJyZW50SXRlbSA9IHN0b3JlZEl0ZW1zRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy5zdG9yZWRJZHNbaV0gKyAnJyB9ICk7XG5cdFx0XHRjdXJyZW50SXRlbS5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0b3JnYW5pemVyLml0ZW1MaXN0W3RoaXMuc3RvcmVkSWRzW2luZGV4XV0uaWQgPSBwYXJzZUludChjdXJyZW50SXRlbS52YWx1ZSk7XG5cdFx0XHRcdHRoaXMuc3RvcmVkSWRzW2luZGV4XSA9IHBhcnNlSW50KGN1cnJlbnRJdGVtLnZhbHVlKTtcblx0XHRcdFx0YXdhaXQgb3JnYW5pemVyLlNhdmUoc252KTtcblx0XHRcdFx0b3JnYW5pemVyLkRpc3BsYXkoc252LCBtYWluRGl2KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Y29uc3QgYWRkQnV0dG9uID0gc3RvcmVkSXRlbXNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJysnIH0gKTtcblx0XHRhZGRCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdGNvbnN0IG5ld0lkID0gb3JnYW5pemVyLml0ZW1MaXN0Lmxlbmd0aDtcblx0XHRcdG9yZ2FuaXplci5pdGVtTGlzdC5wdXNoKG5ldyBTdG9yZWRJdGVtKG5ld0lkLCB0aGlzLmlkKSk7XG5cdFx0XHR0aGlzLnN0b3JlZElkcy5wdXNoKG5ld0lkKTtcblx0XHRcdGF3YWl0IG9yZ2FuaXplci5TYXZlKHNudik7XG5cdFx0XHRvcmdhbml6ZXIuRGlzcGxheShzbnYsIG1haW5EaXYpO1xuXHRcdH1cblx0fVxuXG59XG4iLCAiaW1wb3J0IHsgQ0ZFRmlsZSB9IGZyb20gXCIuL2NmZS1maWxlXCI7XG5pbXBvcnQgeyBGb2xkZXIgfSBmcm9tIFwiLi9mb2xkZXJcIjtcbmltcG9ydCB7IFBsYXlsaXN0IH0gZnJvbSBcIi4vcGxheWxpc3RcIjtcbmltcG9ydCB7IFNpbmdsZU1lZGlhRmlsZSB9IGZyb20gXCIuL3NpbmdsZS1tZWRpYS1maWxlXCI7XG5pbXBvcnQgeyBTb3VyY2VBbmRWYXVsdCB9IGZyb20gXCIuL3NudlwiO1xuaW1wb3J0IHsgVmFyaWFudE1lZGlhRmlsZSB9IGZyb20gXCIuL3ZhcmlhbnQtbWVkaWEtZmlsZVwiO1xuaW1wb3J0IHsgU291cmNlRm9sZGVyU2hvcnRjdXQgfSBmcm9tIFwiLi9zb3VyY2UtZm9sZGVyLXNob3J0Y3V0XCI7XG5pbXBvcnQgeyBDb25sYW5nRGljdGlvbmFyeSB9IGZyb20gXCIuL2NvbmxhbmctZGljdGlvbmFyeVwiO1xuaW1wb3J0IHsgU3RvcnkgfSBmcm9tIFwiLi9zdG9yeVwiO1xuaW1wb3J0IHsgU3RvcmFnZU9yZ2FuaXplciB9IGZyb20gXCIuL3N0b3JhZ2Utb3JnYW5pemVyXCI7XG5cbmV4cG9ydCBjbGFzcyBDRkVGaWxlSGFuZGxlciB7XG5cblx0LyoqXG5cdCAqIEFsbCBvZiB0aGUga25vd24gZmlsZSBmb3JtYXRzXG5cdCAqL1xuXHRzdGF0aWMgS25vd25GaWxlVHlwZXM6IHN0cmluZ1tdID0gW1xuXHRcdCdGb2xkZXInLFxuXHRcdCdTaW5nbGUgTWVkaWEgRmlsZScsXG5cdFx0J1ZhcmlhbnQgTWVkaWEgRmlsZScsXG5cdFx0J1BsYXlsaXN0Jyxcblx0XHQnU3RvcnknLFxuXHRcdCdTb3VyY2UgRm9sZGVyIFNob3J0Y3V0Jyxcblx0XHQnQ29ubGFuZyBEaWN0aW9uYXJ5Jyxcblx0XHQnU3RvcmFnZSBPcmdhbml6ZXInXG5cdF1cblxuXHRzdGF0aWMgYXN5bmMgQ3JlYXRlTmV3KHNudjogU291cmNlQW5kVmF1bHQsIGZpbGVUeXBlOiBzdHJpbmcsIHBhcmVudEZvbGRlcklEOiBudW1iZXIsIG5hbWU6IHN0cmluZyk6IFByb21pc2U8Q0ZFRmlsZT4ge1xuXHRcdGxldCBuZXdGaWxlOiBDRkVGaWxlO1xuXHRcdHN3aXRjaChmaWxlVHlwZSkge1xuXHRcdFx0Y2FzZSAnRm9sZGVyJzpcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdG5ld0ZpbGUgPSBhd2FpdCBGb2xkZXIuQ3JlYXRlTmV3RmlsZUZvckxheWVyKHNudiwgZmlsZVR5cGUsIHBhcmVudEZvbGRlcklELCBuYW1lKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdTaW5nbGUgTWVkaWEgRmlsZSc6XG5cdFx0XHRcdG5ld0ZpbGUgPSBhd2FpdCBTaW5nbGVNZWRpYUZpbGUuQ3JlYXRlTmV3RmlsZUZvckxheWVyKHNudiwgZmlsZVR5cGUsIHBhcmVudEZvbGRlcklELCBuYW1lKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdWYXJpYW50IE1lZGlhIEZpbGUnOlxuXHRcdFx0XHRuZXdGaWxlID0gYXdhaXQgVmFyaWFudE1lZGlhRmlsZS5DcmVhdGVOZXdGaWxlRm9yTGF5ZXIoc252LCBmaWxlVHlwZSwgcGFyZW50Rm9sZGVySUQsIG5hbWUpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ1BsYXlsaXN0Jzpcblx0XHRcdFx0bmV3RmlsZSA9IGF3YWl0IFBsYXlsaXN0LkNyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnYsIGZpbGVUeXBlLCBwYXJlbnRGb2xkZXJJRCwgbmFtZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnU3RvcnknOlxuXHRcdFx0XHRuZXdGaWxlID0gYXdhaXQgU3RvcnkuQ3JlYXRlTmV3RmlsZUZvckxheWVyKHNudiwgZmlsZVR5cGUsIHBhcmVudEZvbGRlcklELCBuYW1lKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdTb3VyY2UgRm9sZGVyIFNob3J0Y3V0Jzpcblx0XHRcdFx0bmV3RmlsZSA9IGF3YWl0IFNvdXJjZUZvbGRlclNob3J0Y3V0LkNyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnYsIGZpbGVUeXBlLCBwYXJlbnRGb2xkZXJJRCwgbmFtZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnQ29ubGFuZyBEaWN0aW9uYXJ5Jzpcblx0XHRcdFx0bmV3RmlsZSA9IGF3YWl0IENvbmxhbmdEaWN0aW9uYXJ5LkNyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnYsIGZpbGVUeXBlLCBwYXJlbnRGb2xkZXJJRCwgbmFtZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnU3RvcmFnZSBPcmdhbml6ZXInOlxuXHRcdFx0XHRuZXdGaWxlID0gYXdhaXQgU3RvcmFnZU9yZ2FuaXplci5DcmVhdGVOZXdGaWxlRm9yTGF5ZXIoc252LCBmaWxlVHlwZSwgcGFyZW50Rm9sZGVySUQsIG5hbWUpO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdFx0YXdhaXQgbmV3RmlsZS5TYXZlKHNudik7XG5cdFx0cmV0dXJuIG5ld0ZpbGU7XG5cdH1cblxuXHRzdGF0aWMgYXN5bmMgTG9hZEZpbGUoc252OiBTb3VyY2VBbmRWYXVsdCwgZmlsZUlEOiBudW1iZXIpOiBQcm9taXNlPENGRUZpbGU+IHtcblx0XHRjb25zdCBzb3VyY2VGb2xkZXIgPSBzbnYuc291cmNlRm9sZGVyO1xuXHRcdGNvbnN0IHZhdWx0ID0gc252LnZhdWx0O1xuXG5cdFx0Y29uc3QgdEZpbGUgPSB2YXVsdC5nZXRGaWxlQnlQYXRoKHNvdXJjZUZvbGRlci52YXVsdFBhdGggKyAnLycgKyBmaWxlSUQgKyAnLmpzb24nKTtcblx0XHRpZiAodEZpbGUgPT09IG51bGwpIHtcblx0XHRcdHRocm93IEVycm9yKFwiRmlsZSBjb3VsZCBub3QgYmUgZm91bmQgYXQgdGhlIHBhdGg6IFwiICsgc291cmNlRm9sZGVyLnZhdWx0UGF0aCArICcvJyArIGZpbGVJRCArICcuanNvbicpO1xuXHRcdH1cblx0XHRjb25zdCBqc29uRGF0YSA9IGF3YWl0IHZhdWx0LmNhY2hlZFJlYWQodEZpbGUpO1xuXHRcdGNvbnN0IHBsYWluT2JqZWN0ID0gSlNPTi5wYXJzZShqc29uRGF0YSk7XG5cdFx0c3dpdGNoKHBsYWluT2JqZWN0LmZpbGVUeXBlKSB7XG5cdFx0XHRjYXNlICdGb2xkZXInOlxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IEZvbGRlcigpLCBwbGFpbk9iamVjdCkuTG9hZEFsbElubmVyT2JqZWN0cygpO1xuXHRcdFx0Y2FzZSAnU2luZ2xlIE1lZGlhIEZpbGUnOlxuXHRcdFx0XHRyZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgU2luZ2xlTWVkaWFGaWxlKCksIHBsYWluT2JqZWN0KS5Mb2FkQWxsSW5uZXJPYmplY3RzKCk7XG5cdFx0XHRjYXNlICdWYXJpYW50IE1lZGlhIEZpbGUnOlxuXHRcdFx0XHRyZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgVmFyaWFudE1lZGlhRmlsZSgpLCBwbGFpbk9iamVjdCkuTG9hZEFsbElubmVyT2JqZWN0cygpO1xuXHRcdFx0Y2FzZSAnUGxheWxpc3QnOlxuXHRcdFx0XHRyZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgUGxheWxpc3QoKSwgcGxhaW5PYmplY3QpLkxvYWRBbGxJbm5lck9iamVjdHMoKTtcblx0XHRcdGNhc2UgJ1N0b3J5Jzpcblx0XHRcdFx0cmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IFN0b3J5KCksIHBsYWluT2JqZWN0KS5Mb2FkQWxsSW5uZXJPYmplY3RzKCk7XG5cdFx0XHRjYXNlICdTb3VyY2UgRm9sZGVyIFNob3J0Y3V0Jzpcblx0XHRcdFx0cmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IFNvdXJjZUZvbGRlclNob3J0Y3V0KCksIHBsYWluT2JqZWN0KS5Mb2FkQWxsSW5uZXJPYmplY3RzKCk7XG5cdFx0XHRjYXNlICdDb25sYW5nIERpY3Rpb25hcnknOlxuXHRcdFx0XHRyZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgQ29ubGFuZ0RpY3Rpb25hcnkoKSwgcGxhaW5PYmplY3QpLkxvYWRBbGxJbm5lck9iamVjdHMoKTtcblx0XHRcdGNhc2UgJ1N0b3JhZ2UgT3JnYW5pemVyJzpcblx0XHRcdFx0cmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IFN0b3JhZ2VPcmdhbml6ZXIoKSwgcGxhaW5PYmplY3QpLkxvYWRBbGxJbm5lck9iamVjdHMoKTtcblx0XHR9XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBWYXVsdCB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgU291cmNlRm9sZGVyIH0gZnJvbSBcIi4vc291cmNlLWZvbGRlclwiO1xuXG5leHBvcnQgY2xhc3MgU291cmNlQW5kVmF1bHQge1xuXHRzb3VyY2VGb2xkZXI6IFNvdXJjZUZvbGRlcjtcblx0dmF1bHQ6IFZhdWx0O1xuXHRjb25zdHJ1Y3Rvcihzb3VyY2VGb2xkZXI6IFNvdXJjZUZvbGRlciwgdmF1bHQ6IFZhdWx0KSB7XG5cdFx0dGhpcy5zb3VyY2VGb2xkZXIgPSBzb3VyY2VGb2xkZXI7XG5cdFx0dGhpcy52YXVsdCA9IHZhdWx0O1xuXHR9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7QUNBQSxJQUFBQSxtQkFBd0M7OztBQ0F4QyxJQUFBQyxtQkFBNkM7OztBQ0E3QyxzQkFBOEI7QUFjdkIsSUFBTSxXQUFOLE1BQWM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFtQ3BCLGFBQWEsc0JBQXNCLEtBQXFCLFVBQWtCLGdCQUF3QixNQUFnQztBQUNqSSxVQUFNLGVBQWUsSUFBSTtBQUd6QixVQUFNLGlCQUFpQixJQUFJLFNBQVE7QUFDbkMsbUJBQWUsS0FBSyxhQUFhO0FBQ2pDLG1CQUFlLFdBQVc7QUFDMUIsbUJBQWUsV0FBVztBQUMxQixtQkFBZSxpQkFBaUI7QUFHaEMsaUJBQWE7QUFDYixVQUFNLGFBQWEsS0FBSyxHQUFHO0FBRzNCLFFBQUksZUFBZSxPQUFPLGVBQWUsZ0JBQWdCO0FBQ3hELFlBQU0sZUFBeUIsTUFBTSxlQUFlLFNBQVMsS0FBSyxlQUFlLGNBQWM7QUFDL0YsbUJBQWEsaUJBQWlCLEtBQUssZUFBZSxFQUFFO0FBQ3BELFlBQU0sYUFBYSxLQUFLLEdBQUc7QUFBQSxJQUM1QjtBQUdBLFdBQU87QUFBQSxFQUNSO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFB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QUFBLEVBQzFCO0FBQ0Q7QUFFQSxJQUFNLG1CQUFOLGNBQStCLGtDQUFpQjtBQUFBLEVBRy9DLFlBQVksS0FBVSxRQUFhO0FBQ2xDLFVBQU0sS0FBSyxNQUFNO0FBQ2pCLFNBQUssU0FBUztBQUFBLEVBQ2Y7QUFBQSxFQUVBLFVBQWdCO0FBQ2YsVUFBTSxFQUFDLFlBQVcsSUFBSTtBQUV0QixnQkFBWSxNQUFNO0FBRWxCLFFBQUkseUJBQVEsV0FBVyxFQUNyQixRQUFRLHFCQUFxQixFQUM3QixRQUFRLDZEQUE2RCxFQUNyRSxRQUFRLFVBQVEsS0FDZixlQUFlLHFCQUFxQixFQUNwQyxTQUFTLEtBQUssT0FBTyxTQUFTLFdBQVcsRUFDekMsU0FBUyxPQUFPLFVBQVU7QUFDMUIsV0FBSyxPQUFPLFNBQVMsY0FBYztBQUNuQyxZQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsSUFDaEMsQ0FBQyxDQUFDO0FBQUEsRUFDTDtBQUNEOyIsCiAgIm5hbWVzIjogWyJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpIiwgImltcG9ydF9vYnNpZGlhbiJdCn0K
