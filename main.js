/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => CFE
});
module.exports = __toCommonJS(main_exports);

// classes/custom-explorer-view.ts
var import_obsidian4 = require("obsidian");

// classes/source-folder.ts
var import_obsidian3 = require("obsidian");

// classes/cfe-file.ts
var import_obsidian = require("obsidian");
var _CFEFile = class {
  /**
   * SHOULD NOT BE CALLED OUTSIDE OF CFEFileHandler.
   * 
   * Use CFEFileHandler.CreateNew() instead.
   * 
   * CHILD CLASSES SHOULD NOT WRITE TO A FILE. THIS IS DONE INSIDE OF CFEFileHandler
   * 
   * CFEFile layer:
   * 
   * sets the source, id, file type, file name, and parent folder id of the file object.
   */
  static async CreateNewFileForLayer(snv, fileType, parentFolderID) {
    const sourceFolder = snv.sourceFolder;
    const unfinishedFile = new _CFEFile();
    unfinishedFile.id = sourceFolder.fileCount;
    unfinishedFile.fileType = fileType;
    unfinishedFile.fileName = "";
    unfinishedFile.parentFolderID = parentFolderID;
    sourceFolder.fileCount++;
    await SourceFolder.Save(snv);
    if (unfinishedFile.id !== unfinishedFile.parentFolderID) {
      const parentFolder = await CFEFileHandler.LoadFile(snv, unfinishedFile.parentFolderID);
      parentFolder.containedFileIDs.push(unfinishedFile.id);
      await parentFolder.Save(snv);
    }
    return unfinishedFile;
  }
  /**
   * SHOULD NOT BE CALLED OUTSIDE OF CFEFileHandler.
   * 
   * Use CFEFileHandler.DisplayThumbnail() instead.
   * 
   * CFEFile layer:
   * 
   * sets the thumbnail container's css class to 'cfe-thumbnail'
   * and fully displays the file if the thumbnail is clicked.
   */
  async DisplayThumbnail(sourceAndVault, thumbnailDiv, displayDiv) {
    thumbnailDiv.className = "cfe-thumbnail vbox";
    thumbnailDiv.onclick = async () => {
      await this.Display(sourceAndVault, displayDiv);
    };
    const idText = thumbnailDiv.createDiv("hbox");
    idText.textContent = "ID: " + this.id;
    idText.style.justifyContent = "center";
    const fileText = thumbnailDiv.createDiv("hbox");
    fileText.textContent = "File Type: " + this.fileType;
    fileText.style.justifyContent = "center";
    const nameText = thumbnailDiv.createDiv("hbox");
    nameText.textContent = "File Name: " + this.fileName;
    nameText.style.justifyContent = "center";
  }
  /**
   * SHOULD NOT BE CALLED OUTSIDE OF CFEFileHandler.
   * 
   * Use CFEFileHandler.Display() instead.
   * 
   * CFEFile layer:
   * 
   * empties the display container provided.
   */
  async Display(snv, container) {
    container.empty();
    const headerContainer = container.createDiv("hbox");
    const backButton = headerContainer.createEl("button", { text: "Back to parent folder" });
    headerContainer.createEl("p", { text: "File ID: " + this.id });
    headerContainer.createEl("p", { text: "File Name: " });
    const nameInput = headerContainer.createEl("input", { type: "text", value: this.fileName });
    backButton.onclick = async () => {
      const parentFolder = await CFEFileHandler.LoadFile(snv, this.parentFolderID);
      if (parentFolder !== null) {
        await parentFolder.Display(snv, container);
      }
    };
    nameInput.onchange = async () => {
      this.fileName = nameInput.value;
      await this.Save(snv);
    };
  }
  /**
   * SHOULD NOT BE CALLED OUTSIDE OF CFEFileHandler.
   * 
   * (it is unlikely this method will ever be overriden by child classes, but making this 'inaccessible' is for consistency)
   * 
   * Use CFEFileHandler.SaveFile() instead.
   * 
   * Formatted File layer:
   * 
   * Deletes this file ID from the original parent folder, adds this file to the new parent folder, and changes the parent folder ID
   */
  async MoveFile(sourceAndVault, newParentFolderID) {
    const oldParentFolder = await CFEFileHandler.LoadFile(sourceAndVault, this.parentFolderID);
    const indexOfFile = oldParentFolder.containedFileIDs.indexOf(this.id);
    oldParentFolder.containedFileIDs.splice(indexOfFile, 1);
    oldParentFolder.Save(sourceAndVault);
    const newParentFolder = await CFEFileHandler.LoadFile(sourceAndVault, newParentFolderID);
    newParentFolder.containedFileIDs.push(this.id);
    newParentFolder.Save(sourceAndVault);
    this.parentFolderID = newParentFolderID;
    this.Save(sourceAndVault);
  }
  async Save(sourceAndVault) {
    const sourceFolder = sourceAndVault.sourceFolder;
    const vault = sourceAndVault.vault;
    const filePath = sourceFolder.vaultPath + "/" + this.id + ".json";
    const jsonData = JSON.stringify(this);
    const tFile = vault.getFileByPath(filePath);
    if (tFile === null) {
      const normalizedPath = (0, import_obsidian.normalizePath)(filePath);
      await vault.adapter.write(normalizedPath, jsonData);
      return;
    }
    await vault.modify(tFile, jsonData);
  }
};
var CFEFile = _CFEFile;
CFEFile.FILE_NAME_INPUT_INDEX = 0;
CFEFile.PARENT_FOLDER_ID_INPUT_INDEX = 1;

// classes/single-media-file.ts
var import_obsidian2 = require("obsidian");

// classes/real-file.ts
var RealFile = class extends CFEFile {
  async DisplayMediaOnly(mediaDiv, snv) {
    mediaDiv.empty();
  }
};

// classes/single-media-file.ts
var SingleMediaFile = class extends RealFile {
  get mediaType() {
    switch (this.extensionName) {
      case "png":
      case "jpg":
      case "webp":
      case "heic":
      case "gif":
        return "Image";
      case "mp4":
      case "MP4":
      case "mov":
      case "MOV":
      default:
        return "Video";
    }
  }
  async getSrc(snv) {
    const mediaFile = await this.getTFile(snv);
    const arrayBuffer = await snv.vault.readBinary(mediaFile);
    const blob = new Blob([arrayBuffer]);
    const mediaUrl = URL.createObjectURL(blob);
    return mediaUrl;
  }
  async getTFile(snv) {
    const mediaPath = await this.getPath(snv);
    let mediaFile = snv.vault.getFileByPath(mediaPath);
    if (mediaFile === null) {
      mediaFile = snv.vault.getFileByPath(mediaPath + "." + this.extensionName);
      if (mediaFile === null) {
        throw Error("File not found at path: " + mediaPath + " or " + mediaPath + "." + this.extensionName);
      }
      snv.vault.rename(mediaFile, mediaPath);
    }
    return mediaFile;
  }
  async getPath(snv) {
    const sourceFolder = snv.sourceFolder;
    return sourceFolder.vaultPath + "/" + this.id + " Actual File";
  }
  static async CreateNewFileForLayer(snv, fileType, parentFolderID) {
    const newMediaFile = await super.CreateNewFileForLayer(snv, fileType, parentFolderID);
    newMediaFile.extensionName = "";
    return newMediaFile;
  }
  async Display(snv, container) {
    await super.Display(snv, container);
    const imageDisplayContainer = container.createDiv("vbox");
    imageDisplayContainer.createEl("p", { text: "Change file" });
    const newFileInput = imageDisplayContainer.createEl("input", { type: "file" });
    await this.DisplayMediaOnly(imageDisplayContainer, snv);
    newFileInput.onchange = async () => {
      try {
        const oldFile = await this.getTFile(snv);
        try {
          await snv.vault.delete(oldFile);
        } finally {
          await this.SaveNewFile(snv, newFileInput);
          this.Display(snv, container);
        }
      } catch (e) {
        console.log();
      }
    };
  }
  async SaveNewFile(snv, fileInput) {
    const fileArray = fileInput.files;
    if (fileArray === null) {
      throw Error("no file was selected");
    }
    const mediaFile = fileArray[0];
    await this.SetFileTo(snv, mediaFile);
  }
  async SetFileTo(snv, mediaFile) {
    const partsOfPath = mediaFile.name.split(".");
    const extension = partsOfPath[partsOfPath.length - 1];
    this.fileName = partsOfPath[0];
    this.extensionName = extension;
    const path = snv.sourceFolder.vaultPath + "/" + this.id + " Actual File";
    const normalizedPath = (0, import_obsidian2.normalizePath)(path);
    await snv.vault.adapter.writeBinary(normalizedPath, await mediaFile.arrayBuffer());
    await this.Save(snv);
  }
  async DisplayMediaOnly(mediaDiv, snv) {
    await super.DisplayMediaOnly(mediaDiv, snv);
    if (this.mediaType === "Image") {
      const imageElement = mediaDiv.createEl("img");
      imageElement.src = await this.getSrc(snv);
      imageElement.style.objectFit = "contain";
    } else {
      const videoElement = mediaDiv.createEl("video");
      videoElement.src = await this.getSrc(snv);
      videoElement.controls = true;
      videoElement.loop = true;
      videoElement.autoplay = true;
      videoElement.style.objectFit = "contain";
    }
  }
};

// classes/folder.ts
var Folder = class extends CFEFile {
  /**
   * @override Folder layer:
   * 
   * initializes the contained file ids array for the folder object
   */
  static async CreateNewFileForLayer(snv, fileType, parentFolderID) {
    const unfinishedFolder = await super.CreateNewFileForLayer(snv, fileType, parentFolderID);
    unfinishedFolder.containedFileIDs = [];
    return unfinishedFolder;
  }
  async Display(snv, mainDiv) {
    await super.Display(snv, mainDiv);
    const createButtonsDiv = mainDiv.createDiv("hbox");
    const newFileButton = createButtonsDiv.createEl("button", { text: "Create New File" });
    newFileButton.onclick = () => {
      this.LoadCreateFileUI(snv, mainDiv);
    };
    const mediaFilesButton = createButtonsDiv.createEl("button", { text: "Upload Multiple Images / Videos" });
    mediaFilesButton.onclick = () => {
      this.LoadFileSelectionUI(snv, mainDiv);
    };
    const folderDisplayContainer = mainDiv.createDiv("cfe-grid");
    for (let i = 0; i < this.containedFileIDs.length; i++) {
      const containedFile = await CFEFileHandler.LoadFile(snv, this.containedFileIDs[i]);
      if (containedFile !== null) {
        await containedFile.DisplayThumbnail(snv, folderDisplayContainer.createDiv(), mainDiv);
      }
    }
  }
  LoadCreateFileUI(snv, mainDiv) {
    const popUpContainer = mainDiv.createDiv("vbox cfe-popup");
    const wrapperDiv = popUpContainer.createDiv();
    wrapperDiv.style.position = "relative";
    const exitButton = wrapperDiv.createEl("button", { text: "X", cls: "cfe-remove-button" });
    exitButton.style.position = "absolute";
    exitButton.style.top = "0%";
    exitButton.style.right = "0%";
    exitButton.onclick = () => {
      popUpContainer.remove();
    };
    popUpContainer.createEl("p", { text: "Choose a File Type to create: " });
    const fileTypeDropdown = popUpContainer.createEl("select");
    popUpContainer.createEl("p", { text: "Parent Folder ID: " });
    const parentFolderIDInput = popUpContainer.createEl("input", { type: "text", value: "" + this.id });
    for (let i = 0; i < CFEFileHandler.KnownFileTypes.length; i++) {
      const option = fileTypeDropdown.createEl("option");
      option.value = CFEFileHandler.KnownFileTypes[i];
      option.text = CFEFileHandler.KnownFileTypes[i];
      fileTypeDropdown.options.add(option);
    }
    const submitButton = popUpContainer.createEl("button", { text: "Create" });
    submitButton.onclick = async () => {
      await CFEFileHandler.CreateNew(snv, fileTypeDropdown.value, parseInt(parentFolderIDInput.value));
      exitButton.click();
      const resettedFolder = await CFEFileHandler.LoadFile(snv, this.id);
      await resettedFolder.Display(snv, mainDiv);
    };
  }
  LoadFileSelectionUI(snv, mainDiv) {
    const popUpContainer = mainDiv.createDiv("vbox cfe-popup");
    popUpContainer.createEl("p", { text: "Choose your files" });
    const fileInput = popUpContainer.createEl("input", { type: "file" });
    fileInput.multiple = true;
    popUpContainer.createEl("p", { text: "Parent Folder ID: " });
    const parentFolderIDInput = popUpContainer.createEl("input", { type: "text", value: "" + this.id });
    const exitButton = popUpContainer.createEl("button", { text: "X", cls: "cfe-exit-button" });
    exitButton.onclick = () => {
      popUpContainer.remove();
    };
    const submitButton = popUpContainer.createEl("button", { text: "Create" });
    submitButton.onclick = async () => {
      const fileArray = fileInput.files;
      const parentFolderID = parseInt(parentFolderIDInput.value);
      if (fileArray !== null) {
        for (let i = 0; i < fileArray.length; i++) {
          const cfeFile = await CFEFileHandler.CreateNew(snv, "Single Media File", parentFolderID);
          const mediaFile = Object.assign(new SingleMediaFile(), cfeFile);
          await mediaFile.SetFileTo(snv, fileArray[i]);
          await mediaFile.Save(snv);
        }
        exitButton.click();
        const resettedFolder = await CFEFileHandler.LoadFile(snv, this.id);
        await resettedFolder.Display(snv, mainDiv);
      }
    };
  }
};

// classes/playlist.ts
var Playlist = class extends CFEFile {
  static getNextVideoIDInOrder(playlist) {
    let nextVideoIndex = playlist.currentVideoIndex + 1;
    if (nextVideoIndex >= playlist.videoIDs.length) {
      nextVideoIndex = 0;
    }
    return nextVideoIndex;
  }
  static getNextVideoIDShuffled(playlist) {
    let nextVideoIndex = Math.random() * playlist.videoIDs.length;
    nextVideoIndex = Math.floor(nextVideoIndex);
    return nextVideoIndex;
  }
  static async loadNextVideo(sourceAndVault, playlist, videoElement) {
    if (playlist.videoOrder === "shuffled") {
      playlist.currentVideoIndex = Playlist.getNextVideoIDShuffled(playlist);
    } else {
      playlist.currentVideoIndex = Playlist.getNextVideoIDInOrder(playlist);
    }
    const nextVideo = await CFEFileHandler.LoadFile(sourceAndVault, playlist.videoIDs[playlist.currentVideoIndex]);
    videoElement.src = await nextVideo.getSrc(sourceAndVault);
  }
  static async CreateNewFileForLayer(snv, fileType, parentFolderID) {
    const newPlaylistFile = await super.CreateNewFileForLayer(snv, fileType, parentFolderID);
    newPlaylistFile.videoIDs = [];
    return newPlaylistFile;
  }
  async Display(snv, container) {
    await super.Display(snv, container);
    this.currentVideoIndex = 0;
    const videoDisplayContainer = container.createDiv("cfe-display-video");
    const videoElement = videoDisplayContainer.createEl("video");
    const buttonsContainer = container.createDiv("hbox");
    const hideButton = buttonsContainer.createEl("button", { text: "hide video" });
    hideButton.onclick = () => {
      if (hideButton.textContent === "hide video") {
        hideButton.textContent = "show video";
        videoElement.style.display = "none";
      } else {
        hideButton.textContent = "hide video";
        videoElement.style.display = "flex";
      }
    };
    const shuffleButton = buttonsContainer.createEl("button", { text: "shuffle" });
    this.videoOrder = "in order";
    shuffleButton.onclick = () => {
      if (shuffleButton.textContent === "shuffle") {
        shuffleButton.textContent = "go in order";
        this.videoOrder = "shuffled";
      } else {
        shuffleButton.textContent = "shuffle";
        this.videoOrder = "in order";
      }
    };
    const nextButton = buttonsContainer.createEl("button", { text: "next video" });
    nextButton.onclick = async () => {
      await Playlist.loadNextVideo(snv, this, videoElement);
    };
    try {
      const firstVideo = await CFEFileHandler.LoadFile(snv, this.videoIDs[this.currentVideoIndex]);
      videoElement.src = await firstVideo.getSrc(snv);
      videoElement.autoplay = true;
      videoElement.controls = true;
      videoElement.ontimeupdate = async () => {
        if (videoElement.ended) {
          await Playlist.loadNextVideo(snv, this, videoElement);
        }
      };
    } finally {
      container.createEl("p", { text: "Change files" });
      let count = 0;
      const mediaIDInputDiv = container.createDiv("vbox");
      const newFileButton = container.createEl("button", { text: "Add File" });
      for (let i = 0; i < this.videoIDs.length; i++) {
        const currentIndex = count;
        count++;
        const mediaIDDiv = mediaIDInputDiv.createDiv("hbox");
        const idInput = mediaIDDiv.createEl("input", { type: "text", value: "" + this.videoIDs[currentIndex] });
        const deleteButton = mediaIDDiv.createEl("button", { text: "delete" });
        deleteButton.onclick = () => {
          mediaIDDiv.remove();
          this.videoIDs.splice(currentIndex, 1);
          this.Display(snv, container);
        };
        idInput.onchange = () => {
          this.videoIDs[currentIndex] = parseInt(idInput.value);
          this.Save(snv);
        };
      }
      newFileButton.onclick = () => {
        const currentIndex = count;
        count++;
        const mediaIDDiv = mediaIDInputDiv.createDiv("hbox");
        const idInput = mediaIDDiv.createEl("input", { type: "text" });
        const deleteButton = mediaIDDiv.createEl("button", { text: "delete" });
        deleteButton.onclick = () => {
          mediaIDDiv.remove();
          this.videoIDs.splice(currentIndex, 1);
          this.Display(snv, container);
        };
        idInput.onchange = () => {
          this.videoIDs[currentIndex] = parseInt(idInput.value);
          this.Save(snv);
        };
      };
    }
  }
};

// classes/variant-media-file.ts
var VariantMediaFile = class extends RealFile {
  async getSrc(snv, index = null) {
    if (index === null) {
      index = Math.floor(Math.random() * this.variantIDs.length);
    }
    const containedMedia = await CFEFileHandler.LoadFile(snv, this.variantIDs[index]);
    return await containedMedia.getSrc(snv);
  }
  static async CreateNewFileForLayer(snv, fileType, parentFolderID) {
    const newMediaFile = await super.CreateNewFileForLayer(snv, fileType, parentFolderID);
    newMediaFile.variantIDs = [];
    return newMediaFile;
  }
  async Display(snv, container) {
    await super.Display(snv, container);
    const imageDisplayContainer = container.createDiv("vbox");
    imageDisplayContainer.createEl("p", { text: "Change files" });
    const mediaIDInputDiv = imageDisplayContainer.createDiv("vbox");
    const newFileButton = imageDisplayContainer.createEl("button", { text: "Add File" });
    for (let i = 0; i < this.variantIDs.length; i++) {
      const currentIndex = i;
      const mediaIDDiv = mediaIDInputDiv.createDiv("hbox");
      const idInput = mediaIDDiv.createEl("input", { type: "text", value: "" + this.variantIDs[currentIndex] });
      const deleteButton = mediaIDDiv.createEl("button", { text: "delete" });
      deleteButton.className = "cfe-remove-button";
      deleteButton.onclick = async () => {
        mediaIDDiv.remove();
        this.variantIDs.splice(currentIndex, 1);
        await this.Save(snv);
        await this.Display(snv, container);
      };
      idInput.onchange = async () => {
        this.variantIDs[currentIndex] = parseInt(idInput.value);
        await this.Save(snv);
        await this.Display(snv, container);
      };
    }
    newFileButton.onclick = async () => {
      this.variantIDs.push(-1);
      await this.Save(snv);
      await this.Display(snv, container);
    };
    const mediaDiv = imageDisplayContainer.createDiv("vbox");
    await this.DisplayMediaOnly(mediaDiv, snv);
  }
  async DisplayMediaOnly(mediaDiv, snv, index = -1) {
    if (index === -1) {
      index = Math.floor(Math.random() * this.variantIDs.length);
    }
    const containedMedia = await CFEFileHandler.LoadFile(snv, this.variantIDs[index]);
    await containedMedia.DisplayMediaOnly(mediaDiv, snv);
  }
};

// classes/source-folder-shortcut.ts
var SourceFolderShortcut = class extends CFEFile {
  /**
   * @override Folder layer:
   * 
   * initializes the contained file ids array for the folder object
   */
  static async CreateNewFileForLayer(snv, fileType, parentFolderID) {
    const unfinishedFolder = await super.CreateNewFileForLayer(snv, fileType, parentFolderID);
    unfinishedFolder.pathToOtherSource = "";
    return unfinishedFolder;
  }
  async Display(snv, mainDiv) {
    await super.Display(snv, mainDiv);
    const inputDiv = mainDiv.createDiv("vbox");
    inputDiv.createEl("p", { text: "Path to Other Source Folder" });
    const pathInput = inputDiv.createEl("input", { type: "text" });
    const goButton = inputDiv.createEl("button", { text: "Go" });
    pathInput.onchange = async () => {
      this.pathToOtherSource = pathInput.value;
      await this.Save(snv);
    };
    goButton.onclick = async () => {
      const otherSource = await SourceFolder.CreateOrLoadSourceFolder(this.pathToOtherSource, snv.vault);
      otherSource.Display(mainDiv, snv.vault);
    };
  }
};

// classes/conlangs/hwayu-text.ts
var Hwayu = class {
  static Display(div, text = "", fontSize = 20, isVertical = true) {
    const textElement = div.createEl("p", { text });
    textElement.style.fontFamily = isVertical ? "HwayuReal" : "HwayuHorizontal";
    textElement.style.fontSize = fontSize + "px";
    if (isVertical) {
      textElement.style.writingMode = "vertical-lr";
      textElement.style.textOrientation = "upright";
    }
    return textElement;
  }
  static CreateTextArea(div, existingText = "", fontSize = 20, isVertical = true) {
    const textArea = div.createEl("textarea", { text: existingText });
    textArea.style.fontFamily = isVertical ? "HwayuReal" : "HwayuHorizontal";
    textArea.style.fontSize = fontSize + "px";
    if (isVertical) {
      textArea.style.writingMode = "vertical-lr";
      textArea.style.textOrientation = "upright";
    }
    textArea.spellcheck = false;
    return textArea;
  }
  static CreateTextInput(div, existingText = "", fontSize = 20, isVertical = true) {
    const textInput = div.createEl("input", { type: "text", value: existingText });
    textInput.style.fontFamily = isVertical ? "HwayuReal" : "HwayuHorizontal";
    textInput.style.fontSize = fontSize + "px";
    if (isVertical) {
      textInput.style.writingMode = "vertical-lr";
      textInput.style.textOrientation = "upright";
    }
    textInput.spellcheck = false;
    return textInput;
  }
};

// classes/conlangs/photolang-text.ts
var PhotoLang = class {
  static Display(div, text = "", fontSize = 10, moveSpeeds = null, durations = null, doLoop = false) {
    const line = new PhotoLine(text);
    if (!moveSpeeds) {
      moveSpeeds = [100, 250, 500];
    }
    if (!durations) {
      durations = [0, 500];
    }
    const displayDiv = div.createDiv();
    line.Speak(displayDiv, fontSize, moveSpeeds, durations, doLoop);
    return displayDiv;
  }
  static CreateTextArea(div, existingText = "", fontSize = 17.5) {
    const textArea = div.createEl("textarea", { text: existingText });
    textArea.style.fontSize = fontSize + "px";
    textArea.spellcheck = false;
    return textArea;
  }
  static CreateTextInput(div, existingText = "", fontSize = 17.5) {
    const textInput = div.createEl("input", { type: "text", value: existingText });
    textInput.style.fontSize = fontSize + "px";
    textInput.spellcheck = false;
    return textInput;
  }
};
var PhotoLine = class {
  constructor(textContent = "") {
    this.glyphs = [];
    const textArray = textContent.split("   ").filter((c) => c !== "");
    let doSpace = false;
    for (let i = 0; i < textArray.length; i++) {
      const newGlyph = new PhotoGlyph();
      const glyphText = textArray[i];
      if (glyphText === "|||") {
        newGlyph.hue = 0;
        newGlyph.saturation = 0;
        newGlyph.value = 0;
        newGlyph.opacity = 0;
        newGlyph.moveSpeed = 0;
        newGlyph.duration = 0;
        newGlyph.x = this.glyphs[this.glyphs.length - 1].x;
        newGlyph.y = this.glyphs[this.glyphs.length - 1].y;
        doSpace = true;
      } else {
        let j = 0;
        let skipNext = false;
        switch (glyphText[j]) {
          case ".":
            newGlyph.moveSpeed = 0;
            break;
          case "-":
            newGlyph.moveSpeed = 1;
            break;
          case "=":
            newGlyph.moveSpeed = 2;
            break;
        }
        j++;
        switch (glyphText[j]) {
          case ".":
            newGlyph.duration = 0;
            break;
          case "-":
            newGlyph.duration = 1;
            break;
        }
        j++;
        newGlyph.shape = glyphText[j];
        j++;
        let hue1 = 0;
        switch (glyphText[j]) {
          case "r":
            hue1 = 0;
            break;
          case "o":
            hue1 = 40;
            break;
          case "y":
            hue1 = 60;
            break;
          case "g":
            hue1 = 120;
            break;
          case "c":
            hue1 = 180;
            break;
          case "b":
            hue1 = 240;
            break;
          case "p":
            hue1 = 270;
            break;
          case ".":
            newGlyph.hue = 0;
            newGlyph.saturation = 0;
            skipNext = true;
            break;
        }
        j++;
        if (!skipNext) {
          let hue2 = 0;
          switch (glyphText[j]) {
            case "r":
              hue2 = 0;
              break;
            case "o":
              hue2 = 40;
              break;
            case "y":
              hue2 = 60;
              break;
            case "g":
              hue2 = 120;
              break;
            case "c":
              hue2 = 180;
              break;
            case "b":
              hue2 = 240;
              break;
            case "p":
              hue2 = 270;
              break;
            default:
              newGlyph.hue = hue1;
              skipNext = true;
              break;
          }
          if (!skipNext) {
            if (hue1 === 0 && hue2 === 270 || hue1 === 270 && hue2 === 0) {
              newGlyph.hue = 315;
            } else {
              newGlyph.hue = (hue1 + hue2) / 2;
            }
            j++;
          }
        }
        skipNext = false;
        const saturationText = glyphText[j];
        switch (saturationText) {
          case "0":
            newGlyph.saturation = 0;
            break;
          case "1":
            newGlyph.saturation = 0.25;
            break;
          case "2":
            newGlyph.saturation = 0.5;
            break;
          case "3":
            newGlyph.saturation = 0.75;
            break;
          case "4":
            newGlyph.saturation = 1;
            break;
        }
        j++;
        const valueText = glyphText[j];
        switch (valueText) {
          case "0":
            newGlyph.value = 0;
            break;
          case "1":
            newGlyph.value = 0.1;
            break;
          case "2":
            newGlyph.value = 0.2;
            break;
          case "3":
            newGlyph.value = 0.5;
            break;
          case "4":
            newGlyph.value = 1;
            break;
        }
        j++;
        const opacityText = glyphText[j];
        switch (opacityText) {
          case ".":
            newGlyph.opacity = 0;
            break;
          case "-":
            newGlyph.opacity = 0.5;
            break;
          case "=":
            newGlyph.opacity = 1;
            break;
        }
        j++;
        const locationInfo = glyphText.substring(j);
        if (locationInfo.contains("<")) {
          newGlyph.x = 0;
        } else if (locationInfo.contains(">")) {
          newGlyph.x = 2;
        } else {
          newGlyph.x = 1;
        }
        if (locationInfo.contains("v")) {
          newGlyph.y = 0;
        } else if (locationInfo.contains("^")) {
          newGlyph.y = 2;
        } else {
          newGlyph.y = 1;
        }
        if (doSpace) {
          const emptyGlyph = new PhotoGlyph();
          emptyGlyph.hue = 0;
          emptyGlyph.saturation = 0;
          emptyGlyph.value = 0;
          emptyGlyph.opacity = 0;
          emptyGlyph.moveSpeed = 0;
          emptyGlyph.duration = 0;
          emptyGlyph.x = newGlyph.x;
          emptyGlyph.y = newGlyph.y;
          doSpace = false;
          this.glyphs.push(emptyGlyph);
        }
      }
      this.glyphs.push(newGlyph);
    }
    if (doSpace) {
      const emptyGlyph = new PhotoGlyph();
      emptyGlyph.hue = 0;
      emptyGlyph.saturation = 0;
      emptyGlyph.value = 0;
      emptyGlyph.opacity = 0;
      emptyGlyph.moveSpeed = 0;
      emptyGlyph.duration = 0;
      emptyGlyph.x = this.glyphs[0].x;
      emptyGlyph.y = this.glyphs[0].y;
      doSpace = false;
      this.glyphs.push(emptyGlyph);
    }
  }
  async Speak(div, textSize, moveSpeeds, durations, doLoop = false) {
    div.style.fontSize = textSize + "px";
    div.style.fontFamily = "Photolang";
    div.style.position = "relative";
    div.style.height = textSize * 3.25 + "px";
    div.style.width = textSize * 3.25 + "px";
    const textDiv = div.createDiv();
    textDiv.style.position = "absolute";
    textDiv.style.bottom = textSize + "px";
    textDiv.style.transitionProperty = "bottom, left, color";
    for (let i = 0; i < this.glyphs.length; i++) {
      const photoGlyph = this.glyphs[i];
      textDiv.textContent = photoGlyph.shape;
      textDiv.style.left = photoGlyph.x * textSize + "px";
      textDiv.style.bottom = photoGlyph.y * textSize + "px";
      textDiv.style.color = photoGlyph.color;
      if (doLoop && i === this.glyphs.length - 1) {
        i = -1;
      }
      textDiv.style.transition = moveSpeeds[photoGlyph.moveSpeed] + "ms";
      await sleep(moveSpeeds[photoGlyph.moveSpeed] + durations[photoGlyph.duration]);
    }
    div.remove();
  }
  async DisplayStatic(div, textSize) {
    const lineDiv = div.createDiv("hbox");
    lineDiv.style.gap = "" + textSize * 3.25 + "px)";
    for (let i = 0; i < this.glyphs.length; i++) {
      this.glyphs[i] = Object.assign(new PhotoGlyph(), this.glyphs[i]);
      this.glyphs[i].DisplayStatic(lineDiv.createDiv(), textSize);
    }
  }
};
var PhotoGlyph = class {
  get color() {
    let lightness = (2 - this.saturation) * this.value / 2;
    let newS = this.saturation * this.value / (lightness < 1 ? lightness * 2 : 2 - lightness * 2);
    if (lightness === 0 || lightness === 1) {
      newS = 0;
    }
    lightness *= 100;
    newS *= 100;
    return "hsla(" + this.hue + "," + newS + "%," + lightness + "%," + this.opacity + ")";
  }
  DisplayStatic(div, textSize) {
    const outerDiv = div.createDiv();
    outerDiv.style.position = "relative";
    outerDiv.style.width = textSize * 3.25 + "px";
    outerDiv.style.height = textSize * 3.25 + "px";
    outerDiv.className = "cfe-photoglyph";
    const glyphDiv = outerDiv.createDiv();
    glyphDiv.style.position = "absolute";
    glyphDiv.textContent = this.shape;
    glyphDiv.style.left = this.x * textSize + "px";
    glyphDiv.style.bottom = this.y * textSize + "px";
    glyphDiv.style.color = this.color;
  }
};

// classes/conlang-dictionary.ts
var ConlangDictionary = class extends CFEFile {
  static async CreateNewFileForLayer(snv, fileType, parentFolderID) {
    const unfinishedDictionary = await super.CreateNewFileForLayer(snv, fileType, parentFolderID);
    unfinishedDictionary.language = "Hwayu";
    unfinishedDictionary.words = [];
    unfinishedDictionary.searchTerm = "";
    unfinishedDictionary.searchInConlang = false;
    return unfinishedDictionary;
  }
  async Display(snv, mainDiv) {
    await super.Display(snv, mainDiv);
    const languageDropdown = mainDiv.createEl("select");
    languageDropdown.createEl("option", { text: "Hwayu", value: "Hwayu" });
    languageDropdown.createEl("option", { text: "Photolang", value: "Photolang" });
    languageDropdown.value = this.language;
    const addWordDiv = mainDiv.createDiv("vbox");
    await this.CreateNewWordEditor(snv, mainDiv, addWordDiv);
    languageDropdown.onchange = async () => {
      this.language = languageDropdown.value;
      await this.Save(snv);
      await this.Display(snv, mainDiv);
    };
    await this.DisplayList(snv, mainDiv);
  }
  async DisplayWord(snv, mainDiv, div, index) {
    div.empty();
    const modeButton = div.createEl("button", { text: "Edit" });
    modeButton.style.top = "0";
    modeButton.style.right = "0";
    modeButton.onclick = async () => {
      await this.EditWord(snv, mainDiv, div, index);
    };
    const wordDiv = div.createDiv("hbox");
    wordDiv.style.gap = "1%";
    wordDiv.style.fontSize = "25px";
    const conlangWord = this.words[index][0];
    const definition = this.words[index][1];
    const conlangWordDiv = this.DisplayConlangText(wordDiv, conlangWord);
    conlangWordDiv.classList.add("cfe-pointer-hover");
    wordDiv.createEl("p", { text: ":" });
    wordDiv.createEl("p", { text: definition });
    conlangWordDiv.onclick = async () => {
      try {
        await navigator.clipboard.writeText(conlangWord);
      } catch (err) {
        console.error("Failed to copy text: ", err);
      }
    };
  }
  async EditWord(snv, mainDiv, div, index) {
    div.empty();
    const buttonsDiv = div.createDiv("hbox");
    const modeButton = buttonsDiv.createEl("button", { text: "View" });
    modeButton.onclick = async () => {
      await this.DisplayWord(snv, mainDiv, div, index);
    };
    const deleteButton = buttonsDiv.createEl("button", { text: "Delete" });
    deleteButton.classList = "cfe-remove-button";
    deleteButton.onclick = async () => {
      this.words.splice(index, 1);
      await this.Save(snv);
      await this.Display(snv, mainDiv);
    };
    const wordDiv = div.createDiv("vbox");
    wordDiv.style.fontSize = "25px";
    wordDiv.createEl("p", { text: "Word in " + this.language });
    const conlangWord = this.words[index][0];
    const definition = this.words[index][1];
    const newWordInput = this.DisplayConlangEditor(wordDiv, conlangWord);
    wordDiv.createEl("p", { text: "Definition" });
    const definitionInput = wordDiv.createEl("input", { type: "text", value: definition });
    definitionInput.style.fontSize = "25px";
    const onSubmit = async () => {
      this.words[index] = [newWordInput.value, definitionInput.value];
      this.ReSort(index);
      await this.Save(snv);
      await this.Display(snv, mainDiv);
    };
    div.onkeydown = async (event) => {
      if (event.key === "Enter") {
        await onSubmit();
      }
    };
  }
  CreateNewWordEditor(snv, mainDiv, div) {
    div.createEl("p", { text: "Add New Word:" });
    div.createEl("p", { text: "Word in " + this.language });
    const newWordInput = this.DisplayConlangEditor(div);
    div.createEl("p", { text: "Definition" });
    const definitionInput = div.createEl("input", { type: "text", value: "" });
    const submitButton = div.createEl("button", { text: "submit" });
    const onSubmit = async () => {
      this.words.push([newWordInput.value, definitionInput.value]);
      this.ReSort(this.words.length - 1);
      await this.Save(snv);
      await this.Display(snv, mainDiv);
    };
    submitButton.onclick = onSubmit;
    div.onkeydown = async (event) => {
      if (event.key === "Enter") {
        await onSubmit();
      }
    };
  }
  DisplayConlangEditor(div, existingWord = "") {
    switch (this.language) {
      case "Hwayu":
      default:
        return Hwayu.CreateTextInput(div, existingWord, 25, false);
      case "Photolang":
        return PhotoLang.CreateTextInput(div, existingWord, 25);
    }
  }
  DisplayConlangText(div, existingWord = "") {
    switch (this.language) {
      case "Hwayu":
      default:
        return Hwayu.Display(div, existingWord, 25, false);
      case "Photolang":
        return PhotoLang.Display(div, existingWord, 25, null, null, true);
    }
  }
  async DisplayList(snv, div) {
    div.createEl("p", { text: "Search in " + this.language + "?" });
    const checkbox = div.createEl("input", { type: "checkbox" });
    checkbox.checked = this.searchInConlang;
    div.createEl("p", { text: "Search term" });
    const conlangSearch = this.DisplayConlangEditor(div, this.searchTerm);
    const englishSearch = div.createEl("input", { type: "text", value: this.searchTerm });
    let prevElement = checkbox.checked ? englishSearch : conlangSearch;
    let currentElement = checkbox.checked ? conlangSearch : englishSearch;
    prevElement.style.width = "100%";
    currentElement.style.width = "100%";
    this.searchTerm = prevElement.value;
    prevElement.style.display = "none";
    currentElement.value = this.searchTerm;
    currentElement.style.display = "";
    const resultsDiv = div.createDiv("cfe-dictionary-grid");
    const refreshResults = () => {
      this.searchTerm = currentElement.value;
      this.searchInConlang = checkbox.checked;
      resultsDiv.empty();
      for (let i = 0; i < this.words.length; i++) {
        if (this.words[i][checkbox.checked ? 0 : 1].contains(currentElement.value)) {
          const wordDiv = resultsDiv.createDiv("cfe-dictionary-word");
          this.DisplayWord(snv, div, wordDiv, i);
        }
      }
    };
    refreshResults();
    conlangSearch.oninput = refreshResults;
    englishSearch.oninput = refreshResults;
    checkbox.onchange = () => {
      resultsDiv.empty();
      prevElement = checkbox.checked ? englishSearch : conlangSearch;
      currentElement = checkbox.checked ? conlangSearch : englishSearch;
      this.searchTerm = prevElement.value;
      prevElement.style.display = "none";
      currentElement.value = this.searchTerm;
      currentElement.style.display = "";
      refreshResults();
    };
  }
  ReSort(indexOfChangedWord) {
    const changedWord = this.words.splice(indexOfChangedWord, 1)[0];
    let i = 0;
    let left = 0;
    let right = this.words.length - 1;
    while (left <= right) {
      const mid = Math.floor((left + right) / 2);
      if (this.words[mid][0] < changedWord[0]) {
        left = mid + 1;
        i = left;
      } else {
        right = mid - 1;
        i = mid;
      }
    }
    this.words.splice(i, 0, changedWord);
  }
};

// classes/story.ts
var _Story = class extends CFEFile {
  MakeVertical(el) {
    el.style.writingMode = "vertical-lr";
    el.style.textOrientation = "upright";
  }
  CreateTextInput(div, existingWord = "") {
    let input;
    switch (this.language) {
      case "Hwayu":
        return Hwayu.CreateTextInput(div, existingWord, 25, this.doVertical);
      case "Photolang":
        return PhotoLang.CreateTextInput(div, existingWord, 25);
      default:
        input = div.createEl("input", { type: "text", value: existingWord });
        input.style.fontSize = "25px";
        return input;
    }
  }
  DisplayLineEdit(div, line) {
    const input = this.CreateTextArea(div, line.content);
    if (this.language !== "Photolang") {
      const speaker = this.characters[line.speakerIndex];
      input.style.backgroundColor = speaker.backgroundColor;
      input.style.color = speaker.color;
    }
    if (this.doVertical) {
      this.MakeVertical(input);
    }
    return input;
  }
  CreateTextArea(div, existingWord = "") {
    let input;
    switch (this.language) {
      case "Hwayu":
        return Hwayu.CreateTextArea(div, existingWord, 25, this.doVertical);
      case "Photolang":
        return PhotoLang.CreateTextArea(div, existingWord, 25);
      default:
        input = div.createEl("textarea", { text: existingWord });
        input.style.fontSize = "25px";
        return input;
    }
  }
  DisplayText(div, fontSize = 25, existingWord = "") {
    switch (this.language) {
      case "Hwayu":
        return Hwayu.Display(div, existingWord, fontSize, this.doVertical);
      case "Photolang":
        return PhotoLang.Display(div, existingWord, fontSize, null, null, true);
      default:
        return div.createEl("p", { text: existingWord });
    }
  }
  static async CreateNewFileForLayer(snv, fileType, parentFolderID) {
    const newStoryFile = await super.CreateNewFileForLayer(snv, fileType, parentFolderID);
    newStoryFile.currentPageIndex = 0;
    newStoryFile.pages = [];
    newStoryFile.characters = [];
    newStoryFile.language = "English";
    newStoryFile.doVertical = false;
    return newStoryFile;
  }
  async Display(snv, mainDiv) {
    await super.Display(snv, mainDiv);
    this.LoadStoryUI(snv, mainDiv.createDiv("vbox"));
  }
  LoadStoryUI(snv, mainDiv) {
    mainDiv.empty();
    mainDiv.createEl("p", { text: "Go to page number:" });
    const pageSelectDiv = mainDiv.createDiv("hbox");
    const pageNumberInput = pageSelectDiv.createEl("input", { type: "text", value: "" + (this.currentPageIndex + 1) });
    pageSelectDiv.createEl("p", { text: "/" + this.pages.length });
    const goButton = pageSelectDiv.createEl("button", { text: "Go" });
    goButton.onclick = () => {
      this.currentPageIndex = parseInt(pageNumberInput.value) - 1;
      this.LoadCurrentPageEdit(snv, mainDiv);
    };
    const languageInput = mainDiv.createEl("select");
    for (let i = 0; i < _Story.knownLanguages.length; i++) {
      languageInput.createEl("option", { text: _Story.knownLanguages[i], value: _Story.knownLanguages[i] });
    }
    languageInput.value = this.language;
    languageInput.onchange = async () => {
      this.language = languageInput.value;
      await this.Save(snv);
      this.LoadStoryUI(snv, mainDiv);
    };
    mainDiv.createEl("p", { text: "Vertical Text" });
    const doVerticalBox = mainDiv.createEl("input", { type: "checkbox" });
    doVerticalBox.checked = this.doVertical;
    doVerticalBox.onclick = async () => {
      this.doVertical = doVerticalBox.checked;
      await this.Save(snv);
      this.LoadStoryUI(snv, mainDiv);
    };
    this.LoadCharacterEditorUI(snv, mainDiv);
  }
  LoadCharacterEditorUI(snv, div) {
    const charEditorDiv = div.createDiv();
    charEditorDiv.className = this.doVertical ? "hbox" : "vbox";
    for (let i = 0; i < this.characters.length; i++) {
      const currentIndex = i;
      const charDiv = charEditorDiv.createDiv();
      charDiv.className = this.doVertical ? "vbox" : "hbox";
      charDiv.createEl("p", { text: "Name: " });
      const nameInput = this.CreateTextInput(charDiv, this.characters[currentIndex].name);
      if (this.language !== "Photolang") {
        nameInput.style.backgroundColor = this.characters[currentIndex].backgroundColor;
        nameInput.style.color = this.characters[currentIndex].color;
      }
      nameInput.onchange = async () => {
        this.characters[currentIndex].name = nameInput.value;
        await this.Save(snv);
        this.LoadStoryUI(snv, div);
      };
      if (this.doVertical) {
        nameInput.style.height = "fit-content";
      } else {
        nameInput.style.width = "fit-content";
      }
      if (this.language !== "Photolang") {
        this.LoadCharacterColorSelectionUI(snv, div, charEditorDiv, currentIndex);
      } else {
        this.DisplayText(charDiv, 25, this.characters[currentIndex].name);
      }
    }
    const addCharButton = charEditorDiv.createEl("button", { text: "Add Character" });
    addCharButton.onclick = async () => {
      this.characters.push(new Character());
      await this.Save(snv);
      charEditorDiv.remove();
      this.LoadCharacterEditorUI(snv, div);
    };
  }
  LoadCharacterColorSelectionUI(snv, div, charEditorDiv, currentIndex) {
    const colorDiv = charEditorDiv.createDiv();
    colorDiv.className = this.doVertical ? "vbox" : "hbox";
    colorDiv.createEl("p", { text: "Text Color:" });
    const colorInput = colorDiv.createEl("input", { type: "color", value: this.characters[currentIndex].color });
    colorDiv.createEl("p", { text: "Background Color:" });
    const backgroundInput = colorDiv.createEl("input", { type: "color", value: this.characters[currentIndex].backgroundColor });
    const swapButton = colorDiv.createEl("button", { text: "Swap" });
    colorInput.onchange = async () => {
      this.characters[currentIndex].color = colorInput.value;
      await this.Save(snv);
    };
    backgroundInput.onchange = async () => {
      this.characters[currentIndex].backgroundColor = backgroundInput.value;
      await this.Save(snv);
    };
    swapButton.onclick = async () => {
      this.characters[currentIndex].backgroundColor = colorInput.value;
      this.characters[currentIndex].color = backgroundInput.value;
      await this.Save(snv);
      charEditorDiv.remove();
      this.LoadCharacterEditorUI(snv, div);
    };
  }
  LoadPageSelector(snv, mainDiv) {
    const buttonsDiv = mainDiv.createDiv("hbox");
    const backButton = buttonsDiv.createEl("button", { text: "-" });
    const pageNumberInput = buttonsDiv.createEl("input", { type: "text", value: "" + (this.currentPageIndex + 1) });
    buttonsDiv.createEl("p", { text: "/" + this.pages.length });
    const nextButton = buttonsDiv.createEl("button", { text: "+" });
    const deleteButton = buttonsDiv.createEl("button", { text: "Delete Page" });
    deleteButton.className = "cfe-remove-button";
    const addButton = buttonsDiv.createEl("button", { text: "Add Page" });
    const editModeButton = buttonsDiv.createEl("button", { text: "Edit Mode" });
    const viewModeButton = buttonsDiv.createEl("button", { text: "View Mode" });
    const homeButton = buttonsDiv.createEl("button", { text: "Return to Story" });
    homeButton.onclick = async () => {
      await this.LoadStoryUI(snv, mainDiv);
    };
    editModeButton.onclick = async () => {
      await this.LoadCurrentPageEdit(snv, mainDiv);
    };
    viewModeButton.onclick = async () => {
      await this.LoadCurrentPageDisplayOnly(snv, mainDiv);
    };
    backButton.onclick = async () => {
      if (this.currentPageIndex > 0) {
        this.currentPageIndex--;
        await this.LoadCurrentPageEdit(snv, mainDiv);
      }
    };
    nextButton.onclick = async () => {
      if (this.currentPageIndex < this.pages.length) {
        this.currentPageIndex++;
        await this.LoadCurrentPageEdit(snv, mainDiv);
      }
    };
    pageNumberInput.onchange = async () => {
      this.currentPageIndex = parseInt(pageNumberInput.value) - 1;
      await this.LoadCurrentPageEdit(snv, mainDiv);
    };
    deleteButton.onclick = async () => {
      this.pages.splice(this.currentPageIndex, 1);
      await this.Save(snv);
      if (this.currentPageIndex !== 0) {
        this.currentPageIndex--;
      }
      await this.LoadCurrentPageEdit(snv, mainDiv);
    };
    addButton.onclick = async () => {
      const defaultPage = new Page();
      const thisPageFileID = this.pages[this.currentPageIndex].mediaFileID;
      if (thisPageFileID !== -1 && thisPageFileID < snv.sourceFolder.fileCount) {
        defaultPage.mediaFileID = thisPageFileID;
      }
      this.pages.splice(this.currentPageIndex + 1, 0, defaultPage);
      await this.Save(snv);
      this.currentPageIndex++;
      await this.LoadCurrentPageEdit(snv, mainDiv);
    };
  }
  async LoadCurrentPageEdit(snv, mainDiv) {
    mainDiv.empty();
    this.LoadPageSelector(snv, mainDiv);
    mainDiv.createEl("p", { text: "Media File ID:" });
    const mediaFileIDInput = mainDiv.createEl("input", { type: "text" });
    const panelDiv = mainDiv.createDiv("hbox");
    const outerMediaDiv = panelDiv.createDiv("vbox");
    const linesDiv = panelDiv.createDiv("vbox");
    const mediaWidthInput = outerMediaDiv.createEl("input", { type: "text" });
    mediaWidthInput.onchange = async () => {
      outerMediaDiv.style.width = mediaWidthInput.value + "%";
      linesDiv.style.width = 100 - parseInt(mediaWidthInput.value) + "%";
      this.pages[this.currentPageIndex].mediaSizePercentage = parseInt(mediaWidthInput.value);
      await this.Save(snv);
    };
    const mediaDiv = outerMediaDiv.createDiv("vbox");
    outerMediaDiv.style.width = "50%";
    mediaDiv.style.objectFit = "contain";
    linesDiv.style.width = "50%";
    linesDiv.style.maxHeight = "80vh";
    linesDiv.style.position = "sticky";
    linesDiv.style.top = "0%";
    if (this.currentPageIndex < this.pages.length) {
      const currentPage = this.pages[this.currentPageIndex];
      const mediaFileID = currentPage.mediaFileID;
      mediaFileIDInput.value = "" + currentPage.mediaFileID;
      if (mediaFileID > 0) {
        const mediaFile = await CFEFileHandler.LoadFile(snv, mediaFileID);
        await mediaFile.DisplayMediaOnly(mediaDiv, snv);
      }
      if (this.pages[this.currentPageIndex].mediaSizePercentage) {
        mediaWidthInput.value = "" + this.pages[this.currentPageIndex].mediaSizePercentage;
        outerMediaDiv.style.width = mediaWidthInput.value + "%";
        linesDiv.style.width = 100 - parseInt(mediaWidthInput.value) + "%";
      } else {
        mediaWidthInput.value = "50";
        this.pages[this.currentPageIndex].mediaSizePercentage = 50;
        await this.Save(snv);
      }
    } else {
      const defaultPage = new Page();
      const lastPage = this.currentPageIndex - 1;
      if (lastPage >= 0 && this.currentPageIndex !== 0) {
        const lastPageFileID = this.pages[lastPage].mediaFileID;
        const lastPageSize = this.pages[lastPage].mediaSizePercentage;
        defaultPage.mediaSizePercentage = lastPageSize;
        mediaWidthInput.value = "" + lastPageSize;
        outerMediaDiv.style.width = mediaWidthInput.value + "%";
        linesDiv.style.width = 100 - parseInt(mediaWidthInput.value) + "%";
        if (lastPageFileID !== -1 && lastPageFileID < snv.sourceFolder.fileCount) {
          const mediaFileID = lastPageFileID + 1;
          defaultPage.mediaFileID = mediaFileID;
          mediaFileIDInput.value = "" + mediaFileID;
          if (mediaFileID > 0) {
            const mediaFile = await CFEFileHandler.LoadFile(snv, mediaFileID);
            await mediaFile.DisplayMediaOnly(mediaDiv, snv);
          }
        }
      }
      this.pages.push(defaultPage);
      await this.Save(snv);
    }
    await this.LoadDialogueLinesEdit(snv, linesDiv);
    mediaFileIDInput.onchange = async () => {
      const currentPage = this.pages[this.currentPageIndex];
      currentPage.mediaFileID = parseInt(mediaFileIDInput.value);
      await this.Save(snv);
      const mediaFile = await CFEFileHandler.LoadFile(snv, currentPage.mediaFileID);
      await mediaFile.DisplayMediaOnly(mediaDiv, snv);
    };
  }
  async LoadCurrentPageDisplayOnly(snv, mainDiv) {
    mainDiv.empty();
    this.LoadPageSelector(snv, mainDiv);
    const panelDiv = mainDiv.createDiv("hbox");
    const outerMediaDiv = panelDiv.createDiv("vbox");
    const linesDiv = panelDiv.createDiv("vbox");
    const mediaDiv = outerMediaDiv.createDiv("vbox");
    outerMediaDiv.style.width = "50%";
    mediaDiv.style.objectFit = "contain";
    linesDiv.style.width = "50%";
    linesDiv.style.maxHeight = "80vh";
    linesDiv.style.position = "sticky";
    linesDiv.style.top = "0%";
    const currentPage = this.pages[this.currentPageIndex];
    const mediaFileID = currentPage.mediaFileID;
    if (mediaFileID > 0) {
      const mediaFile = await CFEFileHandler.LoadFile(snv, mediaFileID);
      await mediaFile.DisplayMediaOnly(mediaDiv, snv);
    }
    if (this.pages[this.currentPageIndex].mediaSizePercentage) {
      const width = this.pages[this.currentPageIndex].mediaSizePercentage;
      outerMediaDiv.style.width = width + "%";
      linesDiv.style.width = 100 - width + "%";
    }
    await this.LoadDialogueLinesDisplayOnly(linesDiv);
  }
  async LoadDialogueLinesEdit(snv, linesDiv) {
    linesDiv.empty();
    const speakDiv = linesDiv.createDiv();
    speakDiv.style.position = "absolute";
    speakDiv.style.top = "0px";
    speakDiv.style.left = "0px";
    const existingLinesDiv = linesDiv.createDiv();
    existingLinesDiv.className = this.doVertical ? "hbox" : "vbox";
    if (this.doVertical) {
      existingLinesDiv.style.overflowX = "scroll";
    } else {
      existingLinesDiv.style.overflowY = "scroll";
    }
    for (let i = 0; i < this.pages[this.currentPageIndex].lines.length; i++) {
      const currentIndex = i;
      const currentLine = this.pages[this.currentPageIndex].lines[i];
      const speaker = this.characters[currentLine.speakerIndex];
      const lineDiv = existingLinesDiv.createDiv();
      lineDiv.className = this.doVertical ? "vbox" : "hbox";
      const deleteButton = lineDiv.createEl("button", { text: "-" });
      deleteButton.className = "cfe-remove-button";
      deleteButton.onclick = async () => {
        this.pages[this.currentPageIndex].lines.splice(currentIndex, 1);
        await this.Save(snv);
        await this.LoadDialogueLinesEdit(snv, linesDiv);
      };
      if (this.doVertical) {
        this.MakeVertical(deleteButton);
      }
      const indexTextEl = this.DisplayText(lineDiv, 25, "" + currentIndex);
      if (this.doVertical) {
        this.MakeVertical(indexTextEl);
      }
      if (this.language === "Photolang") {
        const playButton = lineDiv.createEl("button", { text: "\u25B7" });
        playButton.onclick = () => {
          const popup = speakDiv.createDiv();
          popup.style.position = "absolute";
          popup.style.top = "0px";
          popup.style.left = "0px";
          const photoline = new PhotoLine(lineInput.value);
          photoline.Speak(popup, 200, [100, 250, 500], [0, 500], false);
        };
        if (this.doVertical) {
          this.MakeVertical(playButton);
        }
      }
      const charDropdownButton = lineDiv.createDiv();
      const charDropdownDiv = charDropdownButton.createDiv();
      charDropdownDiv.style.height = "fit-content";
      charDropdownDiv.style.width = "fit-content";
      charDropdownDiv.style.position = "relative";
      charDropdownButton.onclick = () => {
        const selectDiv = charDropdownDiv.createDiv();
        selectDiv.className = this.doVertical ? "hbox" : "vbox";
        selectDiv.style.position = "absolute";
        selectDiv.style.top = "0%";
        selectDiv.style.left = "0%";
        for (let i2 = 0; i2 < this.characters.length; i2++) {
          const currentCharIndex = i2;
          const currentChar = this.characters[currentCharIndex];
          const currentOption = selectDiv.createDiv();
          if (this.doVertical) {
            this.MakeVertical(currentOption);
          }
          if (this.language !== "Photolang") {
            currentOption.style.backgroundColor = currentChar.backgroundColor;
            currentOption.style.color = currentChar.color;
          }
          currentOption.style.zIndex = "2";
          this.DisplayText(currentOption, 25, currentChar.name);
          currentOption.onclick = async () => {
            this.pages[this.currentPageIndex].lines[currentIndex].speakerIndex = currentCharIndex;
            await this.Save(snv);
            this.LoadDialogueLinesEdit(snv, linesDiv);
          };
        }
      };
      const nameEl = this.DisplayText(charDropdownDiv, 25, this.characters[currentLine.speakerIndex].name);
      if (this.doVertical) {
        this.MakeVertical(nameEl);
      }
      if (this.language !== "Photolang") {
        nameEl.style.backgroundColor = speaker.backgroundColor;
        nameEl.style.color = speaker.color;
      }
      const lineInput = this.DisplayLineEdit(lineDiv, currentLine);
      if (this.doVertical) {
        lineInput.style.height = "100%";
        this.MakeVertical(lineInput);
      } else {
        lineInput.style.width = "100%";
      }
      lineInput.onchange = async () => {
        currentLine.content = lineInput.value;
        await this.Save(snv);
      };
    }
    const addButton = existingLinesDiv.createEl("button", { text: "+" });
    addButton.onclick = async () => {
      this.pages[this.currentPageIndex].lines.push(new DialogueLine(0));
      await this.Save(snv);
      await this.LoadDialogueLinesEdit(snv, linesDiv);
    };
  }
  // private async LoadDialogueLinesEdit(snv: SourceAndVault, linesDiv: HTMLDivElement) {
  // 	const existingLinesDiv = linesDiv.createDiv('hbox');
  // 	existingLinesDiv.style.overflowX = 'scroll';
  // 	const fontSize = '17.5px';
  // 	for (let i = 0; i < this.pages[this.currentPageIndex].lines.length; i++) {
  // 		const currentIndex = i;
  // 		const currentLine = this.pages[this.currentPageIndex].lines[i];
  // 		const speakerIndex = currentLine.speakerIndex;
  // 		const currentSpeaker = this.characters[speakerIndex];
  // 		const lineDiv = existingLinesDiv.createDiv('vbox');
  // 		const deleteButton = lineDiv.createEl('button', { text: '-' } );
  // 		deleteButton.className = 'cfe-remove-button';
  // 		deleteButton.style.writingMode = 'vertical-lr';
  // 		deleteButton.style.textOrientation = 'upright';
  // 		deleteButton.onclick = async () => {
  // 			this.pages[this.currentPageIndex].lines.splice(currentIndex, 1);
  // 			await this.Save(snv);
  // 			await this.LoadDialogueLinesEdit(snv, linesDiv);
  // 		}
  // 		const indexElement = lineDiv.createEl('p', { text: '' +  currentIndex } );
  // 		indexElement.style.color = currentSpeaker.color;
  // 		indexElement.style.fontFamily = 'HwayuReal';
  // 		indexElement.style.writingMode = 'vertical-lr';
  // 		indexElement.style.textOrientation = 'upright';
  // 		const charDropdownDiv = lineDiv.createDiv();
  // 		charDropdownDiv.style.position = 'relative';
  // 		const charDropdown = charDropdownDiv.createEl('button');
  // 		charDropdown.style.height = 'fit-content';
  // 		charDropdown.onclick = () => {
  // 			const selectDiv = charDropdownDiv.createDiv('hbox');
  // 			selectDiv.style.position = 'absolute';
  // 			selectDiv.style.top = '0%';
  // 			selectDiv.style.left = '0%';
  // 			for (let i = 0; i < this.characters.length; i++) {
  // 				const currentCharIndex = i;
  // 				const currentChar = this.characters[currentCharIndex];
  // 				const currentOption = selectDiv.createEl('button', { text: currentChar.name, value: '' + i } );
  // 				currentOption.style.color = currentChar.color;
  // 				currentOption.style.fontFamily = 'HwayuReal';
  // 				currentOption.style.backgroundColor = currentChar.backgroundColor;
  // 				currentOption.style.writingMode = 'vertical-lr';
  // 				currentOption.style.textOrientation = 'upright';
  // 				currentOption.style.height = 'fit-content';
  // 				currentOption.style.zIndex = '2';
  // 				currentOption.onclick = async () => {
  // 					this.pages[this.currentPageIndex].lines[currentIndex].speakerIndex = currentCharIndex;
  // 					const newSpeakerColor = this.characters[currentCharIndex].color;
  // 					const newBackgroundColor = this.characters[currentCharIndex].backgroundColor;
  // 					charDropdown.style.color = newSpeakerColor;
  // 					charDropdown.style.backgroundColor = newBackgroundColor;
  // 					charDropdown.textContent = this.characters[currentCharIndex].name;
  // 					lineInput.style.color = newSpeakerColor;
  // 					lineInput.style.backgroundColor = newBackgroundColor;
  // 					indexElement.style.color = newSpeakerColor;
  // 					await this.Save(snv);
  // 					selectDiv.remove();
  // 				}
  // 			}
  // 		}
  // 		charDropdown.textContent = this.characters[currentLine.speakerIndex].name;
  // 		charDropdown.style.color = currentSpeaker.color;
  // 		charDropdown.style.backgroundColor = currentSpeaker.backgroundColor;
  // 		charDropdown.style.fontFamily = 'HwayuReal';
  // 		charDropdown.style.writingMode = 'vertical-lr';
  // 		charDropdown.style.textOrientation = 'upright';
  // 		const lineInput = lineDiv.createEl('textarea');
  // 		lineInput.spellcheck = false;
  // 		lineInput.style.overflowX = 'scroll';
  // 		lineInput.style.writingMode = 'vertical-lr';
  // 		lineInput.style.textOrientation = 'upright';
  // 		lineInput.defaultValue = currentLine.content;
  // 		lineInput.style.color = currentSpeaker.color;
  // 		lineInput.style.backgroundColor = currentSpeaker.backgroundColor;
  // 		lineInput.style.fontFamily = 'HwayuReal';
  // 		lineInput.style.fontSize = fontSize;
  // 		lineInput.style.height = '100%';
  // 		lineInput.onchange = async () => {
  // 			this.pages[this.currentPageIndex].lines[currentIndex].content = lineInput.value;
  // 			await this.Save(snv);
  // 		}
  // 	}
  // 	const addButton = existingLinesDiv.createEl('button', { text: '+' } );
  // 	addButton.style.height = '100%';
  // 	addButton.onclick = async () => {
  // 		this.pages[this.currentPageIndex].lines.push(new DialogueLine(0));
  // 		await this.Save(snv);
  // 		await this.LoadDialogueLinesEdit(snv, linesDiv);
  // 	}
  // }
  async LoadDialogueLinesDisplayOnly(linesDiv) {
    linesDiv.empty();
    const speakDiv = linesDiv.createDiv();
    speakDiv.style.position = "absolute";
    speakDiv.style.top = "0px";
    speakDiv.style.left = "0px";
    const existingLinesDiv = linesDiv.createDiv("vbox");
    existingLinesDiv.className = this.doVertical ? "hbox" : "vbox";
    if (this.doVertical) {
      existingLinesDiv.style.overflowX = "scroll";
    } else {
      existingLinesDiv.style.overflowY = "scroll";
    }
    for (let i = 0; i < this.pages[this.currentPageIndex].lines.length; i++) {
      const currentLine = this.pages[this.currentPageIndex].lines[i];
      const speaker = this.characters[currentLine.speakerIndex];
      if (this.language === "Photolang") {
        const playButton = existingLinesDiv.createEl("button", { text: "\u25B7" });
        playButton.onclick = () => {
          const popup = speakDiv.createDiv();
          popup.style.position = "absolute";
          popup.style.top = "0px";
          popup.style.left = "0px";
          const photoline = new PhotoLine(currentLine.content);
          photoline.Speak(popup, 200, [100, 250, 500], [0, 500], false);
        };
      }
      const nameDiv = existingLinesDiv.createDiv("");
      nameDiv.className = this.doVertical ? "vbox" : "hbox";
      const lineDiv = existingLinesDiv.createDiv("");
      lineDiv.className = this.doVertical ? "vbox" : "hbox";
      const nameEl = this.DisplayText(nameDiv, 25, speaker.name);
      nameEl.style.backgroundColor = speaker.backgroundColor;
      nameEl.style.color = speaker.color;
      if (this.language === "Photolang") {
        const photoLine = new PhotoLine(currentLine.content);
        photoLine.DisplayStatic(lineDiv, 25);
      } else {
        const lineEl = this.DisplayText(lineDiv, 25, currentLine.content);
        lineEl.style.backgroundColor = speaker.backgroundColor;
        lineEl.style.color = speaker.color;
      }
    }
    if (this.language === "Photolang") {
      for (let i = 0; i < this.pages[this.currentPageIndex].lines.length; i++) {
        const currentLine = this.pages[this.currentPageIndex].lines[i];
        const nameDiv = speakDiv.createDiv();
        nameDiv.style.position = "absolute";
        nameDiv.style.top = "0px";
        nameDiv.style.left = "0px";
        const photoName = new PhotoLine(this.characters[currentLine.speakerIndex].name);
        await photoName.Speak(nameDiv, 100, [100, 250, 500], [0, 500], false);
        const popup = speakDiv.createDiv();
        popup.style.position = "absolute";
        popup.style.top = "0px";
        popup.style.left = "0px";
        const photoLine = new PhotoLine(currentLine.content);
        await photoLine.Speak(popup, 200, [100, 250, 500], [0, 500], false);
      }
    }
  }
};
var Story = _Story;
Story.knownLanguages = [
  "English",
  "Hwayu",
  "Photolang"
];
var Page = class {
  constructor() {
    this.mediaFileID = -1;
    this.lines = [];
    this.mediaSizePercentage = 50;
  }
};
var DialogueLine = class {
  constructor(speakerIndex) {
    this.speakerIndex = speakerIndex;
    this.content = "";
  }
};
var Character = class {
  constructor(name = "", color = "white", backgroundColor = "white") {
    this.name = name;
    this.color = color;
    this.backgroundColor = backgroundColor;
  }
};

// classes/cfe-file-handler.ts
var CFEFileHandler = class {
  static async CreateNew(snv, fileType, parentFolderID) {
    let newFile;
    switch (fileType) {
      case "Folder":
      default:
        newFile = await Folder.CreateNewFileForLayer(snv, fileType, parentFolderID);
        break;
      case "Single Media File":
        newFile = await SingleMediaFile.CreateNewFileForLayer(snv, fileType, parentFolderID);
        break;
      case "Variant Media File":
        newFile = await VariantMediaFile.CreateNewFileForLayer(snv, fileType, parentFolderID);
        break;
      case "Playlist":
        newFile = await Playlist.CreateNewFileForLayer(snv, fileType, parentFolderID);
        break;
      case "Story":
        newFile = await Story.CreateNewFileForLayer(snv, fileType, parentFolderID);
        break;
      case "Source Folder Shortcut":
        newFile = await SourceFolderShortcut.CreateNewFileForLayer(snv, fileType, parentFolderID);
        break;
      case "Conlang Dictionary":
        newFile = await ConlangDictionary.CreateNewFileForLayer(snv, fileType, parentFolderID);
        break;
    }
    await newFile.Save(snv);
    return newFile;
  }
  static async LoadFile(snv, fileID) {
    const sourceFolder = snv.sourceFolder;
    const vault = snv.vault;
    const tFile = vault.getFileByPath(sourceFolder.vaultPath + "/" + fileID + ".json");
    if (tFile === null) {
      throw Error("File could not be found at the path: " + sourceFolder.vaultPath + "/" + fileID + ".json");
    }
    const jsonData = await vault.cachedRead(tFile);
    const plainObject = JSON.parse(jsonData);
    switch (plainObject.fileType) {
      case "Folder":
      default:
        return await Object.assign(new Folder(), plainObject);
      case "Single Media File":
        return await Object.assign(new SingleMediaFile(), plainObject);
      case "Variant Media File":
        return await Object.assign(new VariantMediaFile(), plainObject);
      case "Playlist":
        return await Object.assign(new Playlist(), plainObject);
      case "Story":
        return await Object.assign(new Story(), plainObject);
      case "Source Folder Shortcut":
        return await Object.assign(new SourceFolderShortcut(), plainObject);
      case "Conlang Dictionary":
        return await Object.assign(new ConlangDictionary(), plainObject);
    }
  }
};
/**
 * All of the known file formats
 */
CFEFileHandler.KnownFileTypes = [
  "Folder",
  "Single Media File",
  "Variant Media File",
  "Playlist",
  "Story",
  "Source Folder Shortcut",
  "Conlang Dictionary"
];

// classes/snv.ts
var SourceAndVault = class {
  constructor(sourceFolder, vault) {
    this.sourceFolder = sourceFolder;
    this.vault = vault;
  }
};

// classes/source-folder.ts
var SourceFolder = class {
  constructor() {
    this.vaultPath = "";
    this.fileCount = 0;
  }
  async Display(container, vault) {
    const snv = new SourceAndVault(this, vault);
    const notExists = vault.getFileByPath(snv.sourceFolder.vaultPath + "/0.json") === null;
    if (notExists) {
      await CFEFileHandler.CreateNew(snv, "Folder", 0);
    }
    const rootFolder = await CFEFileHandler.LoadFile(snv, 0);
    await SourceFolder.Save(snv);
    await rootFolder.Save(snv);
    await rootFolder.Display(snv, container);
  }
  static async CreateOrLoadSourceFolder(vaultPath, vault) {
    vaultPath = vaultPath.endsWith("/source.json") ? vaultPath.slice(0, -12) : vaultPath;
    const exists = vault.getFileByPath(vaultPath + "/source.json") !== null;
    let newSourceFolder;
    if (exists) {
      newSourceFolder = await this.LoadExistingSource(vaultPath, vault);
    } else {
      newSourceFolder = await this.CreateNewSourceFolder(vaultPath, vault);
    }
    return newSourceFolder;
  }
  static async CreateNewSourceFolder(vaultPath, vault) {
    const newSourceFolder = new SourceFolder();
    newSourceFolder.vaultPath = vaultPath;
    newSourceFolder.fileCount = 0;
    try {
      await vault.createFolder(vaultPath);
    } finally {
      const sourcePath = (0, import_obsidian3.normalizePath)(vaultPath + "/source.json");
      await vault.adapter.write(sourcePath, "0");
    }
    return newSourceFolder;
  }
  static async LoadExistingSource(vaultPath, vault) {
    const sourceTFile = vault.getFileByPath(vaultPath + "/source.json");
    if (sourceTFile === null) {
      new import_obsidian3.Notice("Source File could not be found at the path: " + vaultPath + "/source.json");
      throw Error("Source File could not be found at the path: " + vaultPath + "/source.json");
    }
    const jsonData = await vault.cachedRead(sourceTFile);
    const plainObject = await JSON.parse(jsonData);
    const newSourceFolder = Object.assign(new SourceFolder(), plainObject);
    newSourceFolder.vaultPath = vaultPath;
    await SourceFolder.Save(new SourceAndVault(newSourceFolder, vault));
    return newSourceFolder;
  }
  /**
   * Saves the new file count
   */
  static async Save(sourceAndVault) {
    const sourceFolder = sourceAndVault.sourceFolder;
    const vault = sourceAndVault.vault;
    const tFile = vault.getFileByPath(sourceFolder.vaultPath + "/source.json");
    if (tFile === null) {
      new import_obsidian3.Notice("Source File could not be found at the path: " + sourceFolder.vaultPath + "/source.json");
      throw Error("Source File could not be found at the path: " + sourceFolder.vaultPath + "/source.json");
    }
    const jsonData = JSON.stringify(sourceFolder);
    await vault.modify(tFile, jsonData);
  }
};

// classes/custom-explorer-view.ts
var VIEW_TYPE_CUSTOM_EXPLORER = "custom-explorer-view";
var CustomExplorerView = class extends import_obsidian4.ItemView {
  constructor(leaf, path) {
    super(leaf);
    this.defaultPath = path;
  }
  getViewType() {
    return VIEW_TYPE_CUSTOM_EXPLORER;
  }
  getDisplayText() {
    return "Example view";
  }
  async onOpen() {
    const wrapper = this.containerEl.children[1];
    wrapper.empty();
    const mainContainer = wrapper.createDiv("cfe-main-display");
    const homePage = mainContainer.createDiv("cfe-home-page");
    homePage.createEl("h4", { text: "Path to Source Folder:" });
    const existingSourcePathInput = homePage.createEl("input", { type: "text", value: this.defaultPath });
    existingSourcePathInput.style.width = "100%";
    const submitButton = homePage.createEl("button", { text: "submit" });
    const vault = this.app.vault;
    submitButton.onclick = async () => {
      const path = existingSourcePathInput.value;
      const sf = await SourceFolder.CreateOrLoadSourceFolder(path, vault);
      await sf.Display(mainContainer, vault);
    };
    homePage.onkeydown = async (keyPressEvent) => {
      if (keyPressEvent.key === "Enter") {
        const path = existingSourcePathInput.value;
        const sf = await SourceFolder.CreateOrLoadSourceFolder(path, vault);
        await sf.Display(mainContainer, vault);
      }
    };
  }
  async onClose() {
  }
};

// main.ts
var import_obsidian5 = require("obsidian");
var DEFAULT_SETTINGS = {
  defaultPath: "Source Folder"
};
var CFE = class extends import_obsidian5.Plugin {
  async onload() {
    await this.loadSettings();
    this.registerView(
      VIEW_TYPE_CUSTOM_EXPLORER,
      (leaf) => new CustomExplorerView(leaf, this.settings.defaultPath)
    );
    this.addRibbonIcon("folder", "Activate view", () => {
      this.activateView(VIEW_TYPE_CUSTOM_EXPLORER);
    });
    this.addCommand({
      id: "open-cfe-view",
      name: "Open Custom File Explorer View",
      callback: () => {
        this.activateView(VIEW_TYPE_CUSTOM_EXPLORER);
      }
    });
    this.addCommand({
      id: "sample-editor-command",
      name: "Sample editor command",
      editorCallback: (editor, view) => {
        console.log(editor.getSelection());
        editor.replaceSelection("Sample Editor Command");
      }
    });
    this.addSettingTab(new SampleSettingTab(this.app, this));
    this.registerDomEvent(document, "click", (evt) => {
      console.log("click", evt);
    });
    this.registerInterval(window.setInterval(() => console.log("setInterval"), 5 * 60 * 1e3));
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async activateView(view_type) {
    const { workspace } = this.app;
    let leaf = null;
    leaf = workspace.getLeaf("tab");
    if (leaf === null) {
      new import_obsidian5.Notice("Failed to create view: workspace leaf was null");
      return;
    }
    await leaf.setViewState({ type: view_type, active: true });
    workspace.revealLeaf(leaf);
  }
};
var SampleSettingTab = class extends import_obsidian5.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian5.Setting(containerEl).setName("Default Source Path").setDesc("The vault path to automatically fill in for the source path").addText((text) => text.setPlaceholder("Default Source Path").setValue(this.plugin.settings.defaultPath).onChange(async (value) => {
      this.plugin.settings.defaultPath = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJjbGFzc2VzL2N1c3RvbS1leHBsb3Jlci12aWV3LnRzIiwgImNsYXNzZXMvc291cmNlLWZvbGRlci50cyIsICJjbGFzc2VzL2NmZS1maWxlLnRzIiwgImNsYXNzZXMvc2luZ2xlLW1lZGlhLWZpbGUudHMiLCAiY2xhc3Nlcy9yZWFsLWZpbGUudHMiLCAiY2xhc3Nlcy9mb2xkZXIudHMiLCAiY2xhc3Nlcy9wbGF5bGlzdC50cyIsICJjbGFzc2VzL3ZhcmlhbnQtbWVkaWEtZmlsZS50cyIsICJjbGFzc2VzL3NvdXJjZS1mb2xkZXItc2hvcnRjdXQudHMiLCAiY2xhc3Nlcy9jb25sYW5ncy9od2F5dS10ZXh0LnRzIiwgImNsYXNzZXMvY29ubGFuZ3MvcGhvdG9sYW5nLXRleHQudHMiLCAiY2xhc3Nlcy9jb25sYW5nLWRpY3Rpb25hcnkudHMiLCAiY2xhc3Nlcy9zdG9yeS50cyIsICJjbGFzc2VzL2NmZS1maWxlLWhhbmRsZXIudHMiLCAiY2xhc3Nlcy9zbnYudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IEN1c3RvbUV4cGxvcmVyVmlldywgVklFV19UWVBFX0NVU1RPTV9FWFBMT1JFUiB9IGZyb20gJ2NsYXNzZXMvY3VzdG9tLWV4cGxvcmVyLXZpZXcnO1xuaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTm90aWNlLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsIFdvcmtzcGFjZUxlYWYgfSBmcm9tICdvYnNpZGlhbic7XG5cbi8vIFJlbWVtYmVyIHRvIHJlbmFtZSB0aGVzZSBjbGFzc2VzIGFuZCBpbnRlcmZhY2VzIVxuXG5pbnRlcmZhY2UgQ0ZFQ2V0dGluZ3Mge1xuXHRkZWZhdWx0UGF0aDogc3RyaW5nO1xufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBDRkVDZXR0aW5ncyA9IHtcblx0ZGVmYXVsdFBhdGg6ICdTb3VyY2UgRm9sZGVyJ1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDRkUgZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogQ0ZFQ2V0dGluZ3M7XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cblx0XHR0aGlzLnJlZ2lzdGVyVmlldyhcblx0XHRcdFZJRVdfVFlQRV9DVVNUT01fRVhQTE9SRVIsXG5cdFx0XHQobGVhZikgPT4gbmV3IEN1c3RvbUV4cGxvcmVyVmlldyhsZWFmLCB0aGlzLnNldHRpbmdzLmRlZmF1bHRQYXRoKVxuXHRcdCk7XG5cblx0XHR0aGlzLmFkZFJpYmJvbkljb24oJ2ZvbGRlcicsICdBY3RpdmF0ZSB2aWV3JywgKCkgPT4ge1xuXHRcdFx0dGhpcy5hY3RpdmF0ZVZpZXcoVklFV19UWVBFX0NVU1RPTV9FWFBMT1JFUik7XG5cdFx0fSk7XG5cblx0XHQvLyBUaGlzIGFkZHMgYSBzaW1wbGUgY29tbWFuZCB0aGF0IGNhbiBiZSB0cmlnZ2VyZWQgYW55d2hlcmVcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdvcGVuLWNmZS12aWV3Jyxcblx0XHRcdG5hbWU6ICdPcGVuIEN1c3RvbSBGaWxlIEV4cGxvcmVyIFZpZXcnLFxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0dGhpcy5hY3RpdmF0ZVZpZXcoVklFV19UWVBFX0NVU1RPTV9FWFBMT1JFUik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0Ly8gVGhpcyBhZGRzIGFuIGVkaXRvciBjb21tYW5kIHRoYXQgY2FuIHBlcmZvcm0gc29tZSBvcGVyYXRpb24gb24gdGhlIGN1cnJlbnQgZWRpdG9yIGluc3RhbmNlXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiAnc2FtcGxlLWVkaXRvci1jb21tYW5kJyxcblx0XHRcdG5hbWU6ICdTYW1wbGUgZWRpdG9yIGNvbW1hbmQnLFxuXHRcdFx0ZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3I6IEVkaXRvciwgdmlldzogTWFya2Rvd25WaWV3KSA9PiB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGVkaXRvci5nZXRTZWxlY3Rpb24oKSk7XG5cdFx0XHRcdGVkaXRvci5yZXBsYWNlU2VsZWN0aW9uKCdTYW1wbGUgRWRpdG9yIENvbW1hbmQnKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIFRoaXMgYWRkcyBhIHNldHRpbmdzIHRhYiBzbyB0aGUgdXNlciBjYW4gY29uZmlndXJlIHZhcmlvdXMgYXNwZWN0cyBvZiB0aGUgcGx1Z2luXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBTYW1wbGVTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cblx0XHQvLyBJZiB0aGUgcGx1Z2luIGhvb2tzIHVwIGFueSBnbG9iYWwgRE9NIGV2ZW50cyAob24gcGFydHMgb2YgdGhlIGFwcCB0aGF0IGRvZXNuJ3QgYmVsb25nIHRvIHRoaXMgcGx1Z2luKVxuXHRcdC8vIFVzaW5nIHRoaXMgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IHJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXIgd2hlbiB0aGlzIHBsdWdpbiBpcyBkaXNhYmxlZC5cblx0XHR0aGlzLnJlZ2lzdGVyRG9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycsIChldnQ6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKCdjbGljaycsIGV2dCk7XG5cdFx0fSk7XG5cblx0XHQvLyBXaGVuIHJlZ2lzdGVyaW5nIGludGVydmFscywgdGhpcyBmdW5jdGlvbiB3aWxsIGF1dG9tYXRpY2FsbHkgY2xlYXIgdGhlIGludGVydmFsIHdoZW4gdGhlIHBsdWdpbiBpcyBkaXNhYmxlZC5cblx0XHR0aGlzLnJlZ2lzdGVySW50ZXJ2YWwod2luZG93LnNldEludGVydmFsKCgpID0+IGNvbnNvbGUubG9nKCdzZXRJbnRlcnZhbCcpLCA1ICogNjAgKiAxMDAwKSk7XG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblxuXHR9XG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdH1cblxuXHRhc3luYyBhY3RpdmF0ZVZpZXcodmlld190eXBlOiBzdHJpbmcpIHtcblx0XHRjb25zdCB7IHdvcmtzcGFjZSB9ID0gdGhpcy5hcHA7XG5cblx0XHRsZXQgbGVhZjogV29ya3NwYWNlTGVhZiB8IG51bGwgPSBudWxsO1xuXG5cdFx0bGVhZiA9IHdvcmtzcGFjZS5nZXRMZWFmKCd0YWInKTtcblx0XHRpZiAobGVhZiA9PT0gbnVsbCkge1xuXHRcdFx0bmV3IE5vdGljZShcIkZhaWxlZCB0byBjcmVhdGUgdmlldzogd29ya3NwYWNlIGxlYWYgd2FzIG51bGxcIik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGF3YWl0IGxlYWYuc2V0Vmlld1N0YXRlKHsgdHlwZTogdmlld190eXBlLCBhY3RpdmU6IHRydWUgfSk7XG5cblx0XHQvLyBcIlJldmVhbFwiIHRoZSBsZWFmIGluIGNhc2UgaXQgaXMgaW4gYSBjb2xsYXBzZWQgc2lkZWJhclxuXHRcdHdvcmtzcGFjZS5yZXZlYWxMZWFmKGxlYWYpO1xuXHR9XG59XG5cbmNsYXNzIFNhbXBsZVNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBDRkU7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogQ0ZFKSB7XG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0ZGlzcGxheSgpOiB2b2lkIHtcblx0XHRjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpcztcblxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdEZWZhdWx0IFNvdXJjZSBQYXRoJylcblx0XHRcdC5zZXREZXNjKCdUaGUgdmF1bHQgcGF0aCB0byBhdXRvbWF0aWNhbGx5IGZpbGwgaW4gZm9yIHRoZSBzb3VyY2UgcGF0aCcpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdEZWZhdWx0IFNvdXJjZSBQYXRoJylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRQYXRoKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdFBhdGggPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgSXRlbVZpZXcsIFdvcmtzcGFjZUxlYWYgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBTb3VyY2VGb2xkZXIgfSBmcm9tICcuL3NvdXJjZS1mb2xkZXInO1xuXG5leHBvcnQgY29uc3QgVklFV19UWVBFX0NVU1RPTV9FWFBMT1JFUiA9ICdjdXN0b20tZXhwbG9yZXItdmlldyc7XG5cbmV4cG9ydCBjbGFzcyBDdXN0b21FeHBsb3JlclZpZXcgZXh0ZW5kcyBJdGVtVmlldyB7XG5cdGRlZmF1bHRQYXRoOiBzdHJpbmc7XG5cdGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYsIHBhdGg6IHN0cmluZykge1xuXHRcdHN1cGVyKGxlYWYpO1xuXHRcdHRoaXMuZGVmYXVsdFBhdGggPSBwYXRoO1xuXHR9XG5cblx0Z2V0Vmlld1R5cGUoKSB7XG5cdFx0cmV0dXJuIFZJRVdfVFlQRV9DVVNUT01fRVhQTE9SRVI7XG5cdH1cblxuXHRnZXREaXNwbGF5VGV4dCgpIHtcblx0XHRyZXR1cm4gJ0V4YW1wbGUgdmlldyc7XG5cdH1cblxuXHRhc3luYyBvbk9wZW4oKSB7XG5cdFx0Y29uc3Qgd3JhcHBlciA9IHRoaXMuY29udGFpbmVyRWwuY2hpbGRyZW5bMV07XG5cdFx0d3JhcHBlci5lbXB0eSgpO1xuXHRcdGNvbnN0IG1haW5Db250YWluZXIgPSB3cmFwcGVyLmNyZWF0ZURpdignY2ZlLW1haW4tZGlzcGxheScpO1xuXHRcdGNvbnN0IGhvbWVQYWdlID0gbWFpbkNvbnRhaW5lci5jcmVhdGVEaXYoJ2NmZS1ob21lLXBhZ2UnKTtcblx0XHRob21lUGFnZS5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdQYXRoIHRvIFNvdXJjZSBGb2xkZXI6JyB9ICk7XG5cdFx0Y29uc3QgZXhpc3RpbmdTb3VyY2VQYXRoSW5wdXQgPSBob21lUGFnZS5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6IHRoaXMuZGVmYXVsdFBhdGggfSApO1xuXHRcdGV4aXN0aW5nU291cmNlUGF0aElucHV0LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXHRcdGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGhvbWVQYWdlLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdzdWJtaXQnIH0gKTtcblx0XHRjb25zdCB2YXVsdCA9IHRoaXMuYXBwLnZhdWx0O1xuXHRcdHN1Ym1pdEJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0Y29uc3QgcGF0aCA9IGV4aXN0aW5nU291cmNlUGF0aElucHV0LnZhbHVlO1xuXHRcdFx0Y29uc3Qgc2YgPSA8U291cmNlRm9sZGVyPiBhd2FpdCBTb3VyY2VGb2xkZXIuQ3JlYXRlT3JMb2FkU291cmNlRm9sZGVyKHBhdGgsIHZhdWx0KTtcblx0XHRcdGF3YWl0IHNmLkRpc3BsYXkobWFpbkNvbnRhaW5lciwgdmF1bHQpO1xuXHRcdH1cblx0XHRob21lUGFnZS5vbmtleWRvd24gPSBhc3luYyAoa2V5UHJlc3NFdmVudCkgPT4ge1xuXHRcdFx0aWYgKGtleVByZXNzRXZlbnQua2V5ID09PSAnRW50ZXInKSB7XG5cdFx0XHRcdGNvbnN0IHBhdGggPSBleGlzdGluZ1NvdXJjZVBhdGhJbnB1dC52YWx1ZTtcblx0XHRcdFx0Y29uc3Qgc2YgPSBhd2FpdCBTb3VyY2VGb2xkZXIuQ3JlYXRlT3JMb2FkU291cmNlRm9sZGVyKHBhdGgsIHZhdWx0KTtcblx0XHRcdFx0YXdhaXQgc2YuRGlzcGxheShtYWluQ29udGFpbmVyLCB2YXVsdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgb25DbG9zZSgpIHtcblx0XHQvLyBOb3RoaW5nIHRvIGNsZWFuIHVwLlxuXHR9XG59XG4iLCAiaW1wb3J0IHsgbm9ybWFsaXplUGF0aCwgTm90aWNlLCBWYXVsdCB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgQ0ZFRmlsZUhhbmRsZXIgfSBmcm9tIFwiLi9jZmUtZmlsZS1oYW5kbGVyXCI7XG5pbXBvcnQgeyBTb3VyY2VBbmRWYXVsdCB9IGZyb20gXCIuL3NudlwiO1xuXG5leHBvcnQgY2xhc3MgU291cmNlRm9sZGVyIHtcblx0dmF1bHRQYXRoOiBzdHJpbmc7XG5cdGZpbGVDb3VudDogbnVtYmVyO1xuXG5cdHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy52YXVsdFBhdGggPSAnJztcblx0XHR0aGlzLmZpbGVDb3VudCA9IDA7XG5cdH1cblxuXHRhc3luYyBEaXNwbGF5KGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQsIHZhdWx0OiBWYXVsdCkge1xuXHRcdGNvbnN0IHNudiA9IG5ldyBTb3VyY2VBbmRWYXVsdCh0aGlzLCB2YXVsdCk7XG5cdFx0Y29uc3Qgbm90RXhpc3RzID0gdmF1bHQuZ2V0RmlsZUJ5UGF0aChzbnYuc291cmNlRm9sZGVyLnZhdWx0UGF0aCArICcvMC5qc29uJykgPT09IG51bGw7XG5cdFx0aWYgKG5vdEV4aXN0cykge1xuXHRcdFx0YXdhaXQgQ0ZFRmlsZUhhbmRsZXIuQ3JlYXRlTmV3KHNudiwgJ0ZvbGRlcicsIDApO1xuXHRcdH1cblx0XHRjb25zdCByb290Rm9sZGVyID0gYXdhaXQgQ0ZFRmlsZUhhbmRsZXIuTG9hZEZpbGUoc252LCAwKTtcblx0XHRhd2FpdCBTb3VyY2VGb2xkZXIuU2F2ZShzbnYpO1xuXHRcdGF3YWl0IHJvb3RGb2xkZXIuU2F2ZShzbnYpO1xuXHRcdGF3YWl0IHJvb3RGb2xkZXIuRGlzcGxheShzbnYsIGNvbnRhaW5lcik7XG5cdH1cblxuXHRzdGF0aWMgYXN5bmMgQ3JlYXRlT3JMb2FkU291cmNlRm9sZGVyKHZhdWx0UGF0aDogc3RyaW5nLCB2YXVsdDogVmF1bHQpOiBQcm9taXNlPFNvdXJjZUZvbGRlcj4ge1xuXHRcdHZhdWx0UGF0aCA9IHZhdWx0UGF0aC5lbmRzV2l0aCgnL3NvdXJjZS5qc29uJykgPyB2YXVsdFBhdGguc2xpY2UoMCwgLTEyKSA6IHZhdWx0UGF0aDtcblx0XHRjb25zdCBleGlzdHMgPSB2YXVsdC5nZXRGaWxlQnlQYXRoKHZhdWx0UGF0aCArICcvc291cmNlLmpzb24nKSAhPT0gbnVsbDtcblx0XHRsZXQgbmV3U291cmNlRm9sZGVyOiBTb3VyY2VGb2xkZXI7XG5cdFx0aWYgKGV4aXN0cykge1xuXHRcdFx0bmV3U291cmNlRm9sZGVyID0gYXdhaXQgdGhpcy5Mb2FkRXhpc3RpbmdTb3VyY2UodmF1bHRQYXRoLCB2YXVsdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG5ld1NvdXJjZUZvbGRlciA9IGF3YWl0IHRoaXMuQ3JlYXRlTmV3U291cmNlRm9sZGVyKHZhdWx0UGF0aCwgdmF1bHQpO1xuXHRcdH1cblx0XHRyZXR1cm4gbmV3U291cmNlRm9sZGVyO1xuXHR9XG5cblx0cHJpdmF0ZSBzdGF0aWMgYXN5bmMgQ3JlYXRlTmV3U291cmNlRm9sZGVyKHZhdWx0UGF0aDogc3RyaW5nLCB2YXVsdDogVmF1bHQpOiBQcm9taXNlPFNvdXJjZUZvbGRlcj4ge1xuXHRcdGNvbnN0IG5ld1NvdXJjZUZvbGRlciA9IG5ldyBTb3VyY2VGb2xkZXIoKTtcblx0XHRuZXdTb3VyY2VGb2xkZXIudmF1bHRQYXRoID0gdmF1bHRQYXRoO1xuXHRcdG5ld1NvdXJjZUZvbGRlci5maWxlQ291bnQgPSAwO1xuXHRcdHRyeSB7XG5cdFx0XHRhd2FpdCB2YXVsdC5jcmVhdGVGb2xkZXIodmF1bHRQYXRoKTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0Y29uc3Qgc291cmNlUGF0aCA9IG5vcm1hbGl6ZVBhdGgodmF1bHRQYXRoICsgJy9zb3VyY2UuanNvbicpO1xuXHRcdFx0YXdhaXQgdmF1bHQuYWRhcHRlci53cml0ZShzb3VyY2VQYXRoLCAnMCcpO1xuXHRcdH1cblx0XHRyZXR1cm4gbmV3U291cmNlRm9sZGVyO1xuXHR9XG5cblx0cHJpdmF0ZSBzdGF0aWMgYXN5bmMgTG9hZEV4aXN0aW5nU291cmNlKHZhdWx0UGF0aDogc3RyaW5nLCB2YXVsdDogVmF1bHQpOiBQcm9taXNlPFNvdXJjZUZvbGRlcj4ge1xuXHRcdGNvbnN0IHNvdXJjZVRGaWxlID0gdmF1bHQuZ2V0RmlsZUJ5UGF0aCh2YXVsdFBhdGggKyAnL3NvdXJjZS5qc29uJyk7XG5cdFx0aWYgKHNvdXJjZVRGaWxlID09PSBudWxsKSB7XG5cdFx0XHRuZXcgTm90aWNlKFwiU291cmNlIEZpbGUgY291bGQgbm90IGJlIGZvdW5kIGF0IHRoZSBwYXRoOiBcIiArIHZhdWx0UGF0aCArICcvc291cmNlLmpzb24nKTtcblx0XHRcdHRocm93IEVycm9yKFwiU291cmNlIEZpbGUgY291bGQgbm90IGJlIGZvdW5kIGF0IHRoZSBwYXRoOiBcIiArIHZhdWx0UGF0aCArICcvc291cmNlLmpzb24nKTtcblx0XHR9XG5cdFx0Y29uc3QganNvbkRhdGEgPSBhd2FpdCB2YXVsdC5jYWNoZWRSZWFkKHNvdXJjZVRGaWxlKTtcblxuXHRcdGNvbnN0IHBsYWluT2JqZWN0ID0gYXdhaXQgSlNPTi5wYXJzZShqc29uRGF0YSk7XG5cdFx0Y29uc3QgbmV3U291cmNlRm9sZGVyID0gT2JqZWN0LmFzc2lnbihuZXcgU291cmNlRm9sZGVyKCksIHBsYWluT2JqZWN0KTtcblx0XHRuZXdTb3VyY2VGb2xkZXIudmF1bHRQYXRoID0gdmF1bHRQYXRoO1xuXHRcdGF3YWl0IFNvdXJjZUZvbGRlci5TYXZlKG5ldyBTb3VyY2VBbmRWYXVsdChuZXdTb3VyY2VGb2xkZXIsIHZhdWx0KSk7XG5cdFx0cmV0dXJuIG5ld1NvdXJjZUZvbGRlcjtcblx0fVxuXG5cdC8qKlxuXHQgKiBTYXZlcyB0aGUgbmV3IGZpbGUgY291bnRcblx0ICovXG5cdHN0YXRpYyBhc3luYyBTYXZlKHNvdXJjZUFuZFZhdWx0OiBTb3VyY2VBbmRWYXVsdCkge1xuXHRcdGNvbnN0IHNvdXJjZUZvbGRlciA9IHNvdXJjZUFuZFZhdWx0LnNvdXJjZUZvbGRlcjtcblx0XHRjb25zdCB2YXVsdCA9IHNvdXJjZUFuZFZhdWx0LnZhdWx0O1xuXG5cdFx0Ly8gRmluZCB0aGUgZmlsZSBhbmQgY2hlY2sgdGhhdCBpdCBpc24ndCBudWxsXG5cdFx0Y29uc3QgdEZpbGUgPSB2YXVsdC5nZXRGaWxlQnlQYXRoKHNvdXJjZUZvbGRlci52YXVsdFBhdGggKyAnL3NvdXJjZS5qc29uJyk7XG5cdFx0aWYgKHRGaWxlID09PSBudWxsKSB7XG5cdFx0XHRuZXcgTm90aWNlKFwiU291cmNlIEZpbGUgY291bGQgbm90IGJlIGZvdW5kIGF0IHRoZSBwYXRoOiBcIiArIHNvdXJjZUZvbGRlci52YXVsdFBhdGggKyAnL3NvdXJjZS5qc29uJyk7XG5cdFx0XHR0aHJvdyBFcnJvcihcIlNvdXJjZSBGaWxlIGNvdWxkIG5vdCBiZSBmb3VuZCBhdCB0aGUgcGF0aDogXCIgKyBzb3VyY2VGb2xkZXIudmF1bHRQYXRoICsgJy9zb3VyY2UuanNvbicpO1xuXHRcdH1cblxuXHRcdGNvbnN0IGpzb25EYXRhID0gSlNPTi5zdHJpbmdpZnkoc291cmNlRm9sZGVyKTtcblx0XHRhd2FpdCB2YXVsdC5tb2RpZnkodEZpbGUsIGpzb25EYXRhKTtcblx0fVxufVxuIiwgImltcG9ydCB7IG5vcm1hbGl6ZVBhdGggfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgU291cmNlQW5kVmF1bHQgfSBmcm9tIFwiLi9zbnZcIjtcclxuaW1wb3J0IHsgQ0ZFRmlsZUhhbmRsZXIgfSBmcm9tIFwiLi9jZmUtZmlsZS1oYW5kbGVyXCI7XHJcbmltcG9ydCB7IFNvdXJjZUZvbGRlciB9IGZyb20gXCIuL3NvdXJjZS1mb2xkZXJcIjtcclxuaW1wb3J0IHsgRm9sZGVyIH0gZnJvbSBcIi4vZm9sZGVyXCI7XHJcblxyXG4vLyNyZWdpb24gRm9ybWF0dGVkIEZpbGUgSGFuZGxlclxyXG4vLyNlbmRyZWdpb25cclxuXHJcbi8vI3JlZ2lvbiBGaWxlIFR5cGVzXHJcbi8qKlxyXG4gKiBBbiBpbnRlcnByZXRhdGlvbiBvZiBqc29uIGZpbGVzIGFzIGEgXCJmaWxlXCIgb2YgYSBzcGVjaWZpYyBcImZpbGUgZm9ybWF0XCJcclxuICogdGhhdCBjYW4gYmUgaW50ZXJwcmV0ZWQgYW5kIGRpc3BsYXllZCBieSB0aGUgcGx1Z2luLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENGRUZpbGUge1xyXG5cdC8qKlxyXG5cdCAqIEEgdW5pcXVlICh3aXRoaW4gdGhlIFwic291cmNlXCIgb2YgdGhlIGN1cnJlbnQgZXhwbG9yZXIpIG51bWVyaWNhbCBpZGVudGlmaWVyIGZvciB0aGUgZmlsZVxyXG5cdCAqL1xyXG5cdGlkOiBudW1iZXI7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRoZSB0eXBlIG9mIGZpbGVcclxuXHQgKi9cclxuXHRmaWxlVHlwZTogc3RyaW5nO1xyXG5cclxuXHQvKipcclxuXHQgKiBUaGUgbmFtZSBvZiB0aGUgZmlsZSB3aXRoaW4gdGhlIHNvdXJjZVxyXG5cdCAqL1xyXG5cdGZpbGVOYW1lOiBzdHJpbmc7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRoZSBJRCBvZiB0aGUgcGFyZW50IGZvbGRlclxyXG5cdCAqL1xyXG5cdHBhcmVudEZvbGRlcklEOiBudW1iZXI7XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEZJTEVfTkFNRV9JTlBVVF9JTkRFWCA9IDA7XHJcblx0cHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgUEFSRU5UX0ZPTERFUl9JRF9JTlBVVF9JTkRFWCA9IDE7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNIT1VMRCBOT1QgQkUgQ0FMTEVEIE9VVFNJREUgT0YgQ0ZFRmlsZUhhbmRsZXIuXHJcblx0ICogXHJcblx0ICogVXNlIENGRUZpbGVIYW5kbGVyLkNyZWF0ZU5ldygpIGluc3RlYWQuXHJcblx0ICogXHJcblx0ICogQ0hJTEQgQ0xBU1NFUyBTSE9VTEQgTk9UIFdSSVRFIFRPIEEgRklMRS4gVEhJUyBJUyBET05FIElOU0lERSBPRiBDRkVGaWxlSGFuZGxlclxyXG5cdCAqIFxyXG5cdCAqIENGRUZpbGUgbGF5ZXI6XHJcblx0ICogXHJcblx0ICogc2V0cyB0aGUgc291cmNlLCBpZCwgZmlsZSB0eXBlLCBmaWxlIG5hbWUsIGFuZCBwYXJlbnQgZm9sZGVyIGlkIG9mIHRoZSBmaWxlIG9iamVjdC5cclxuXHQgKi9cclxuXHRzdGF0aWMgYXN5bmMgQ3JlYXRlTmV3RmlsZUZvckxheWVyKHNudjogU291cmNlQW5kVmF1bHQsIGZpbGVUeXBlOiBzdHJpbmcsIHBhcmVudEZvbGRlcklEOiBudW1iZXIpOiBQcm9taXNlPENGRUZpbGU+IHtcclxuXHRcdGNvbnN0IHNvdXJjZUZvbGRlciA9IHNudi5zb3VyY2VGb2xkZXI7XHJcblxyXG5cdFx0Ly8gU2V0IHRoZSB2YWx1ZXMgb2YgdGhlIHVuZmluaXNoZWQgZmlsZVxyXG5cdFx0Y29uc3QgdW5maW5pc2hlZEZpbGUgPSBuZXcgQ0ZFRmlsZSgpO1xyXG5cdFx0dW5maW5pc2hlZEZpbGUuaWQgPSBzb3VyY2VGb2xkZXIuZmlsZUNvdW50O1xyXG5cdFx0dW5maW5pc2hlZEZpbGUuZmlsZVR5cGUgPSBmaWxlVHlwZTtcclxuXHRcdHVuZmluaXNoZWRGaWxlLmZpbGVOYW1lID0gJyc7XHJcblx0XHR1bmZpbmlzaGVkRmlsZS5wYXJlbnRGb2xkZXJJRCA9IHBhcmVudEZvbGRlcklEO1xyXG5cdFx0XHJcblx0XHQvLyBVcGRhdGUgdGhlIGZpbGUgY291bnRcclxuXHRcdHNvdXJjZUZvbGRlci5maWxlQ291bnQrKztcclxuXHRcdGF3YWl0IFNvdXJjZUZvbGRlci5TYXZlKHNudik7XHJcblxyXG5cdFx0Ly8gRmluZCB0aGUgcGFyZW50IGZvbGRlciBhbmQgYWRkIHRoaXMgZmlsZSB0byBpdFxyXG5cdFx0aWYgKHVuZmluaXNoZWRGaWxlLmlkICE9PSB1bmZpbmlzaGVkRmlsZS5wYXJlbnRGb2xkZXJJRCkge1xyXG5cdFx0XHRjb25zdCBwYXJlbnRGb2xkZXIgPSA8Rm9sZGVyPiAoYXdhaXQgQ0ZFRmlsZUhhbmRsZXIuTG9hZEZpbGUoc252LCB1bmZpbmlzaGVkRmlsZS5wYXJlbnRGb2xkZXJJRCkpO1xyXG5cdFx0XHRwYXJlbnRGb2xkZXIuY29udGFpbmVkRmlsZUlEcy5wdXNoKHVuZmluaXNoZWRGaWxlLmlkKTtcclxuXHRcdFx0YXdhaXQgcGFyZW50Rm9sZGVyLlNhdmUoc252KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBSZXR1cm4gdGhlIHVuZmluaXNoZWQgZmlsZSBzbyB0aGUgbmV4dCBsYXllciBjYW4gYWRkIHRvIGl0XHJcblx0XHRyZXR1cm4gdW5maW5pc2hlZEZpbGU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTSE9VTEQgTk9UIEJFIENBTExFRCBPVVRTSURFIE9GIENGRUZpbGVIYW5kbGVyLlxyXG5cdCAqIFxyXG5cdCAqIFVzZSBDRkVGaWxlSGFuZGxlci5EaXNwbGF5VGh1bWJuYWlsKCkgaW5zdGVhZC5cclxuXHQgKiBcclxuXHQgKiBDRkVGaWxlIGxheWVyOlxyXG5cdCAqIFxyXG5cdCAqIHNldHMgdGhlIHRodW1ibmFpbCBjb250YWluZXIncyBjc3MgY2xhc3MgdG8gJ2NmZS10aHVtYm5haWwnXHJcblx0ICogYW5kIGZ1bGx5IGRpc3BsYXlzIHRoZSBmaWxlIGlmIHRoZSB0aHVtYm5haWwgaXMgY2xpY2tlZC5cclxuXHQgKi9cclxuXHRhc3luYyBEaXNwbGF5VGh1bWJuYWlsKHNvdXJjZUFuZFZhdWx0OiBTb3VyY2VBbmRWYXVsdCwgdGh1bWJuYWlsRGl2OiBIVE1MRGl2RWxlbWVudCwgZGlzcGxheURpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuXHRcdHRodW1ibmFpbERpdi5jbGFzc05hbWUgPSAnY2ZlLXRodW1ibmFpbCB2Ym94JztcclxuXHRcdHRodW1ibmFpbERpdi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRhd2FpdCB0aGlzLkRpc3BsYXkoc291cmNlQW5kVmF1bHQsIGRpc3BsYXlEaXYpO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgaWRUZXh0ID0gdGh1bWJuYWlsRGl2LmNyZWF0ZURpdignaGJveCcpO1xyXG5cdFx0aWRUZXh0LnRleHRDb250ZW50ID0gJ0lEOiAnICsgdGhpcy5pZDtcclxuXHRcdGlkVGV4dC5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdjZW50ZXInO1xyXG5cdFx0Y29uc3QgZmlsZVRleHQgPSB0aHVtYm5haWxEaXYuY3JlYXRlRGl2KCdoYm94Jyk7XHJcblx0XHRmaWxlVGV4dC50ZXh0Q29udGVudCA9ICdGaWxlIFR5cGU6ICcgKyB0aGlzLmZpbGVUeXBlO1xyXG5cdFx0ZmlsZVRleHQuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnY2VudGVyJztcclxuXHRcdGNvbnN0IG5hbWVUZXh0ID0gdGh1bWJuYWlsRGl2LmNyZWF0ZURpdignaGJveCcpO1xyXG5cdFx0bmFtZVRleHQudGV4dENvbnRlbnQgPSAnRmlsZSBOYW1lOiAnICsgdGhpcy5maWxlTmFtZTtcclxuXHRcdG5hbWVUZXh0LnN0eWxlLmp1c3RpZnlDb250ZW50ID0gJ2NlbnRlcic7XHJcblx0fVxyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIFNIT1VMRCBOT1QgQkUgQ0FMTEVEIE9VVFNJREUgT0YgQ0ZFRmlsZUhhbmRsZXIuXHJcblx0ICogXHJcblx0ICogVXNlIENGRUZpbGVIYW5kbGVyLkRpc3BsYXkoKSBpbnN0ZWFkLlxyXG5cdCAqIFxyXG5cdCAqIENGRUZpbGUgbGF5ZXI6XHJcblx0ICogXHJcblx0ICogZW1wdGllcyB0aGUgZGlzcGxheSBjb250YWluZXIgcHJvdmlkZWQuXHJcblx0ICovXHJcblx0YXN5bmMgRGlzcGxheShzbnY6IFNvdXJjZUFuZFZhdWx0LCBjb250YWluZXI6IEhUTUxEaXZFbGVtZW50KSB7XHJcblx0XHRjb250YWluZXIuZW1wdHkoKTtcclxuXHRcdGNvbnN0IGhlYWRlckNvbnRhaW5lciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ2hib3gnKTtcclxuXHRcdGNvbnN0IGJhY2tCdXR0b24gPSBoZWFkZXJDb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0JhY2sgdG8gcGFyZW50IGZvbGRlcicgfSApO1xyXG5cdFx0aGVhZGVyQ29udGFpbmVyLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnRmlsZSBJRDogJyArIHRoaXMuaWQgfSApXHJcblx0XHRoZWFkZXJDb250YWluZXIuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdGaWxlIE5hbWU6ICcgfSApXHJcblx0XHRjb25zdCBuYW1lSW5wdXQgPSBoZWFkZXJDb250YWluZXIuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLmZpbGVOYW1lIH0gKTtcclxuXHRcdGJhY2tCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0Y29uc3QgcGFyZW50Rm9sZGVyID0gYXdhaXQgQ0ZFRmlsZUhhbmRsZXIuTG9hZEZpbGUoc252LCB0aGlzLnBhcmVudEZvbGRlcklEKTtcclxuXHRcdFx0aWYgKHBhcmVudEZvbGRlciAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdGF3YWl0IHBhcmVudEZvbGRlci5EaXNwbGF5KHNudiwgY29udGFpbmVyKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0bmFtZUlucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmZpbGVOYW1lID0gbmFtZUlucHV0LnZhbHVlO1xyXG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNIT1VMRCBOT1QgQkUgQ0FMTEVEIE9VVFNJREUgT0YgQ0ZFRmlsZUhhbmRsZXIuXHJcblx0ICogXHJcblx0ICogKGl0IGlzIHVubGlrZWx5IHRoaXMgbWV0aG9kIHdpbGwgZXZlciBiZSBvdmVycmlkZW4gYnkgY2hpbGQgY2xhc3NlcywgYnV0IG1ha2luZyB0aGlzICdpbmFjY2Vzc2libGUnIGlzIGZvciBjb25zaXN0ZW5jeSlcclxuXHQgKiBcclxuXHQgKiBVc2UgQ0ZFRmlsZUhhbmRsZXIuU2F2ZUZpbGUoKSBpbnN0ZWFkLlxyXG5cdCAqIFxyXG5cdCAqIEZvcm1hdHRlZCBGaWxlIGxheWVyOlxyXG5cdCAqIFxyXG5cdCAqIERlbGV0ZXMgdGhpcyBmaWxlIElEIGZyb20gdGhlIG9yaWdpbmFsIHBhcmVudCBmb2xkZXIsIGFkZHMgdGhpcyBmaWxlIHRvIHRoZSBuZXcgcGFyZW50IGZvbGRlciwgYW5kIGNoYW5nZXMgdGhlIHBhcmVudCBmb2xkZXIgSURcclxuXHQgKi9cclxuXHRhc3luYyBNb3ZlRmlsZShzb3VyY2VBbmRWYXVsdDogU291cmNlQW5kVmF1bHQsIG5ld1BhcmVudEZvbGRlcklEOiBudW1iZXIpIHtcclxuXHRcdC8vIERlbGV0ZSB0aGlzIGZpbGUgaWQgZnJvbSB0aGUgb3JpZ2luYWwgcGFyZW50IGZvbGRlclxyXG5cdFx0Y29uc3Qgb2xkUGFyZW50Rm9sZGVyID0gPEZvbGRlcj4gKGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNvdXJjZUFuZFZhdWx0LCB0aGlzLnBhcmVudEZvbGRlcklEKSk7XHJcblx0XHRjb25zdCBpbmRleE9mRmlsZSA9IG9sZFBhcmVudEZvbGRlci5jb250YWluZWRGaWxlSURzLmluZGV4T2YodGhpcy5pZCk7XHJcblx0XHRvbGRQYXJlbnRGb2xkZXIuY29udGFpbmVkRmlsZUlEcy5zcGxpY2UoaW5kZXhPZkZpbGUsIDEpO1xyXG5cdFx0b2xkUGFyZW50Rm9sZGVyLlNhdmUoc291cmNlQW5kVmF1bHQpOyAvLyB0aGlzIGNhbiBiZSBkb25lIGFzeW5jaHJvbm91c2x5IHdpdGhvdXQgYWZmZWN0aW5nIHRoZSBvdGhlcnNcclxuXHJcblx0XHQvLyBBZGQgdGhpcyBmaWxlIHRvIHRoZSBuZXcgcGFyZW50IGZvbGRlclxyXG5cdFx0Y29uc3QgbmV3UGFyZW50Rm9sZGVyID0gPEZvbGRlcj4gKGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNvdXJjZUFuZFZhdWx0LCBuZXdQYXJlbnRGb2xkZXJJRCkpO1xyXG5cdFx0bmV3UGFyZW50Rm9sZGVyLmNvbnRhaW5lZEZpbGVJRHMucHVzaCh0aGlzLmlkKTtcclxuXHRcdG5ld1BhcmVudEZvbGRlci5TYXZlKHNvdXJjZUFuZFZhdWx0KTsgLy8gdGhpcyBjYW4gYmUgZG9uZSBhc3luY2hyb25vdXNseSB3aXRob3V0IGFmZmVjdGluZyB0aGUgb3RoZXJzXHJcblxyXG5cdFx0dGhpcy5wYXJlbnRGb2xkZXJJRCA9IG5ld1BhcmVudEZvbGRlcklEO1xyXG5cdFx0dGhpcy5TYXZlKHNvdXJjZUFuZFZhdWx0KTsgLy8gdGhpcyBjYW4gYmUgZG9uZSBhc3luY2hyb25vdXNseSB3aXRob3V0IGFmZmVjdGluZyB0aGUgb3RoZXJzXHJcblx0fVxyXG5cclxuXHRhc3luYyBTYXZlKHNvdXJjZUFuZFZhdWx0OiBTb3VyY2VBbmRWYXVsdCkge1xyXG5cdFx0Y29uc3Qgc291cmNlRm9sZGVyID0gc291cmNlQW5kVmF1bHQuc291cmNlRm9sZGVyO1xyXG5cdFx0Y29uc3QgdmF1bHQgPSBzb3VyY2VBbmRWYXVsdC52YXVsdDtcclxuXHRcdGNvbnN0IGZpbGVQYXRoID0gc291cmNlRm9sZGVyLnZhdWx0UGF0aCArICcvJyArIHRoaXMuaWQgKyAnLmpzb24nO1xyXG5cdFx0Y29uc3QganNvbkRhdGEgPSBKU09OLnN0cmluZ2lmeSh0aGlzKTtcclxuXHRcdGNvbnN0IHRGaWxlID0gdmF1bHQuZ2V0RmlsZUJ5UGF0aChmaWxlUGF0aCk7XHJcblx0XHRpZiAodEZpbGUgPT09IG51bGwpIHtcclxuXHRcdFx0Y29uc3Qgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVQYXRoKGZpbGVQYXRoKTtcclxuXHRcdFx0YXdhaXQgdmF1bHQuYWRhcHRlci53cml0ZShub3JtYWxpemVkUGF0aCwganNvbkRhdGEpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHRhd2FpdCB2YXVsdC5tb2RpZnkodEZpbGUsIGpzb25EYXRhKTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IG5vcm1hbGl6ZVBhdGgsIFRGaWxlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IFNvdXJjZUFuZFZhdWx0IH0gZnJvbSBcIi4vc252XCI7XHJcbmltcG9ydCB7IFJlYWxGaWxlIH0gZnJvbSBcIi4vcmVhbC1maWxlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2luZ2xlTWVkaWFGaWxlIGV4dGVuZHMgUmVhbEZpbGUge1xyXG5cdFxyXG5cdHByaXZhdGUgZXh0ZW5zaW9uTmFtZTogc3RyaW5nO1xyXG5cdFxyXG5cdGdldCBtZWRpYVR5cGUoKTogc3RyaW5nIHtcclxuXHRcdHN3aXRjaCAodGhpcy5leHRlbnNpb25OYW1lKSB7XHJcblx0XHRcdGNhc2UgJ3BuZyc6XHJcblx0XHRcdGNhc2UgJ2pwZyc6XHJcblx0XHRcdGNhc2UgJ3dlYnAnOlxyXG5cdFx0XHRjYXNlICdoZWljJzpcclxuXHRcdFx0Y2FzZSAnZ2lmJzpcclxuXHRcdFx0XHRyZXR1cm4gJ0ltYWdlJztcclxuXHRcdFx0Y2FzZSAnbXA0JzpcclxuXHRcdFx0Y2FzZSAnTVA0JzpcclxuXHRcdFx0Y2FzZSAnbW92JzpcclxuXHRcdFx0Y2FzZSAnTU9WJzpcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRyZXR1cm4gJ1ZpZGVvJztcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdG92ZXJyaWRlIGFzeW5jIGdldFNyYyhzbnY6IFNvdXJjZUFuZFZhdWx0KTogUHJvbWlzZTxzdHJpbmc+IHtcclxuXHRcdGNvbnN0IG1lZGlhRmlsZSA9IGF3YWl0IHRoaXMuZ2V0VEZpbGUoc252KTtcclxuXHRcdGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgc252LnZhdWx0LnJlYWRCaW5hcnkobWVkaWFGaWxlKTtcclxuXHRcdGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbYXJyYXlCdWZmZXJdKTtcclxuXHRcdGNvbnN0IG1lZGlhVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuXHRcdHJldHVybiBtZWRpYVVybDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgZ2V0VEZpbGUoc252OiBTb3VyY2VBbmRWYXVsdCk6IFByb21pc2U8VEZpbGU+IHtcclxuXHRcdGNvbnN0IG1lZGlhUGF0aCA9IGF3YWl0IHRoaXMuZ2V0UGF0aChzbnYpO1xyXG5cdFx0bGV0IG1lZGlhRmlsZSA9IHNudi52YXVsdC5nZXRGaWxlQnlQYXRoKG1lZGlhUGF0aCk7XHJcblx0XHRpZiAobWVkaWFGaWxlID09PSBudWxsKSB7XHJcblx0XHRcdG1lZGlhRmlsZSA9IHNudi52YXVsdC5nZXRGaWxlQnlQYXRoKG1lZGlhUGF0aCArICcuJyArIHRoaXMuZXh0ZW5zaW9uTmFtZSk7XHJcblx0XHRcdGlmIChtZWRpYUZpbGUgPT09IG51bGwpIHtcclxuXHRcdFx0XHR0aHJvdyBFcnJvcignRmlsZSBub3QgZm91bmQgYXQgcGF0aDogJyArIG1lZGlhUGF0aCArICcgb3IgJyArIG1lZGlhUGF0aCArICcuJyArIHRoaXMuZXh0ZW5zaW9uTmFtZSk7XHJcblx0XHRcdH1cclxuXHRcdFx0c252LnZhdWx0LnJlbmFtZShtZWRpYUZpbGUsIG1lZGlhUGF0aCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbWVkaWFGaWxlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBnZXRQYXRoKHNudjogU291cmNlQW5kVmF1bHQpOiBQcm9taXNlPHN0cmluZz4ge1xyXG5cdFx0Y29uc3Qgc291cmNlRm9sZGVyID0gc252LnNvdXJjZUZvbGRlcjtcclxuXHRcdHJldHVybiBzb3VyY2VGb2xkZXIudmF1bHRQYXRoICsgJy8nICsgdGhpcy5pZCArICcgQWN0dWFsIEZpbGUnO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIG92ZXJyaWRlIGFzeW5jIENyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnY6IFNvdXJjZUFuZFZhdWx0LCBmaWxlVHlwZTogc3RyaW5nLCBwYXJlbnRGb2xkZXJJRDogbnVtYmVyKTogUHJvbWlzZTxTaW5nbGVNZWRpYUZpbGU+IHtcclxuXHRcdGNvbnN0IG5ld01lZGlhRmlsZSA9IDxTaW5nbGVNZWRpYUZpbGU+IChhd2FpdCBzdXBlci5DcmVhdGVOZXdGaWxlRm9yTGF5ZXIoc252LCBmaWxlVHlwZSwgcGFyZW50Rm9sZGVySUQpKTtcclxuXHRcdG5ld01lZGlhRmlsZS5leHRlbnNpb25OYW1lID0gJyc7XHJcblx0XHRyZXR1cm4gbmV3TWVkaWFGaWxlO1xyXG5cdH1cclxuXHJcblx0b3ZlcnJpZGUgYXN5bmMgRGlzcGxheShzbnY6IFNvdXJjZUFuZFZhdWx0LCBjb250YWluZXI6IEhUTUxEaXZFbGVtZW50KSB7XHJcblx0XHRhd2FpdCBzdXBlci5EaXNwbGF5KHNudiwgY29udGFpbmVyKTtcclxuXHJcblx0XHRjb25zdCBpbWFnZURpc3BsYXlDb250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KCd2Ym94Jyk7XHJcblx0XHRpbWFnZURpc3BsYXlDb250YWluZXIuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdDaGFuZ2UgZmlsZScgfSApO1xyXG5cdFx0Y29uc3QgbmV3RmlsZUlucHV0ID0gaW1hZ2VEaXNwbGF5Q29udGFpbmVyLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ2ZpbGUnIH0gKTtcclxuXHJcblx0XHRhd2FpdCB0aGlzLkRpc3BsYXlNZWRpYU9ubHkoaW1hZ2VEaXNwbGF5Q29udGFpbmVyLCBzbnYpO1xyXG5cdFx0XHJcblx0XHRuZXdGaWxlSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Y29uc3Qgb2xkRmlsZSA9IGF3YWl0IHRoaXMuZ2V0VEZpbGUoc252KTtcclxuXHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0YXdhaXQgc252LnZhdWx0LmRlbGV0ZShvbGRGaWxlKTtcclxuXHRcdFx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5TYXZlTmV3RmlsZShzbnYsIG5ld0ZpbGVJbnB1dCk7XHJcblx0XHRcdFx0XHR0aGlzLkRpc3BsYXkoc252LCBjb250YWluZXIpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBjYXRjaCB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBTYXZlTmV3RmlsZShzbnY6IFNvdXJjZUFuZFZhdWx0LCBmaWxlSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQpIHtcclxuXHRcdGNvbnN0IGZpbGVBcnJheSA9IGZpbGVJbnB1dC5maWxlcztcclxuXHRcdGlmIChmaWxlQXJyYXkgPT09IG51bGwpIHtcclxuXHRcdFx0dGhyb3cgRXJyb3IoXCJubyBmaWxlIHdhcyBzZWxlY3RlZFwiKTtcclxuXHRcdH1cclxuXHRcdGNvbnN0IG1lZGlhRmlsZSA9IGZpbGVBcnJheVswXTtcclxuXHRcdGF3YWl0IHRoaXMuU2V0RmlsZVRvKHNudiwgbWVkaWFGaWxlKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIFNldEZpbGVUbyhzbnY6IFNvdXJjZUFuZFZhdWx0LCBtZWRpYUZpbGU6IEZpbGUpIHtcclxuXHRcdGNvbnN0IHBhcnRzT2ZQYXRoID0gbWVkaWFGaWxlLm5hbWUuc3BsaXQoJy4nKTtcclxuXHRcdGNvbnN0IGV4dGVuc2lvbiA9IHBhcnRzT2ZQYXRoW3BhcnRzT2ZQYXRoLmxlbmd0aCAtIDFdO1xyXG5cdFx0dGhpcy5maWxlTmFtZSA9IHBhcnRzT2ZQYXRoWzBdO1xyXG5cdFx0dGhpcy5leHRlbnNpb25OYW1lID0gZXh0ZW5zaW9uO1xyXG5cdFx0Y29uc3QgcGF0aCA9IHNudi5zb3VyY2VGb2xkZXIudmF1bHRQYXRoICsgJy8nICsgdGhpcy5pZCArICcgQWN0dWFsIEZpbGUnO1xyXG5cdFx0Y29uc3Qgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVQYXRoKHBhdGgpO1xyXG5cdFx0YXdhaXQgc252LnZhdWx0LmFkYXB0ZXIud3JpdGVCaW5hcnkobm9ybWFsaXplZFBhdGgsIGF3YWl0IG1lZGlhRmlsZS5hcnJheUJ1ZmZlcigpKTtcclxuXHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgRGlzcGxheU1lZGlhT25seShtZWRpYURpdjogSFRNTERpdkVsZW1lbnQsIHNudjogU291cmNlQW5kVmF1bHQpIHtcclxuXHRcdGF3YWl0IHN1cGVyLkRpc3BsYXlNZWRpYU9ubHkobWVkaWFEaXYsIHNudik7XHJcblx0XHRpZiAodGhpcy5tZWRpYVR5cGUgPT09ICdJbWFnZScpIHtcclxuXHRcdFx0Y29uc3QgaW1hZ2VFbGVtZW50ID0gbWVkaWFEaXYuY3JlYXRlRWwoJ2ltZycpO1xyXG5cdFx0XHRpbWFnZUVsZW1lbnQuc3JjID0gYXdhaXQgdGhpcy5nZXRTcmMoc252KTtcclxuXHRcdFx0aW1hZ2VFbGVtZW50LnN0eWxlLm9iamVjdEZpdCA9ICdjb250YWluJztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNvbnN0IHZpZGVvRWxlbWVudCA9IG1lZGlhRGl2LmNyZWF0ZUVsKCd2aWRlbycpO1xyXG5cdFx0XHR2aWRlb0VsZW1lbnQuc3JjID0gYXdhaXQgdGhpcy5nZXRTcmMoc252KTtcclxuXHRcdFx0dmlkZW9FbGVtZW50LmNvbnRyb2xzID0gdHJ1ZTtcclxuXHRcdFx0dmlkZW9FbGVtZW50Lmxvb3AgPSB0cnVlO1xyXG5cdFx0XHR2aWRlb0VsZW1lbnQuYXV0b3BsYXkgPSB0cnVlO1xyXG5cdFx0XHR2aWRlb0VsZW1lbnQuc3R5bGUub2JqZWN0Rml0ID0gJ2NvbnRhaW4nO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQ0ZFRmlsZSB9IGZyb20gXCIuL2NmZS1maWxlXCI7XHJcbmltcG9ydCB7IFNvdXJjZUFuZFZhdWx0IH0gZnJvbSBcIi4vc252XCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUmVhbEZpbGUgZXh0ZW5kcyBDRkVGaWxlIHtcclxuXHRhYnN0cmFjdCBnZXRTcmMoc291cmNlQW5kVmF1bHQ6IFNvdXJjZUFuZFZhdWx0KTogUHJvbWlzZTxzdHJpbmc+O1xyXG5cdGFzeW5jIERpc3BsYXlNZWRpYU9ubHkobWVkaWFEaXY6IEhUTUxEaXZFbGVtZW50LCBzbnY6IFNvdXJjZUFuZFZhdWx0KSB7XHJcblx0XHRtZWRpYURpdi5lbXB0eSgpO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQ0ZFRmlsZSB9IGZyb20gXCIuL2NmZS1maWxlXCI7XG5pbXBvcnQgeyBDRkVGaWxlSGFuZGxlciB9IGZyb20gXCIuL2NmZS1maWxlLWhhbmRsZXJcIjtcbmltcG9ydCB7IFNpbmdsZU1lZGlhRmlsZSB9IGZyb20gXCIuL3NpbmdsZS1tZWRpYS1maWxlXCI7XG5pbXBvcnQgeyBTb3VyY2VBbmRWYXVsdCB9IGZyb20gXCIuL3NudlwiO1xuXG4vKipcbiAqIEEgY2hpbGQgY2xhc3Mgb2YgdGhlIENGRUZpbGUgY2xhc3MuIFJlcHJlc2VudHMgYSBmb2xkZXIgd2l0aGluIHRoZSBTb3VyY2VGb2xkZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBGb2xkZXIgZXh0ZW5kcyBDRkVGaWxlIHtcblx0LyoqXG5cdCAqIFRoZSBJRHMgb2YgZmlsZXMgY29udGFpbmVkIGluIHRoaXMgZm9sZGVyXG5cdCAqL1xuXHRjb250YWluZWRGaWxlSURzOiBudW1iZXJbXTtcblxuXHQvKipcblx0ICogQG92ZXJyaWRlIEZvbGRlciBsYXllcjpcblx0ICogXG5cdCAqIGluaXRpYWxpemVzIHRoZSBjb250YWluZWQgZmlsZSBpZHMgYXJyYXkgZm9yIHRoZSBmb2xkZXIgb2JqZWN0XG5cdCAqL1xuXHRzdGF0aWMgb3ZlcnJpZGUgYXN5bmMgQ3JlYXRlTmV3RmlsZUZvckxheWVyKHNudjogU291cmNlQW5kVmF1bHQsIGZpbGVUeXBlOiBzdHJpbmcsIHBhcmVudEZvbGRlcklEOiBudW1iZXIpOiBQcm9taXNlPEZvbGRlcj4ge1xuXHRcdGNvbnN0IHVuZmluaXNoZWRGb2xkZXIgPSA8Rm9sZGVyPiAoYXdhaXQgc3VwZXIuQ3JlYXRlTmV3RmlsZUZvckxheWVyKHNudiwgZmlsZVR5cGUsIHBhcmVudEZvbGRlcklEKSk7XG5cdFx0dW5maW5pc2hlZEZvbGRlci5jb250YWluZWRGaWxlSURzID0gW107XG5cdFx0cmV0dXJuIHVuZmluaXNoZWRGb2xkZXI7XG5cdH1cblxuXHRvdmVycmlkZSBhc3luYyBEaXNwbGF5KHNudjogU291cmNlQW5kVmF1bHQsIG1haW5EaXY6IEhUTUxEaXZFbGVtZW50KSB7XG5cdFx0YXdhaXQgc3VwZXIuRGlzcGxheShzbnYsIG1haW5EaXYpO1xuXHRcdGNvbnN0IGNyZWF0ZUJ1dHRvbnNEaXYgPSBtYWluRGl2LmNyZWF0ZURpdignaGJveCcpO1xuXHRcdGNvbnN0IG5ld0ZpbGVCdXR0b24gPSBjcmVhdGVCdXR0b25zRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdDcmVhdGUgTmV3IEZpbGUnIH0gKTtcblx0XHRuZXdGaWxlQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHR0aGlzLkxvYWRDcmVhdGVGaWxlVUkoc252LCBtYWluRGl2KTtcblx0XHR9XG5cdFx0Y29uc3QgbWVkaWFGaWxlc0J1dHRvbiA9IGNyZWF0ZUJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1VwbG9hZCBNdWx0aXBsZSBJbWFnZXMgLyBWaWRlb3MnIH0gKTtcblx0XHRtZWRpYUZpbGVzQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHR0aGlzLkxvYWRGaWxlU2VsZWN0aW9uVUkoc252LCBtYWluRGl2KTtcblx0XHR9XG5cdFx0Y29uc3QgZm9sZGVyRGlzcGxheUNvbnRhaW5lciA9IG1haW5EaXYuY3JlYXRlRGl2KCdjZmUtZ3JpZCcpO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb250YWluZWRGaWxlSURzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBjb250YWluZWRGaWxlID0gYXdhaXQgQ0ZFRmlsZUhhbmRsZXIuTG9hZEZpbGUoc252LCB0aGlzLmNvbnRhaW5lZEZpbGVJRHNbaV0pO1xuXHRcdFx0aWYgKGNvbnRhaW5lZEZpbGUgIT09IG51bGwpIHtcblx0XHRcdFx0YXdhaXQgY29udGFpbmVkRmlsZS5EaXNwbGF5VGh1bWJuYWlsKHNudiwgZm9sZGVyRGlzcGxheUNvbnRhaW5lci5jcmVhdGVEaXYoKSwgbWFpbkRpdik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRwcml2YXRlIExvYWRDcmVhdGVGaWxlVUkoc252OiBTb3VyY2VBbmRWYXVsdCwgbWFpbkRpdjogSFRNTERpdkVsZW1lbnQpIHtcblx0XHRjb25zdCBwb3BVcENvbnRhaW5lciA9IG1haW5EaXYuY3JlYXRlRGl2KCd2Ym94IGNmZS1wb3B1cCcpO1xuXHRcdGNvbnN0IHdyYXBwZXJEaXYgPSBwb3BVcENvbnRhaW5lci5jcmVhdGVEaXYoKTtcblx0XHR3cmFwcGVyRGl2LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcblx0XHRjb25zdCBleGl0QnV0dG9uID0gd3JhcHBlckRpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnWCcsIGNsczogJ2NmZS1yZW1vdmUtYnV0dG9uJyB9ICk7XG5cdFx0ZXhpdEJ1dHRvbi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG5cdFx0ZXhpdEJ1dHRvbi5zdHlsZS50b3AgPSAnMCUnO1xuXHRcdGV4aXRCdXR0b24uc3R5bGUucmlnaHQgPSAnMCUnO1xuXHRcdGV4aXRCdXR0b24ub25jbGljayA9ICgpID0+IHtcblx0XHRcdHBvcFVwQ29udGFpbmVyLnJlbW92ZSgpO1xuXHRcdH1cblx0XHRwb3BVcENvbnRhaW5lci5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0Nob29zZSBhIEZpbGUgVHlwZSB0byBjcmVhdGU6ICcgfSApO1xuXHRcdGNvbnN0IGZpbGVUeXBlRHJvcGRvd24gPSBwb3BVcENvbnRhaW5lci5jcmVhdGVFbCgnc2VsZWN0Jyk7XG5cdFx0cG9wVXBDb250YWluZXIuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdQYXJlbnQgRm9sZGVyIElEOiAnIH0gKTtcblx0XHRjb25zdCBwYXJlbnRGb2xkZXJJRElucHV0ID0gcG9wVXBDb250YWluZXIuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiAnJyArIHRoaXMuaWQgfSApO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgQ0ZFRmlsZUhhbmRsZXIuS25vd25GaWxlVHlwZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IG9wdGlvbiA9IGZpbGVUeXBlRHJvcGRvd24uY3JlYXRlRWwoJ29wdGlvbicpO1xuXHRcdFx0b3B0aW9uLnZhbHVlID0gQ0ZFRmlsZUhhbmRsZXIuS25vd25GaWxlVHlwZXNbaV07XG5cdFx0XHRvcHRpb24udGV4dCA9IENGRUZpbGVIYW5kbGVyLktub3duRmlsZVR5cGVzW2ldO1xuXHRcdFx0ZmlsZVR5cGVEcm9wZG93bi5vcHRpb25zLmFkZChvcHRpb24pO1xuXHRcdH1cblx0XHRjb25zdCBzdWJtaXRCdXR0b24gPSBwb3BVcENvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQ3JlYXRlJyB9ICk7XG5cdFx0c3VibWl0QnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRhd2FpdCBDRkVGaWxlSGFuZGxlci5DcmVhdGVOZXcoc252LCBmaWxlVHlwZURyb3Bkb3duLnZhbHVlLCBwYXJzZUludChwYXJlbnRGb2xkZXJJRElucHV0LnZhbHVlKSk7XG5cdFx0XHRleGl0QnV0dG9uLmNsaWNrKCk7XG5cdFx0XHRjb25zdCByZXNldHRlZEZvbGRlciA9IGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNudiwgdGhpcy5pZCk7XG5cdFx0XHRhd2FpdCByZXNldHRlZEZvbGRlci5EaXNwbGF5KHNudiwgbWFpbkRpdik7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBMb2FkRmlsZVNlbGVjdGlvblVJKHNudjogU291cmNlQW5kVmF1bHQsIG1haW5EaXY6IEhUTUxEaXZFbGVtZW50KSB7XG5cdFx0Y29uc3QgcG9wVXBDb250YWluZXIgPSBtYWluRGl2LmNyZWF0ZURpdigndmJveCBjZmUtcG9wdXAnKTtcblx0XHRwb3BVcENvbnRhaW5lci5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0Nob29zZSB5b3VyIGZpbGVzJyB9ICk7XG5cdFx0Y29uc3QgZmlsZUlucHV0ID0gcG9wVXBDb250YWluZXIuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnZmlsZScgfSApO1xuXHRcdGZpbGVJbnB1dC5tdWx0aXBsZSA9IHRydWU7XG5cdFx0cG9wVXBDb250YWluZXIuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdQYXJlbnQgRm9sZGVyIElEOiAnIH0gKTtcblx0XHRjb25zdCBwYXJlbnRGb2xkZXJJRElucHV0ID0gcG9wVXBDb250YWluZXIuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiAnJyArIHRoaXMuaWQgfSApO1xuXHRcdGNvbnN0IGV4aXRCdXR0b24gPSBwb3BVcENvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnWCcsIGNsczogJ2NmZS1leGl0LWJ1dHRvbicgfSApO1xuXHRcdGV4aXRCdXR0b24ub25jbGljayA9ICgpID0+IHtcblx0XHRcdHBvcFVwQ29udGFpbmVyLnJlbW92ZSgpO1xuXHRcdH1cblx0XHRjb25zdCBzdWJtaXRCdXR0b24gPSBwb3BVcENvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQ3JlYXRlJyB9ICk7XG5cdFx0c3VibWl0QnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRjb25zdCBmaWxlQXJyYXkgPSBmaWxlSW5wdXQuZmlsZXM7XG5cdFx0XHRjb25zdCBwYXJlbnRGb2xkZXJJRCA9IHBhcnNlSW50KHBhcmVudEZvbGRlcklESW5wdXQudmFsdWUpO1xuXHRcdFx0aWYgKGZpbGVBcnJheSAhPT0gbnVsbCkge1xuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGZpbGVBcnJheS5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdGNvbnN0IGNmZUZpbGUgPSBhd2FpdCBDRkVGaWxlSGFuZGxlci5DcmVhdGVOZXcoc252LCAnU2luZ2xlIE1lZGlhIEZpbGUnLCBwYXJlbnRGb2xkZXJJRCk7XG5cdFx0XHRcdFx0Y29uc3QgbWVkaWFGaWxlID0gT2JqZWN0LmFzc2lnbihuZXcgU2luZ2xlTWVkaWFGaWxlKCksIGNmZUZpbGUpO1xuXHRcdFx0XHRcdGF3YWl0IG1lZGlhRmlsZS5TZXRGaWxlVG8oc252LCBmaWxlQXJyYXlbaV0pO1xuXHRcdFx0XHRcdGF3YWl0IG1lZGlhRmlsZS5TYXZlKHNudik7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZXhpdEJ1dHRvbi5jbGljaygpO1xuXHRcdFx0XHRjb25zdCByZXNldHRlZEZvbGRlciA9IGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNudiwgdGhpcy5pZCk7XG5cdFx0XHRcdGF3YWl0IHJlc2V0dGVkRm9sZGVyLkRpc3BsYXkoc252LCBtYWluRGl2KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBDRkVGaWxlIH0gZnJvbSBcIi4vY2ZlLWZpbGVcIjtcclxuaW1wb3J0IHsgQ0ZFRmlsZUhhbmRsZXIgfSBmcm9tIFwiLi9jZmUtZmlsZS1oYW5kbGVyXCI7XHJcbmltcG9ydCB7IFJlYWxGaWxlIH0gZnJvbSBcIi4vcmVhbC1maWxlXCI7XHJcbmltcG9ydCB7IFNvdXJjZUFuZFZhdWx0IH0gZnJvbSBcIi4vc252XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGxheWxpc3QgZXh0ZW5kcyBDRkVGaWxlIHtcclxuXHRwcml2YXRlIGN1cnJlbnRWaWRlb0luZGV4OiBudW1iZXI7XHJcblx0dmlkZW9JRHM6IG51bWJlcltdO1xyXG5cclxuXHRwcml2YXRlIHZpZGVvT3JkZXI6IHN0cmluZztcclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgZ2V0TmV4dFZpZGVvSURJbk9yZGVyKHBsYXlsaXN0OiBQbGF5bGlzdCkge1xyXG5cdFx0bGV0IG5leHRWaWRlb0luZGV4ID0gcGxheWxpc3QuY3VycmVudFZpZGVvSW5kZXggKyAxO1xyXG5cdFx0aWYgKG5leHRWaWRlb0luZGV4ID49IHBsYXlsaXN0LnZpZGVvSURzLmxlbmd0aCkge1xyXG5cdFx0XHRuZXh0VmlkZW9JbmRleCA9IDA7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbmV4dFZpZGVvSW5kZXg7XHJcblx0fVxyXG5cdHByaXZhdGUgc3RhdGljIGdldE5leHRWaWRlb0lEU2h1ZmZsZWQocGxheWxpc3Q6IFBsYXlsaXN0KSB7XHJcblx0XHRsZXQgbmV4dFZpZGVvSW5kZXggPSBNYXRoLnJhbmRvbSgpICogcGxheWxpc3QudmlkZW9JRHMubGVuZ3RoO1xyXG5cdFx0bmV4dFZpZGVvSW5kZXggPSBNYXRoLmZsb29yKG5leHRWaWRlb0luZGV4KTtcclxuXHRcdHJldHVybiBuZXh0VmlkZW9JbmRleDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIGFzeW5jIGxvYWROZXh0VmlkZW8oc291cmNlQW5kVmF1bHQ6IFNvdXJjZUFuZFZhdWx0LCBwbGF5bGlzdDogUGxheWxpc3QsIHZpZGVvRWxlbWVudDogSFRNTFZpZGVvRWxlbWVudCkge1xyXG5cdFx0aWYgKHBsYXlsaXN0LnZpZGVvT3JkZXIgPT09ICdzaHVmZmxlZCcpIHtcclxuXHRcdFx0cGxheWxpc3QuY3VycmVudFZpZGVvSW5kZXggPSBQbGF5bGlzdC5nZXROZXh0VmlkZW9JRFNodWZmbGVkKHBsYXlsaXN0KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHBsYXlsaXN0LmN1cnJlbnRWaWRlb0luZGV4ID0gUGxheWxpc3QuZ2V0TmV4dFZpZGVvSURJbk9yZGVyKHBsYXlsaXN0KTtcclxuXHRcdH1cclxuXHRcdGNvbnN0IG5leHRWaWRlbyA9IDxSZWFsRmlsZT4gKGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNvdXJjZUFuZFZhdWx0LCBwbGF5bGlzdC52aWRlb0lEc1twbGF5bGlzdC5jdXJyZW50VmlkZW9JbmRleF0pKTtcclxuXHJcblx0XHR2aWRlb0VsZW1lbnQuc3JjID0gYXdhaXQgbmV4dFZpZGVvLmdldFNyYyhzb3VyY2VBbmRWYXVsdCk7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgb3ZlcnJpZGUgYXN5bmMgQ3JlYXRlTmV3RmlsZUZvckxheWVyKHNudjogU291cmNlQW5kVmF1bHQsIGZpbGVUeXBlOiBzdHJpbmcsIHBhcmVudEZvbGRlcklEOiBudW1iZXIpOiBQcm9taXNlPFBsYXlsaXN0PiB7XHJcblx0XHRjb25zdCBuZXdQbGF5bGlzdEZpbGUgPSA8UGxheWxpc3Q+IChhd2FpdCBzdXBlci5DcmVhdGVOZXdGaWxlRm9yTGF5ZXIoc252LCBmaWxlVHlwZSwgcGFyZW50Rm9sZGVySUQpKTtcclxuXHRcdG5ld1BsYXlsaXN0RmlsZS52aWRlb0lEcyA9IFtdO1xyXG5cdFx0cmV0dXJuIG5ld1BsYXlsaXN0RmlsZTtcclxuXHR9XHJcblxyXG5cdG92ZXJyaWRlIGFzeW5jIERpc3BsYXkoc252OiBTb3VyY2VBbmRWYXVsdCwgY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCkge1xyXG5cdFx0YXdhaXQgc3VwZXIuRGlzcGxheShzbnYsIGNvbnRhaW5lcik7XHJcblx0XHR0aGlzLmN1cnJlbnRWaWRlb0luZGV4ID0gMDtcclxuXHRcdGNvbnN0IHZpZGVvRGlzcGxheUNvbnRhaW5lciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ2NmZS1kaXNwbGF5LXZpZGVvJyk7XHJcblx0XHRjb25zdCB2aWRlb0VsZW1lbnQgPSB2aWRlb0Rpc3BsYXlDb250YWluZXIuY3JlYXRlRWwoJ3ZpZGVvJyk7XHJcblx0XHRjb25zdCBidXR0b25zQ29udGFpbmVyID0gY29udGFpbmVyLmNyZWF0ZURpdignaGJveCcpO1xyXG5cdFx0Y29uc3QgaGlkZUJ1dHRvbiA9IGJ1dHRvbnNDb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ2hpZGUgdmlkZW8nIH0gKTtcclxuXHRcdGhpZGVCdXR0b24ub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0aWYgKGhpZGVCdXR0b24udGV4dENvbnRlbnQgPT09ICdoaWRlIHZpZGVvJykge1xyXG5cdFx0XHRcdGhpZGVCdXR0b24udGV4dENvbnRlbnQgPSAnc2hvdyB2aWRlbyc7XHJcblx0XHRcdFx0dmlkZW9FbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aGlkZUJ1dHRvbi50ZXh0Q29udGVudCA9ICdoaWRlIHZpZGVvJztcclxuXHRcdFx0XHR2aWRlb0VsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Y29uc3Qgc2h1ZmZsZUJ1dHRvbiA9IGJ1dHRvbnNDb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ3NodWZmbGUnIH0gKTtcclxuXHRcdHRoaXMudmlkZW9PcmRlciA9ICdpbiBvcmRlcic7XHJcblx0XHRzaHVmZmxlQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XHJcblx0XHRcdGlmIChzaHVmZmxlQnV0dG9uLnRleHRDb250ZW50ID09PSAnc2h1ZmZsZScpIHtcclxuXHRcdFx0XHRzaHVmZmxlQnV0dG9uLnRleHRDb250ZW50ID0gJ2dvIGluIG9yZGVyJztcclxuXHRcdFx0XHR0aGlzLnZpZGVvT3JkZXIgPSAnc2h1ZmZsZWQnO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHNodWZmbGVCdXR0b24udGV4dENvbnRlbnQgPSAnc2h1ZmZsZSc7XHJcblx0XHRcdFx0dGhpcy52aWRlb09yZGVyID0gJ2luIG9yZGVyJztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Y29uc3QgbmV4dEJ1dHRvbiA9IGJ1dHRvbnNDb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ25leHQgdmlkZW8nIH0gKTtcclxuXHRcdG5leHRCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0YXdhaXQgUGxheWxpc3QubG9hZE5leHRWaWRlbyhzbnYsIHRoaXMsIHZpZGVvRWxlbWVudCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgZmlyc3RWaWRlbyA9IDxSZWFsRmlsZT4gKGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNudiwgdGhpcy52aWRlb0lEc1t0aGlzLmN1cnJlbnRWaWRlb0luZGV4XSkpO1xyXG5cdFx0XHR2aWRlb0VsZW1lbnQuc3JjID0gYXdhaXQgZmlyc3RWaWRlby5nZXRTcmMoc252KTtcclxuXHRcdFx0dmlkZW9FbGVtZW50LmF1dG9wbGF5ID0gdHJ1ZTtcclxuXHRcdFx0dmlkZW9FbGVtZW50LmNvbnRyb2xzID0gdHJ1ZTtcclxuXHRcdFx0dmlkZW9FbGVtZW50Lm9udGltZXVwZGF0ZSA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRpZiAodmlkZW9FbGVtZW50LmVuZGVkKSB7XHJcblx0XHRcdFx0XHRhd2FpdCBQbGF5bGlzdC5sb2FkTmV4dFZpZGVvKHNudiwgdGhpcywgdmlkZW9FbGVtZW50KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdGNvbnRhaW5lci5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0NoYW5nZSBmaWxlcycgfSApO1xyXG5cdFx0XHRsZXQgY291bnQgPSAwO1xyXG5cdFx0XHRjb25zdCBtZWRpYUlESW5wdXREaXYgPSBjb250YWluZXIuY3JlYXRlRGl2KCd2Ym94Jyk7XHJcblx0XHRcdGNvbnN0IG5ld0ZpbGVCdXR0b24gPSBjb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0FkZCBGaWxlJyB9ICk7XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy52aWRlb0lEcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGNvbnN0IGN1cnJlbnRJbmRleCA9IGNvdW50O1xyXG5cdFx0XHRcdGNvdW50Kys7XHJcblx0XHRcdFx0Y29uc3QgbWVkaWFJRERpdiA9IG1lZGlhSURJbnB1dERpdi5jcmVhdGVEaXYoJ2hib3gnKTtcclxuXHRcdFx0XHRjb25zdCBpZElucHV0ID0gbWVkaWFJRERpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6ICcnICsgdGhpcy52aWRlb0lEc1tjdXJyZW50SW5kZXhdIH0gKTtcclxuXHRcdFx0XHRjb25zdCBkZWxldGVCdXR0b24gPSBtZWRpYUlERGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdkZWxldGUnIH0gKTtcclxuXHRcdFx0XHRkZWxldGVCdXR0b24ub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0XHRcdG1lZGlhSUREaXYucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHR0aGlzLnZpZGVvSURzLnNwbGljZShjdXJyZW50SW5kZXgsIDEpO1xyXG5cdFx0XHRcdFx0dGhpcy5EaXNwbGF5KHNudiwgY29udGFpbmVyKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWRJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMudmlkZW9JRHNbY3VycmVudEluZGV4XSA9IHBhcnNlSW50KGlkSW5wdXQudmFsdWUpO1xyXG5cdFx0XHRcdFx0dGhpcy5TYXZlKHNudik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdG5ld0ZpbGVCdXR0b24ub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0XHRjb25zdCBjdXJyZW50SW5kZXggPSBjb3VudDtcclxuXHRcdFx0XHRjb3VudCsrO1xyXG5cdFx0XHRcdGNvbnN0IG1lZGlhSUREaXYgPSBtZWRpYUlESW5wdXREaXYuY3JlYXRlRGl2KCdoYm94Jyk7XHJcblx0XHRcdFx0Y29uc3QgaWRJbnB1dCA9IG1lZGlhSUREaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcgfSApO1xyXG5cdFx0XHRcdGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IG1lZGlhSUREaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ2RlbGV0ZScgfSApO1xyXG5cdFx0XHRcdGRlbGV0ZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG5cdFx0XHRcdFx0bWVkaWFJRERpdi5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdHRoaXMudmlkZW9JRHMuc3BsaWNlKGN1cnJlbnRJbmRleCwgMSk7XHJcblx0XHRcdFx0XHR0aGlzLkRpc3BsYXkoc252LCBjb250YWluZXIpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZElucHV0Lm9uY2hhbmdlID0gKCkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy52aWRlb0lEc1tjdXJyZW50SW5kZXhdID0gcGFyc2VJbnQoaWRJbnB1dC52YWx1ZSk7XHJcblx0XHRcdFx0XHR0aGlzLlNhdmUoc252KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IENGRUZpbGVIYW5kbGVyIH0gZnJvbSBcIi4vY2ZlLWZpbGUtaGFuZGxlclwiO1xyXG5pbXBvcnQgeyBSZWFsRmlsZSB9IGZyb20gXCIuL3JlYWwtZmlsZVwiO1xyXG5pbXBvcnQgeyBTaW5nbGVNZWRpYUZpbGUgfSBmcm9tIFwiLi9zaW5nbGUtbWVkaWEtZmlsZVwiO1xyXG5pbXBvcnQgeyBTb3VyY2VBbmRWYXVsdCB9IGZyb20gXCIuL3NudlwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFZhcmlhbnRNZWRpYUZpbGUgZXh0ZW5kcyBSZWFsRmlsZSB7XHJcblxyXG5cdHByaXZhdGUgdmFyaWFudElEczogbnVtYmVyW107XHJcblxyXG5cdGFzeW5jIGdldFNyYyhzbnY6IFNvdXJjZUFuZFZhdWx0LCBpbmRleDogbnVtYmVyIHwgbnVsbCA9IG51bGwpOiBQcm9taXNlPHN0cmluZz4ge1xyXG5cdFx0aWYgKGluZGV4ID09PSBudWxsKSB7XHJcblx0XHRcdGluZGV4ID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSkgKiB0aGlzLnZhcmlhbnRJRHMubGVuZ3RoKTtcclxuXHRcdH1cclxuXHRcdGNvbnN0IGNvbnRhaW5lZE1lZGlhID0gPFNpbmdsZU1lZGlhRmlsZT4gYXdhaXQgQ0ZFRmlsZUhhbmRsZXIuTG9hZEZpbGUoc252LCB0aGlzLnZhcmlhbnRJRHNbaW5kZXhdKTtcclxuXHRcdHJldHVybiBhd2FpdCBjb250YWluZWRNZWRpYS5nZXRTcmMoc252KTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBvdmVycmlkZSBhc3luYyBDcmVhdGVOZXdGaWxlRm9yTGF5ZXIoc252OiBTb3VyY2VBbmRWYXVsdCwgZmlsZVR5cGU6IHN0cmluZywgcGFyZW50Rm9sZGVySUQ6IG51bWJlcik6IFByb21pc2U8VmFyaWFudE1lZGlhRmlsZT4ge1xyXG5cdFx0Y29uc3QgbmV3TWVkaWFGaWxlID0gPFZhcmlhbnRNZWRpYUZpbGU+IChhd2FpdCBzdXBlci5DcmVhdGVOZXdGaWxlRm9yTGF5ZXIoc252LCBmaWxlVHlwZSwgcGFyZW50Rm9sZGVySUQpKTtcclxuXHRcdG5ld01lZGlhRmlsZS52YXJpYW50SURzID0gW107XHJcblx0XHRyZXR1cm4gbmV3TWVkaWFGaWxlO1xyXG5cdH1cclxuXHJcblx0b3ZlcnJpZGUgYXN5bmMgRGlzcGxheShzbnY6IFNvdXJjZUFuZFZhdWx0LCBjb250YWluZXI6IEhUTUxEaXZFbGVtZW50KSB7XHJcblx0XHRhd2FpdCBzdXBlci5EaXNwbGF5KHNudiwgY29udGFpbmVyKTtcclxuXHJcblx0XHRjb25zdCBpbWFnZURpc3BsYXlDb250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KCd2Ym94Jyk7XHJcblx0XHRpbWFnZURpc3BsYXlDb250YWluZXIuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdDaGFuZ2UgZmlsZXMnIH0gKTtcclxuXHRcdGNvbnN0IG1lZGlhSURJbnB1dERpdiA9IGltYWdlRGlzcGxheUNvbnRhaW5lci5jcmVhdGVEaXYoJ3Zib3gnKTtcclxuXHRcdGNvbnN0IG5ld0ZpbGVCdXR0b24gPSBpbWFnZURpc3BsYXlDb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0FkZCBGaWxlJyB9ICk7XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudmFyaWFudElEcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRjb25zdCBjdXJyZW50SW5kZXggPSBpO1xyXG5cdFx0XHRjb25zdCBtZWRpYUlERGl2ID0gbWVkaWFJRElucHV0RGl2LmNyZWF0ZURpdignaGJveCcpO1xyXG5cdFx0XHRjb25zdCBpZElucHV0ID0gbWVkaWFJRERpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6ICcnICsgdGhpcy52YXJpYW50SURzW2N1cnJlbnRJbmRleF0gfSApO1xyXG5cdFx0XHRjb25zdCBkZWxldGVCdXR0b24gPSBtZWRpYUlERGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdkZWxldGUnIH0gKTtcclxuXHRcdFx0ZGVsZXRlQnV0dG9uLmNsYXNzTmFtZSA9ICdjZmUtcmVtb3ZlLWJ1dHRvbic7XHJcblx0XHRcdGRlbGV0ZUJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdG1lZGlhSUREaXYucmVtb3ZlKCk7XHJcblx0XHRcdFx0dGhpcy52YXJpYW50SURzLnNwbGljZShjdXJyZW50SW5kZXgsIDEpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuRGlzcGxheShzbnYsIGNvbnRhaW5lcik7XHJcblx0XHRcdH1cclxuXHRcdFx0aWRJbnB1dC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLnZhcmlhbnRJRHNbY3VycmVudEluZGV4XSA9IHBhcnNlSW50KGlkSW5wdXQudmFsdWUpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuRGlzcGxheShzbnYsIGNvbnRhaW5lcik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdG5ld0ZpbGVCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0dGhpcy52YXJpYW50SURzLnB1c2goLTEpO1xyXG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcclxuXHRcdFx0YXdhaXQgdGhpcy5EaXNwbGF5KHNudiwgY29udGFpbmVyKTtcclxuXHRcdH1cclxuXHRcdGNvbnN0IG1lZGlhRGl2ID0gaW1hZ2VEaXNwbGF5Q29udGFpbmVyLmNyZWF0ZURpdigndmJveCcpO1xyXG5cdFx0XHJcblx0XHRhd2FpdCB0aGlzLkRpc3BsYXlNZWRpYU9ubHkobWVkaWFEaXYsIHNudik7XHJcblx0fVxyXG5cdGFzeW5jIERpc3BsYXlNZWRpYU9ubHkobWVkaWFEaXY6IEhUTUxEaXZFbGVtZW50LCBzbnY6IFNvdXJjZUFuZFZhdWx0LCBpbmRleCA9IC0xKSB7XHJcblx0XHQvLyBUaGlzIGNhbGwgaXMgbm90IG5lZWRlZCBiZWNhdXNlIGNvbnRhaW5lZE1lZGlhLkRpc3BsYXlNZWRpYU9ubHkoKSBjYWxscyBpdCBhbnl3YXlcclxuXHRcdC8vIGF3YWl0IHN1cGVyLkRpc3BsYXlNZWRpYU9ubHlcclxuXHRcdGlmIChpbmRleCA9PT0gLTEpIHtcclxuXHRcdFx0aW5kZXggPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpKSAqIHRoaXMudmFyaWFudElEcy5sZW5ndGgpO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgY29udGFpbmVkTWVkaWEgPSA8U2luZ2xlTWVkaWFGaWxlPiBhd2FpdCBDRkVGaWxlSGFuZGxlci5Mb2FkRmlsZShzbnYsIHRoaXMudmFyaWFudElEc1tpbmRleF0pO1xyXG5cdFx0YXdhaXQgY29udGFpbmVkTWVkaWEuRGlzcGxheU1lZGlhT25seShtZWRpYURpdiwgc252KTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IENGRUZpbGUgfSBmcm9tIFwiLi9jZmUtZmlsZVwiO1xyXG5pbXBvcnQgeyBTb3VyY2VBbmRWYXVsdCB9IGZyb20gXCIuL3NudlwiO1xyXG5pbXBvcnQgeyBTb3VyY2VGb2xkZXIgfSBmcm9tIFwiLi9zb3VyY2UtZm9sZGVyXCI7XHJcblxyXG4vKipcclxuICogQSBjaGlsZCBjbGFzcyBvZiB0aGUgQ0ZFRmlsZSBjbGFzcy4gUmVwcmVzZW50cyBhIGZvbGRlciB3aXRoaW4gdGhlIFNvdXJjZUZvbGRlci5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTb3VyY2VGb2xkZXJTaG9ydGN1dCBleHRlbmRzIENGRUZpbGUge1xyXG5cdC8qKlxyXG5cdCAqIFRoZSBJRHMgb2YgZmlsZXMgY29udGFpbmVkIGluIHRoaXMgZm9sZGVyXHJcblx0ICovXHJcblx0cGF0aFRvT3RoZXJTb3VyY2U6IHN0cmluZztcclxuXHJcblx0LyoqXHJcblx0ICogQG92ZXJyaWRlIEZvbGRlciBsYXllcjpcclxuXHQgKiBcclxuXHQgKiBpbml0aWFsaXplcyB0aGUgY29udGFpbmVkIGZpbGUgaWRzIGFycmF5IGZvciB0aGUgZm9sZGVyIG9iamVjdFxyXG5cdCAqL1xyXG5cdHN0YXRpYyBvdmVycmlkZSBhc3luYyBDcmVhdGVOZXdGaWxlRm9yTGF5ZXIoc252OiBTb3VyY2VBbmRWYXVsdCwgZmlsZVR5cGU6IHN0cmluZywgcGFyZW50Rm9sZGVySUQ6IG51bWJlcik6IFByb21pc2U8U291cmNlRm9sZGVyU2hvcnRjdXQ+IHtcclxuXHRcdGNvbnN0IHVuZmluaXNoZWRGb2xkZXIgPSA8U291cmNlRm9sZGVyU2hvcnRjdXQ+IChhd2FpdCBzdXBlci5DcmVhdGVOZXdGaWxlRm9yTGF5ZXIoc252LCBmaWxlVHlwZSwgcGFyZW50Rm9sZGVySUQpKTtcclxuXHRcdHVuZmluaXNoZWRGb2xkZXIucGF0aFRvT3RoZXJTb3VyY2UgPSAnJztcclxuXHRcdHJldHVybiB1bmZpbmlzaGVkRm9sZGVyO1xyXG5cdH1cclxuXHJcblx0b3ZlcnJpZGUgYXN5bmMgRGlzcGxheShzbnY6IFNvdXJjZUFuZFZhdWx0LCBtYWluRGl2OiBIVE1MRGl2RWxlbWVudCkge1xyXG5cdFx0YXdhaXQgc3VwZXIuRGlzcGxheShzbnYsIG1haW5EaXYpO1xyXG5cdFx0Y29uc3QgaW5wdXREaXYgPSBtYWluRGl2LmNyZWF0ZURpdigndmJveCcpO1xyXG5cdFx0aW5wdXREaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdQYXRoIHRvIE90aGVyIFNvdXJjZSBGb2xkZXInIH0gKTtcclxuXHRcdGNvbnN0IHBhdGhJbnB1dCA9IGlucHV0RGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnIH0gKTtcclxuXHRcdGNvbnN0IGdvQnV0dG9uID0gaW5wdXREaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0dvJyB9ICk7XHJcblx0XHRwYXRoSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdHRoaXMucGF0aFRvT3RoZXJTb3VyY2UgPSBwYXRoSW5wdXQudmFsdWU7XHJcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xyXG5cdFx0fVxyXG5cdFx0Z29CdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0Y29uc3Qgb3RoZXJTb3VyY2UgPSBhd2FpdCBTb3VyY2VGb2xkZXIuQ3JlYXRlT3JMb2FkU291cmNlRm9sZGVyKHRoaXMucGF0aFRvT3RoZXJTb3VyY2UsIHNudi52YXVsdCk7XHJcblx0XHRcdG90aGVyU291cmNlLkRpc3BsYXkobWFpbkRpdiwgc252LnZhdWx0KTtcclxuXHRcdH1cclxuXHR9XHJcblx0fVxyXG4iLCAiZXhwb3J0IGNsYXNzIEh3YXl1IHtcclxuXHRzdGF0aWMgRGlzcGxheShkaXY6IEhUTUxEaXZFbGVtZW50LCB0ZXh0ID0gJycsIGZvbnRTaXplID0gMjAsIGlzVmVydGljYWwgPSB0cnVlKTogSFRNTEVsZW1lbnQge1xyXG5cdFx0Y29uc3QgdGV4dEVsZW1lbnQgPSBkaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6IHRleHQgfSApO1xyXG5cdFx0dGV4dEVsZW1lbnQuc3R5bGUuZm9udEZhbWlseSA9IGlzVmVydGljYWwgPyAnSHdheXVSZWFsJyA6ICdId2F5dUhvcml6b250YWwnO1xyXG5cdFx0dGV4dEVsZW1lbnQuc3R5bGUuZm9udFNpemUgPSBmb250U2l6ZSArICdweCc7XHJcblx0XHRpZiAoaXNWZXJ0aWNhbCkge1xyXG5cdFx0XHR0ZXh0RWxlbWVudC5zdHlsZS53cml0aW5nTW9kZSA9ICd2ZXJ0aWNhbC1scic7XHJcblx0XHRcdHRleHRFbGVtZW50LnN0eWxlLnRleHRPcmllbnRhdGlvbiA9ICd1cHJpZ2h0JztcclxuXHRcdH1cclxuXHRcdHJldHVybiB0ZXh0RWxlbWVudDtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBDcmVhdGVUZXh0QXJlYShkaXY6IEhUTUxEaXZFbGVtZW50LCBleGlzdGluZ1RleHQgPSAnJywgZm9udFNpemUgPSAyMCwgaXNWZXJ0aWNhbCA9IHRydWUpOiBIVE1MVGV4dEFyZWFFbGVtZW50IHtcclxuXHRcdGNvbnN0IHRleHRBcmVhID0gZGl2LmNyZWF0ZUVsKCd0ZXh0YXJlYScsIHsgdGV4dDogZXhpc3RpbmdUZXh0IH0gKTtcclxuXHRcdHRleHRBcmVhLnN0eWxlLmZvbnRGYW1pbHkgPSBpc1ZlcnRpY2FsID8gJ0h3YXl1UmVhbCcgOiAnSHdheXVIb3Jpem9udGFsJztcclxuXHRcdHRleHRBcmVhLnN0eWxlLmZvbnRTaXplID0gZm9udFNpemUgKyAncHgnO1xyXG5cdFx0aWYgKGlzVmVydGljYWwpIHtcclxuXHRcdFx0dGV4dEFyZWEuc3R5bGUud3JpdGluZ01vZGUgPSAndmVydGljYWwtbHInO1xyXG5cdFx0XHR0ZXh0QXJlYS5zdHlsZS50ZXh0T3JpZW50YXRpb24gPSAndXByaWdodCc7XHJcblx0XHR9XHJcblx0XHR0ZXh0QXJlYS5zcGVsbGNoZWNrID0gZmFsc2U7XHJcblx0XHRyZXR1cm4gdGV4dEFyZWE7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgQ3JlYXRlVGV4dElucHV0KGRpdjogSFRNTERpdkVsZW1lbnQsIGV4aXN0aW5nVGV4dCA9ICcnLCBmb250U2l6ZSA9IDIwLCBpc1ZlcnRpY2FsID0gdHJ1ZSk6IEhUTUxJbnB1dEVsZW1lbnQge1xyXG5cdFx0Y29uc3QgdGV4dElucHV0ID0gZGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogZXhpc3RpbmdUZXh0IH0gKTtcclxuXHRcdHRleHRJbnB1dC5zdHlsZS5mb250RmFtaWx5ID0gaXNWZXJ0aWNhbCA/ICdId2F5dVJlYWwnIDogJ0h3YXl1SG9yaXpvbnRhbCc7XHJcblx0XHR0ZXh0SW5wdXQuc3R5bGUuZm9udFNpemUgPSBmb250U2l6ZSArICdweCc7XHJcblx0XHRpZiAoaXNWZXJ0aWNhbCkge1xyXG5cdFx0XHR0ZXh0SW5wdXQuc3R5bGUud3JpdGluZ01vZGUgPSAndmVydGljYWwtbHInO1xyXG5cdFx0XHR0ZXh0SW5wdXQuc3R5bGUudGV4dE9yaWVudGF0aW9uID0gJ3VwcmlnaHQnO1xyXG5cdFx0fVxyXG5cdFx0dGV4dElucHV0LnNwZWxsY2hlY2sgPSBmYWxzZTtcclxuXHRcdHJldHVybiB0ZXh0SW5wdXQ7XHJcblx0fVxyXG59XHJcbiIsICJleHBvcnQgY2xhc3MgUGhvdG9MYW5nIHtcclxuXHRzdGF0aWMgRGlzcGxheShkaXY6IEhUTUxEaXZFbGVtZW50LCB0ZXh0ID0gJycsIGZvbnRTaXplID0gMTAsIG1vdmVTcGVlZHM6IG51bWJlcltdIHwgbnVsbCA9IG51bGwsIGR1cmF0aW9uczogbnVtYmVyW10gfCBudWxsID0gbnVsbCwgZG9Mb29wID0gZmFsc2UpOiBIVE1MRWxlbWVudCB7XHJcblx0XHRjb25zdCBsaW5lID0gbmV3IFBob3RvTGluZSh0ZXh0KTtcclxuXHRcdGlmICghbW92ZVNwZWVkcykge1xyXG5cdFx0XHRtb3ZlU3BlZWRzID0gWzEwMCwgMjUwLCA1MDBdO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFkdXJhdGlvbnMpIHtcclxuXHRcdFx0ZHVyYXRpb25zID0gWzAsIDUwMF07XHJcblx0XHR9XHJcblx0XHRjb25zdCBkaXNwbGF5RGl2ID0gZGl2LmNyZWF0ZURpdigpO1xyXG5cdFx0bGluZS5TcGVhayhkaXNwbGF5RGl2LCBmb250U2l6ZSwgbW92ZVNwZWVkcywgZHVyYXRpb25zLCBkb0xvb3ApO1xyXG5cdFx0cmV0dXJuIGRpc3BsYXlEaXY7XHJcblx0fVxyXG5cdHN0YXRpYyBDcmVhdGVUZXh0QXJlYShkaXY6IEhUTUxEaXZFbGVtZW50LCBleGlzdGluZ1RleHQgPSAnJywgZm9udFNpemUgPSAxNy41KTogSFRNTFRleHRBcmVhRWxlbWVudCB7XHJcblx0XHRjb25zdCB0ZXh0QXJlYSA9IGRpdi5jcmVhdGVFbCgndGV4dGFyZWEnLCB7IHRleHQ6IGV4aXN0aW5nVGV4dCB9ICk7XHJcblx0XHR0ZXh0QXJlYS5zdHlsZS5mb250U2l6ZSA9IGZvbnRTaXplICsgJ3B4JztcclxuXHRcdHRleHRBcmVhLnNwZWxsY2hlY2sgPSBmYWxzZTtcclxuXHRcdHJldHVybiB0ZXh0QXJlYTtcclxuXHR9XHJcblx0c3RhdGljIENyZWF0ZVRleHRJbnB1dChkaXY6IEhUTUxEaXZFbGVtZW50LCBleGlzdGluZ1RleHQgPSAnJywgZm9udFNpemUgPSAxNy41KTogSFRNTElucHV0RWxlbWVudCB7XHJcblx0XHRjb25zdCB0ZXh0SW5wdXQgPSBkaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiBleGlzdGluZ1RleHQgfSApO1xyXG5cdFx0dGV4dElucHV0LnN0eWxlLmZvbnRTaXplID0gZm9udFNpemUgKyAncHgnO1xyXG5cdFx0dGV4dElucHV0LnNwZWxsY2hlY2sgPSBmYWxzZTtcclxuXHRcdHJldHVybiB0ZXh0SW5wdXQ7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUGhvdG9MaW5lIHtcclxuXHRnbHlwaHM6IFBob3RvR2x5cGhbXTtcclxuXHRjb25zdHJ1Y3Rvcih0ZXh0Q29udGVudCA9ICcnKSB7XHJcblx0XHR0aGlzLmdseXBocyA9IFtdO1xyXG5cclxuXHRcdGNvbnN0IHRleHRBcnJheSA9IHRleHRDb250ZW50LnNwbGl0KFwiICAgXCIpLmZpbHRlcigoYzogc3RyaW5nKSA9PiBjICE9PSBcIlwiKTtcclxuXHJcblx0XHRsZXQgZG9TcGFjZSA9IGZhbHNlO1xyXG5cclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dEFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGNvbnN0IG5ld0dseXBoID0gbmV3IFBob3RvR2x5cGgoKTtcclxuXHRcdFx0Y29uc3QgZ2x5cGhUZXh0ID0gdGV4dEFycmF5W2ldO1xyXG5cclxuXHRcdFx0aWYgKGdseXBoVGV4dCA9PT0gJ3x8fCcpIHtcclxuXHRcdFx0XHRuZXdHbHlwaC5odWUgPSAwO1xyXG5cdFx0XHRcdG5ld0dseXBoLnNhdHVyYXRpb24gPSAwO1xyXG5cdFx0XHRcdG5ld0dseXBoLnZhbHVlID0gMDtcclxuXHRcdFx0XHRuZXdHbHlwaC5vcGFjaXR5ID0gMDtcclxuXHRcdFx0XHRuZXdHbHlwaC5tb3ZlU3BlZWQgPSAwO1xyXG5cdFx0XHRcdG5ld0dseXBoLmR1cmF0aW9uID0gMDtcclxuXHRcdFx0XHRuZXdHbHlwaC54ID0gdGhpcy5nbHlwaHNbdGhpcy5nbHlwaHMubGVuZ3RoIC0gMV0ueDtcclxuXHRcdFx0XHRuZXdHbHlwaC55ID0gdGhpcy5nbHlwaHNbdGhpcy5nbHlwaHMubGVuZ3RoIC0gMV0ueTtcclxuXHRcdFx0XHRkb1NwYWNlID0gdHJ1ZTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRsZXQgaiA9IDA7XHJcblx0XHRcdFx0bGV0IHNraXBOZXh0ID0gZmFsc2U7XHJcblxyXG5cdFx0XHRcdC8vIG1vdmUgc3BlZWRcclxuXHRcdFx0XHRzd2l0Y2ggKGdseXBoVGV4dFtqXSkge1xyXG5cdFx0XHRcdFx0Y2FzZSAnLic6XHJcblx0XHRcdFx0XHRcdG5ld0dseXBoLm1vdmVTcGVlZCA9IDA7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Y2FzZSAnLSc6XHJcblx0XHRcdFx0XHRcdG5ld0dseXBoLm1vdmVTcGVlZCA9IDE7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Y2FzZSAnPSc6XHJcblx0XHRcdFx0XHRcdG5ld0dseXBoLm1vdmVTcGVlZCA9IDI7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRqKys7XHJcblxyXG5cdFx0XHRcdC8vIGR1cmF0aW9uXHJcblx0XHRcdFx0c3dpdGNoIChnbHlwaFRleHRbal0pIHtcclxuXHRcdFx0XHRcdGNhc2UgJy4nOlxyXG5cdFx0XHRcdFx0XHRuZXdHbHlwaC5kdXJhdGlvbiA9IDA7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Y2FzZSAnLSc6XHJcblx0XHRcdFx0XHRcdG5ld0dseXBoLmR1cmF0aW9uID0gMTtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGorKztcclxuXHJcblx0XHRcdFx0Ly8gc2hhcGVcclxuXHRcdFx0XHRuZXdHbHlwaC5zaGFwZSA9IGdseXBoVGV4dFtqXTtcclxuXHRcdFx0XHRqKys7XHJcblxyXG5cdFx0XHRcdC8vIGh1ZVxyXG5cdFx0XHRcdGxldCBodWUxID0gMDtcclxuXHRcdFx0XHRzd2l0Y2ggKGdseXBoVGV4dFtqXSkge1xyXG5cdFx0XHRcdFx0Y2FzZSAncic6XHJcblx0XHRcdFx0XHRcdGh1ZTEgPSAwO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdGNhc2UgJ28nOlxyXG5cdFx0XHRcdFx0XHRodWUxID0gNDA7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Y2FzZSAneSc6XHJcblx0XHRcdFx0XHRcdGh1ZTEgPSA2MDtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRjYXNlICdnJzpcclxuXHRcdFx0XHRcdFx0aHVlMSA9IDEyMDtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRjYXNlICdjJzpcclxuXHRcdFx0XHRcdFx0aHVlMSA9IDE4MDtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRjYXNlICdiJzpcclxuXHRcdFx0XHRcdFx0aHVlMSA9IDI0MDtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRjYXNlICdwJzpcclxuXHRcdFx0XHRcdFx0aHVlMSA9IDI3MDtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRjYXNlICcuJzpcclxuXHRcdFx0XHRcdFx0bmV3R2x5cGguaHVlID0gMDtcclxuXHRcdFx0XHRcdFx0bmV3R2x5cGguc2F0dXJhdGlvbiA9IDA7XHJcblx0XHRcdFx0XHRcdHNraXBOZXh0ID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGorKztcclxuXHRcdFx0XHRpZiAoIXNraXBOZXh0KSB7XHJcblx0XHRcdFx0XHRsZXQgaHVlMiA9IDA7XHJcblx0XHRcdFx0XHRzd2l0Y2ggKGdseXBoVGV4dFtqXSkge1xyXG5cdFx0XHRcdFx0XHRjYXNlICdyJzpcclxuXHRcdFx0XHRcdFx0XHRodWUyID0gMDtcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSAnbyc6XHJcblx0XHRcdFx0XHRcdFx0aHVlMiA9IDQwO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRjYXNlICd5JzpcclxuXHRcdFx0XHRcdFx0XHRodWUyID0gNjA7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ2cnOlxyXG5cdFx0XHRcdFx0XHRcdGh1ZTIgPSAxMjA7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ2MnOlxyXG5cdFx0XHRcdFx0XHRcdGh1ZTIgPSAxODA7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ2InOlxyXG5cdFx0XHRcdFx0XHRcdGh1ZTIgPSAyNDA7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ3AnOlxyXG5cdFx0XHRcdFx0XHRcdGh1ZTIgPSAyNzA7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHRcdFx0bmV3R2x5cGguaHVlID0gaHVlMTtcclxuXHRcdFx0XHRcdFx0XHRza2lwTmV4dCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAoIXNraXBOZXh0KSB7XHJcblx0XHRcdFx0XHRcdGlmIChodWUxID09PSAwICYmIGh1ZTIgPT09IDI3MCB8fCBodWUxID09PSAyNzAgJiYgaHVlMiA9PT0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdG5ld0dseXBoLmh1ZSA9IDMxNTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRuZXdHbHlwaC5odWUgPSAoaHVlMSArIGh1ZTIpIC8gMjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRqKys7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHNraXBOZXh0ID0gZmFsc2U7XHJcblxyXG5cdFx0XHRcdC8vIHNhdHVyYXRpb25cclxuXHRcdFx0XHRjb25zdCBzYXR1cmF0aW9uVGV4dCA9IGdseXBoVGV4dFtqXTtcclxuXHRcdFx0XHRzd2l0Y2ggKHNhdHVyYXRpb25UZXh0KSB7XHJcblx0XHRcdFx0XHRjYXNlICcwJzpcclxuXHRcdFx0XHRcdFx0bmV3R2x5cGguc2F0dXJhdGlvbiA9IDA7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Y2FzZSAnMSc6XHJcblx0XHRcdFx0XHRcdG5ld0dseXBoLnNhdHVyYXRpb24gPSAwLjI1O1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdGNhc2UgJzInOlxyXG5cdFx0XHRcdFx0XHRuZXdHbHlwaC5zYXR1cmF0aW9uID0gMC41O1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdGNhc2UgJzMnOlxyXG5cdFx0XHRcdFx0XHRuZXdHbHlwaC5zYXR1cmF0aW9uID0gMC43NTtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRjYXNlICc0JzpcclxuXHRcdFx0XHRcdFx0bmV3R2x5cGguc2F0dXJhdGlvbiA9IDE7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRqKys7XHJcblxyXG5cdFx0XHRcdC8vIHZhbHVlXHJcblx0XHRcdFx0Y29uc3QgdmFsdWVUZXh0ID0gZ2x5cGhUZXh0W2pdO1xyXG5cdFx0XHRcdHN3aXRjaCAodmFsdWVUZXh0KSB7XHJcblx0XHRcdFx0XHRjYXNlICcwJzpcclxuXHRcdFx0XHRcdFx0bmV3R2x5cGgudmFsdWUgPSAwO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdGNhc2UgJzEnOlxyXG5cdFx0XHRcdFx0XHRuZXdHbHlwaC52YWx1ZSA9IDAuMTtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRjYXNlICcyJzpcclxuXHRcdFx0XHRcdFx0bmV3R2x5cGgudmFsdWUgPSAwLjI7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Y2FzZSAnMyc6XHJcblx0XHRcdFx0XHRcdG5ld0dseXBoLnZhbHVlID0gMC41O1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdGNhc2UgJzQnOlxyXG5cdFx0XHRcdFx0XHRuZXdHbHlwaC52YWx1ZSA9IDE7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRqKys7XHJcblxyXG5cdFx0XHRcdC8vIG9wYWNpdHlcclxuXHRcdFx0XHRjb25zdCBvcGFjaXR5VGV4dCA9IGdseXBoVGV4dFtqXTtcclxuXHRcdFx0XHRzd2l0Y2ggKG9wYWNpdHlUZXh0KSB7XHJcblx0XHRcdFx0XHRjYXNlICcuJzpcclxuXHRcdFx0XHRcdFx0bmV3R2x5cGgub3BhY2l0eSA9IDA7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Y2FzZSAnLSc6XHJcblx0XHRcdFx0XHRcdG5ld0dseXBoLm9wYWNpdHkgPSAwLjU7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Y2FzZSAnPSc6XHJcblx0XHRcdFx0XHRcdG5ld0dseXBoLm9wYWNpdHkgPSAxO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aisrO1xyXG5cclxuXHRcdFx0XHRjb25zdCBsb2NhdGlvbkluZm8gPSBnbHlwaFRleHQuc3Vic3RyaW5nKGopO1xyXG5cclxuXHRcdFx0XHQvLyBsb2NhdGlvblxyXG5cdFx0XHRcdC8vIHhcclxuXHRcdFx0XHRpZiAobG9jYXRpb25JbmZvLmNvbnRhaW5zKCc8JykpIHtcclxuXHRcdFx0XHRcdG5ld0dseXBoLnggPSAwO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAobG9jYXRpb25JbmZvLmNvbnRhaW5zKCc+JykpIHtcclxuXHRcdFx0XHRcdG5ld0dseXBoLnggPSAyO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRuZXdHbHlwaC54ID0gMTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8geVxyXG5cdFx0XHRcdGlmIChsb2NhdGlvbkluZm8uY29udGFpbnMoJ3YnKSkge1xyXG5cdFx0XHRcdFx0bmV3R2x5cGgueSA9IDA7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChsb2NhdGlvbkluZm8uY29udGFpbnMoJ14nKSkge1xyXG5cdFx0XHRcdFx0bmV3R2x5cGgueSA9IDI7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdG5ld0dseXBoLnkgPSAxO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKGRvU3BhY2UpIHtcclxuXHRcdFx0XHRcdGNvbnN0IGVtcHR5R2x5cGggPSBuZXcgUGhvdG9HbHlwaCgpO1xyXG5cdFx0XHRcdFx0ZW1wdHlHbHlwaC5odWUgPSAwO1xyXG5cdFx0XHRcdFx0ZW1wdHlHbHlwaC5zYXR1cmF0aW9uID0gMDtcclxuXHRcdFx0XHRcdGVtcHR5R2x5cGgudmFsdWUgPSAwO1xyXG5cdFx0XHRcdFx0ZW1wdHlHbHlwaC5vcGFjaXR5ID0gMDtcclxuXHRcdFx0XHRcdGVtcHR5R2x5cGgubW92ZVNwZWVkID0gMDtcclxuXHRcdFx0XHRcdGVtcHR5R2x5cGguZHVyYXRpb24gPSAwO1xyXG5cdFx0XHRcdFx0ZW1wdHlHbHlwaC54ID0gbmV3R2x5cGgueDtcclxuXHRcdFx0XHRcdGVtcHR5R2x5cGgueSA9IG5ld0dseXBoLnk7XHJcblx0XHRcdFx0XHRkb1NwYWNlID0gZmFsc2U7XHJcblx0XHRcdFx0XHR0aGlzLmdseXBocy5wdXNoKGVtcHR5R2x5cGgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5nbHlwaHMucHVzaChuZXdHbHlwaCk7XHJcblx0XHR9XHJcblx0XHRpZiAoZG9TcGFjZSkge1xyXG5cdFx0XHRjb25zdCBlbXB0eUdseXBoID0gbmV3IFBob3RvR2x5cGgoKTtcclxuXHRcdFx0ZW1wdHlHbHlwaC5odWUgPSAwO1xyXG5cdFx0XHRlbXB0eUdseXBoLnNhdHVyYXRpb24gPSAwO1xyXG5cdFx0XHRlbXB0eUdseXBoLnZhbHVlID0gMDtcclxuXHRcdFx0ZW1wdHlHbHlwaC5vcGFjaXR5ID0gMDtcclxuXHRcdFx0ZW1wdHlHbHlwaC5tb3ZlU3BlZWQgPSAwO1xyXG5cdFx0XHRlbXB0eUdseXBoLmR1cmF0aW9uID0gMDtcclxuXHRcdFx0ZW1wdHlHbHlwaC54ID0gdGhpcy5nbHlwaHNbMF0ueDtcclxuXHRcdFx0ZW1wdHlHbHlwaC55ID0gdGhpcy5nbHlwaHNbMF0ueTtcclxuXHRcdFx0ZG9TcGFjZSA9IGZhbHNlO1xyXG5cdFx0XHR0aGlzLmdseXBocy5wdXNoKGVtcHR5R2x5cGgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgU3BlYWsoZGl2OiBIVE1MRGl2RWxlbWVudCwgdGV4dFNpemU6IG51bWJlciwgbW92ZVNwZWVkczogbnVtYmVyW10sIGR1cmF0aW9uczogbnVtYmVyW10sIGRvTG9vcCA9IGZhbHNlKSB7XHJcblx0XHRkaXYuc3R5bGUuZm9udFNpemUgPSB0ZXh0U2l6ZSArICdweCc7XHJcblx0XHRkaXYuc3R5bGUuZm9udEZhbWlseSA9ICdQaG90b2xhbmcnO1xyXG5cdFx0ZGl2LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcclxuXHRcdGRpdi5zdHlsZS5oZWlnaHQgPSAodGV4dFNpemUgKiAzLjI1KSArICdweCc7XHJcblx0XHRkaXYuc3R5bGUud2lkdGggPSAodGV4dFNpemUgKiAzLjI1KSArICdweCc7XHJcblx0XHRjb25zdCB0ZXh0RGl2ID0gZGl2LmNyZWF0ZURpdigpO1xyXG5cdFx0dGV4dERpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcblx0XHR0ZXh0RGl2LnN0eWxlLmJvdHRvbSA9IHRleHRTaXplICsgJ3B4JztcclxuXHRcdHRleHREaXYuc3R5bGUudHJhbnNpdGlvblByb3BlcnR5ID0gJ2JvdHRvbSwgbGVmdCwgY29sb3InO1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmdseXBocy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRjb25zdCBwaG90b0dseXBoID0gdGhpcy5nbHlwaHNbaV07XHJcblxyXG5cdFx0XHR0ZXh0RGl2LnRleHRDb250ZW50ID0gcGhvdG9HbHlwaC5zaGFwZTtcclxuXHRcdFx0dGV4dERpdi5zdHlsZS5sZWZ0ID0gKHBob3RvR2x5cGgueCAqIHRleHRTaXplKSArICdweCc7XHJcblx0XHRcdHRleHREaXYuc3R5bGUuYm90dG9tID0gKHBob3RvR2x5cGgueSAqIHRleHRTaXplKSArICdweCc7XHJcblx0XHRcdHRleHREaXYuc3R5bGUuY29sb3IgPSBwaG90b0dseXBoLmNvbG9yO1xyXG5cclxuXHRcdFx0aWYgKGRvTG9vcCAmJiBpID09PSB0aGlzLmdseXBocy5sZW5ndGggLSAxKSB7XHJcblx0XHRcdFx0aSA9IC0xO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRleHREaXYuc3R5bGUudHJhbnNpdGlvbiA9IG1vdmVTcGVlZHNbcGhvdG9HbHlwaC5tb3ZlU3BlZWRdICsgJ21zJztcclxuXHRcdFx0YXdhaXQgc2xlZXAobW92ZVNwZWVkc1twaG90b0dseXBoLm1vdmVTcGVlZF0gKyBkdXJhdGlvbnNbcGhvdG9HbHlwaC5kdXJhdGlvbl0pO1xyXG5cdFx0fVxyXG5cdFx0ZGl2LnJlbW92ZSgpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgRGlzcGxheVN0YXRpYyhkaXY6IEhUTUxEaXZFbGVtZW50LCB0ZXh0U2l6ZTogbnVtYmVyKSB7XHJcblx0XHRjb25zdCBsaW5lRGl2ID0gZGl2LmNyZWF0ZURpdignaGJveCcpO1xyXG5cdFx0bGluZURpdi5zdHlsZS5nYXAgPSAnJyArICh0ZXh0U2l6ZSAqIDMuMjUpICsgJ3B4KSc7XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZ2x5cGhzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHRoaXMuZ2x5cGhzW2ldID0gT2JqZWN0LmFzc2lnbihuZXcgUGhvdG9HbHlwaCgpLCB0aGlzLmdseXBoc1tpXSk7XHJcblx0XHRcdHRoaXMuZ2x5cGhzW2ldLkRpc3BsYXlTdGF0aWMobGluZURpdi5jcmVhdGVEaXYoKSwgdGV4dFNpemUpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQaG90b0dseXBoIHtcclxuXHRzaGFwZTogc3RyaW5nO1xyXG5cdHg6IG51bWJlcjtcclxuXHR5OiBudW1iZXI7XHJcblx0aHVlOiBudW1iZXI7XHJcblx0c2F0dXJhdGlvbjogbnVtYmVyO1xyXG5cdHZhbHVlOiBudW1iZXI7XHJcblx0b3BhY2l0eTogbnVtYmVyO1xyXG5cdG1vdmVTcGVlZDogbnVtYmVyO1xyXG5cdGR1cmF0aW9uOiBudW1iZXI7XHJcblxyXG5cdGdldCBjb2xvcigpIHtcclxuXHRcdC8vIGhzdiB2YWx1ZXMgYXJlIGluIFswLCAxXVxyXG5cdFx0bGV0IGxpZ2h0bmVzcyA9ICgyIC0gdGhpcy5zYXR1cmF0aW9uKSAqIHRoaXMudmFsdWUgLyAyO1xyXG5cdFx0bGV0IG5ld1MgPSB0aGlzLnNhdHVyYXRpb24gKiB0aGlzLnZhbHVlIC8gKGxpZ2h0bmVzcyA8IDEgPyBsaWdodG5lc3MgKiAyIDogMiAtIGxpZ2h0bmVzcyAqIDIpO1xyXG5cclxuXHRcdC8vIEhhbmRsZSB0aGUgY2FzZSB3aGVyZSBsaWdodG5lc3MgaXMgMCBvciAxLCB3aGljaCByZXN1bHRzIGluIHNhdHVyYXRpb24gYmVpbmcgMFxyXG5cdFx0aWYgKGxpZ2h0bmVzcyA9PT0gMCB8fCBsaWdodG5lc3MgPT09IDEpIHtcclxuXHRcdFx0bmV3UyA9IDA7XHJcblx0XHR9XHJcblxyXG5cdFx0bGlnaHRuZXNzICo9IDEwMDtcclxuXHRcdG5ld1MgKj0gMTAwO1xyXG5cclxuXHRcdHJldHVybiAnaHNsYSgnICsgdGhpcy5odWUgKyAnLCcgKyBuZXdTICsgJyUsJyArIGxpZ2h0bmVzcyArICclLCcgKyB0aGlzLm9wYWNpdHkgKyAnKSc7XHJcblx0fVxyXG5cclxuXHREaXNwbGF5U3RhdGljKGRpdjogSFRNTERpdkVsZW1lbnQsIHRleHRTaXplOiBudW1iZXIpIHtcclxuXHRcdGNvbnN0IG91dGVyRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xyXG5cdFx0b3V0ZXJEaXYuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG5cdFx0b3V0ZXJEaXYuc3R5bGUud2lkdGggPSAodGV4dFNpemUgKiAzLjI1KSArICdweCc7XHJcblx0XHRvdXRlckRpdi5zdHlsZS5oZWlnaHQgPSAodGV4dFNpemUgKiAzLjI1KSArICdweCc7XHJcblx0XHRvdXRlckRpdi5jbGFzc05hbWUgPSAnY2ZlLXBob3RvZ2x5cGgnO1xyXG5cdFx0Y29uc3QgZ2x5cGhEaXYgPSBvdXRlckRpdi5jcmVhdGVEaXYoKTtcclxuXHRcdGdseXBoRGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuXHRcdGdseXBoRGl2LnRleHRDb250ZW50ID0gdGhpcy5zaGFwZTtcclxuXHRcdGdseXBoRGl2LnN0eWxlLmxlZnQgPSAodGhpcy54ICogdGV4dFNpemUpICsgJ3B4JztcclxuXHRcdGdseXBoRGl2LnN0eWxlLmJvdHRvbSA9ICh0aGlzLnkgKiB0ZXh0U2l6ZSkgKyAncHgnO1xyXG5cdFx0Z2x5cGhEaXYuc3R5bGUuY29sb3IgPSB0aGlzLmNvbG9yO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQ0ZFRmlsZSB9IGZyb20gXCIuL2NmZS1maWxlXCI7XHJcbmltcG9ydCB7IEh3YXl1IH0gZnJvbSBcIi4vY29ubGFuZ3MvaHdheXUtdGV4dFwiO1xyXG5pbXBvcnQgeyBQaG90b0xhbmcgfSBmcm9tIFwiLi9jb25sYW5ncy9waG90b2xhbmctdGV4dFwiO1xyXG5pbXBvcnQgeyBTb3VyY2VBbmRWYXVsdCB9IGZyb20gXCIuL3NudlwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbmxhbmdEaWN0aW9uYXJ5IGV4dGVuZHMgQ0ZFRmlsZSB7XHJcblxyXG5cdGxhbmd1YWdlOiBzdHJpbmc7XHJcblx0d29yZHM6IFtzdHJpbmcsIHN0cmluZ11bXTtcclxuXHRzZWFyY2hUZXJtOiBzdHJpbmc7XHJcblx0c2VhcmNoSW5Db25sYW5nOiBib29sZWFuO1xyXG5cclxuXHRzdGF0aWMgb3ZlcnJpZGUgYXN5bmMgQ3JlYXRlTmV3RmlsZUZvckxheWVyKHNudjogU291cmNlQW5kVmF1bHQsIGZpbGVUeXBlOiBzdHJpbmcsIHBhcmVudEZvbGRlcklEOiBudW1iZXIpOiBQcm9taXNlPENvbmxhbmdEaWN0aW9uYXJ5PiB7XHJcblx0XHRjb25zdCB1bmZpbmlzaGVkRGljdGlvbmFyeSA9IDxDb25sYW5nRGljdGlvbmFyeT4gYXdhaXQgc3VwZXIuQ3JlYXRlTmV3RmlsZUZvckxheWVyKHNudiwgZmlsZVR5cGUsIHBhcmVudEZvbGRlcklEKTtcclxuXHRcdHVuZmluaXNoZWREaWN0aW9uYXJ5Lmxhbmd1YWdlID0gJ0h3YXl1JztcclxuXHRcdHVuZmluaXNoZWREaWN0aW9uYXJ5LndvcmRzID0gW107XHJcblx0XHR1bmZpbmlzaGVkRGljdGlvbmFyeS5zZWFyY2hUZXJtID0gJyc7XHJcblx0XHR1bmZpbmlzaGVkRGljdGlvbmFyeS5zZWFyY2hJbkNvbmxhbmcgPSBmYWxzZTtcclxuXHRcdHJldHVybiB1bmZpbmlzaGVkRGljdGlvbmFyeTtcclxuXHR9XHJcblxyXG5cdG92ZXJyaWRlIGFzeW5jIERpc3BsYXkoc252OiBTb3VyY2VBbmRWYXVsdCwgbWFpbkRpdjogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGF3YWl0IHN1cGVyLkRpc3BsYXkoc252LCBtYWluRGl2KTtcclxuXHJcblx0XHRjb25zdCBsYW5ndWFnZURyb3Bkb3duID0gbWFpbkRpdi5jcmVhdGVFbCgnc2VsZWN0Jyk7XHJcblx0XHRsYW5ndWFnZURyb3Bkb3duLmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6ICdId2F5dScsIHZhbHVlOiAnSHdheXUnIH0gKTtcclxuXHRcdGxhbmd1YWdlRHJvcGRvd24uY3JlYXRlRWwoJ29wdGlvbicsIHsgdGV4dDogJ1Bob3RvbGFuZycsIHZhbHVlOiAnUGhvdG9sYW5nJyB9ICk7XHJcblx0XHRsYW5ndWFnZURyb3Bkb3duLnZhbHVlID0gdGhpcy5sYW5ndWFnZTtcclxuXHJcblx0XHRjb25zdCBhZGRXb3JkRGl2ID0gbWFpbkRpdi5jcmVhdGVEaXYoJ3Zib3gnKTtcclxuXHRcdGF3YWl0IHRoaXMuQ3JlYXRlTmV3V29yZEVkaXRvcihzbnYsIG1haW5EaXYsIGFkZFdvcmREaXYpO1xyXG5cclxuXHRcdGxhbmd1YWdlRHJvcGRvd24ub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdHRoaXMubGFuZ3VhZ2UgPSBsYW5ndWFnZURyb3Bkb3duLnZhbHVlO1xyXG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcclxuXHRcdFx0YXdhaXQgdGhpcy5EaXNwbGF5KHNudiwgbWFpbkRpdik7XHJcblx0XHR9XHJcblxyXG5cdFx0YXdhaXQgdGhpcy5EaXNwbGF5TGlzdChzbnYsIG1haW5EaXYpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBEaXNwbGF5V29yZChzbnY6IFNvdXJjZUFuZFZhdWx0LCBtYWluRGl2OiBIVE1MRGl2RWxlbWVudCwgZGl2OiBIVE1MRGl2RWxlbWVudCwgaW5kZXg6IG51bWJlcikge1xyXG5cdFx0ZGl2LmVtcHR5KCk7XHJcblxyXG5cdFx0Y29uc3QgbW9kZUJ1dHRvbiA9IGRpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnRWRpdCcgfSApO1xyXG5cdFx0bW9kZUJ1dHRvbi5zdHlsZS50b3AgPSAnMCc7XHJcblx0XHRtb2RlQnV0dG9uLnN0eWxlLnJpZ2h0ID0gJzAnO1xyXG5cdFx0bW9kZUJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRhd2FpdCB0aGlzLkVkaXRXb3JkKHNudiwgbWFpbkRpdiwgZGl2LCBpbmRleCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgd29yZERpdiA9IGRpdi5jcmVhdGVEaXYoJ2hib3gnKTtcclxuXHRcdHdvcmREaXYuc3R5bGUuZ2FwID0gJzElJztcclxuXHRcdHdvcmREaXYuc3R5bGUuZm9udFNpemUgPSAnMjVweCc7XHJcblx0XHRjb25zdCBjb25sYW5nV29yZCA9IHRoaXMud29yZHNbaW5kZXhdWzBdO1xyXG5cdFx0Y29uc3QgZGVmaW5pdGlvbiA9IHRoaXMud29yZHNbaW5kZXhdWzFdO1xyXG5cdFx0Y29uc3QgY29ubGFuZ1dvcmREaXYgPSB0aGlzLkRpc3BsYXlDb25sYW5nVGV4dCh3b3JkRGl2LCBjb25sYW5nV29yZCk7XHJcblx0XHRjb25sYW5nV29yZERpdi5jbGFzc0xpc3QuYWRkKCdjZmUtcG9pbnRlci1ob3ZlcicpO1xyXG5cdFx0d29yZERpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJzonIH0gKTtcclxuXHRcdHdvcmREaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6IGRlZmluaXRpb24gfSApO1xyXG5cclxuXHRcdGNvbmxhbmdXb3JkRGl2Lm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0YXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoY29ubGFuZ1dvcmQpO1xyXG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY29weSB0ZXh0OiAnLCBlcnIpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIEVkaXRXb3JkKHNudjogU291cmNlQW5kVmF1bHQsIG1haW5EaXY6IEhUTUxEaXZFbGVtZW50LCBkaXY6IEhUTUxEaXZFbGVtZW50LCBpbmRleDogbnVtYmVyKSB7XHJcblx0XHRkaXYuZW1wdHkoKTtcclxuXHRcdGNvbnN0IGJ1dHRvbnNEaXYgPSBkaXYuY3JlYXRlRGl2KCdoYm94Jyk7XHJcblxyXG5cdFx0Y29uc3QgbW9kZUJ1dHRvbiA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1ZpZXcnIH0gKTtcclxuXHRcdG1vZGVCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0YXdhaXQgdGhpcy5EaXNwbGF5V29yZChzbnYsIG1haW5EaXYsIGRpdiwgaW5kZXgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0RlbGV0ZScgfSApO1xyXG5cdFx0ZGVsZXRlQnV0dG9uLmNsYXNzTGlzdCA9ICdjZmUtcmVtb3ZlLWJ1dHRvbic7XHJcblx0XHRkZWxldGVCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0dGhpcy53b3Jkcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcclxuXHRcdFx0YXdhaXQgdGhpcy5EaXNwbGF5KHNudiwgbWFpbkRpdik7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgd29yZERpdiA9IGRpdi5jcmVhdGVEaXYoJ3Zib3gnKTtcclxuXHRcdHdvcmREaXYuc3R5bGUuZm9udFNpemUgPSAnMjVweCc7XHJcblx0XHR3b3JkRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnV29yZCBpbiAnICsgdGhpcy5sYW5ndWFnZSB9ICk7XHJcblx0XHRjb25zdCBjb25sYW5nV29yZCA9IHRoaXMud29yZHNbaW5kZXhdWzBdO1xyXG5cdFx0Y29uc3QgZGVmaW5pdGlvbiA9IHRoaXMud29yZHNbaW5kZXhdWzFdO1xyXG5cdFx0Y29uc3QgbmV3V29yZElucHV0ID0gdGhpcy5EaXNwbGF5Q29ubGFuZ0VkaXRvcih3b3JkRGl2LCBjb25sYW5nV29yZCk7XHJcblxyXG5cdFx0d29yZERpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0RlZmluaXRpb24nIH0gKTtcclxuXHRcdGNvbnN0IGRlZmluaXRpb25JbnB1dCA9IHdvcmREaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiBkZWZpbml0aW9uIH0gKTtcclxuXHRcdGRlZmluaXRpb25JbnB1dC5zdHlsZS5mb250U2l6ZSA9ICcyNXB4JztcclxuXHJcblx0XHRjb25zdCBvblN1Ym1pdCA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0dGhpcy53b3Jkc1tpbmRleF0gPSBbbmV3V29yZElucHV0LnZhbHVlLCBkZWZpbml0aW9uSW5wdXQudmFsdWVdO1xyXG5cdFx0XHR0aGlzLlJlU29ydChpbmRleCk7XHJcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xyXG5cdFx0XHRhd2FpdCB0aGlzLkRpc3BsYXkoc252LCBtYWluRGl2KTtcclxuXHRcdH1cclxuXHJcblx0XHRkaXYub25rZXlkb3duID0gYXN5bmMgKGV2ZW50KSA9PiB7XHJcblx0XHRcdGlmIChldmVudC5rZXkgPT09ICdFbnRlcicpIHtcclxuXHRcdFx0XHRhd2FpdCBvblN1Ym1pdCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIENyZWF0ZU5ld1dvcmRFZGl0b3Ioc252OiBTb3VyY2VBbmRWYXVsdCwgbWFpbkRpdjogSFRNTERpdkVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuXHRcdGRpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0FkZCBOZXcgV29yZDonIH0gKTtcclxuXHRcdGRpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ1dvcmQgaW4gJyArIHRoaXMubGFuZ3VhZ2UgfSApO1xyXG5cdFx0Y29uc3QgbmV3V29yZElucHV0ID0gdGhpcy5EaXNwbGF5Q29ubGFuZ0VkaXRvcihkaXYpO1xyXG5cclxuXHRcdGRpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0RlZmluaXRpb24nIH0gKTtcclxuXHRcdGNvbnN0IGRlZmluaXRpb25JbnB1dCA9IGRpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6ICcnIH0gKTtcclxuXHRcdGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGRpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnc3VibWl0JyB9ICk7XHJcblxyXG5cdFx0Y29uc3Qgb25TdWJtaXQgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdHRoaXMud29yZHMucHVzaChbbmV3V29yZElucHV0LnZhbHVlLCBkZWZpbml0aW9uSW5wdXQudmFsdWVdKTtcclxuXHRcdFx0dGhpcy5SZVNvcnQodGhpcy53b3Jkcy5sZW5ndGggLSAxKTtcclxuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XHJcblx0XHRcdGF3YWl0IHRoaXMuRGlzcGxheShzbnYsIG1haW5EaXYpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHN1Ym1pdEJ1dHRvbi5vbmNsaWNrID0gb25TdWJtaXQ7XHJcblx0XHRkaXYub25rZXlkb3duID0gYXN5bmMgKGV2ZW50KSA9PiB7XHJcblx0XHRcdGlmIChldmVudC5rZXkgPT09ICdFbnRlcicpIHtcclxuXHRcdFx0XHRhd2FpdCBvblN1Ym1pdCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIERpc3BsYXlDb25sYW5nRWRpdG9yKGRpdjogSFRNTERpdkVsZW1lbnQsIGV4aXN0aW5nV29yZCA9ICcnKSB7XHJcblx0XHRzd2l0Y2godGhpcy5sYW5ndWFnZSkge1xyXG5cdFx0XHRjYXNlICdId2F5dSc6XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0cmV0dXJuIEh3YXl1LkNyZWF0ZVRleHRJbnB1dChkaXYsIGV4aXN0aW5nV29yZCwgMjUsIGZhbHNlKTtcclxuXHRcdFx0Y2FzZSAnUGhvdG9sYW5nJzpcclxuXHRcdFx0XHRyZXR1cm4gUGhvdG9MYW5nLkNyZWF0ZVRleHRJbnB1dChkaXYsIGV4aXN0aW5nV29yZCwgMjUpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBEaXNwbGF5Q29ubGFuZ1RleHQoZGl2OiBIVE1MRGl2RWxlbWVudCwgZXhpc3RpbmdXb3JkID0gJycpIHtcclxuXHRcdHN3aXRjaCh0aGlzLmxhbmd1YWdlKSB7XHJcblx0XHRcdGNhc2UgJ0h3YXl1JzpcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRyZXR1cm4gSHdheXUuRGlzcGxheShkaXYsIGV4aXN0aW5nV29yZCwgMjUsIGZhbHNlKTtcclxuXHRcdFx0Y2FzZSAnUGhvdG9sYW5nJzpcclxuXHRcdFx0XHRyZXR1cm4gUGhvdG9MYW5nLkRpc3BsYXkoZGl2LCBleGlzdGluZ1dvcmQsIDI1LCBudWxsLCBudWxsLCB0cnVlKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgRGlzcGxheUxpc3Qoc252OiBTb3VyY2VBbmRWYXVsdCwgZGl2OiBIVE1MRGl2RWxlbWVudCkge1xyXG5cdFx0ZGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnU2VhcmNoIGluICcgKyB0aGlzLmxhbmd1YWdlICsgJz8nIH0gKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgY2hlY2tib3ggPSBkaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnY2hlY2tib3gnIH0gKTtcclxuXHRcdGNoZWNrYm94LmNoZWNrZWQgPSB0aGlzLnNlYXJjaEluQ29ubGFuZztcclxuXHJcblx0XHRkaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdTZWFyY2ggdGVybScgfSApO1xyXG5cdFx0XHJcblx0XHRjb25zdCBjb25sYW5nU2VhcmNoID0gdGhpcy5EaXNwbGF5Q29ubGFuZ0VkaXRvcihkaXYsIHRoaXMuc2VhcmNoVGVybSk7XHJcblx0XHRjb25zdCBlbmdsaXNoU2VhcmNoID0gZGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy5zZWFyY2hUZXJtIH0gKTtcclxuXHRcdFxyXG5cdFx0bGV0IHByZXZFbGVtZW50ID0gY2hlY2tib3guY2hlY2tlZCA/IGVuZ2xpc2hTZWFyY2ggOiBjb25sYW5nU2VhcmNoO1xyXG5cdFx0bGV0IGN1cnJlbnRFbGVtZW50ID0gY2hlY2tib3guY2hlY2tlZCA/IGNvbmxhbmdTZWFyY2ggOiBlbmdsaXNoU2VhcmNoO1xyXG5cdFx0cHJldkVsZW1lbnQuc3R5bGUud2lkdGggPSAnMTAwJSc7XHJcblx0XHRjdXJyZW50RWxlbWVudC5zdHlsZS53aWR0aCA9ICcxMDAlJztcclxuXHJcblx0XHR0aGlzLnNlYXJjaFRlcm0gPSBwcmV2RWxlbWVudC52YWx1ZTtcclxuXHJcblx0XHRwcmV2RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdFx0Y3VycmVudEVsZW1lbnQudmFsdWUgPSB0aGlzLnNlYXJjaFRlcm07XHJcblx0XHRjdXJyZW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcblx0XHRcclxuXHRcdGNvbnN0IHJlc3VsdHNEaXYgPSBkaXYuY3JlYXRlRGl2KCdjZmUtZGljdGlvbmFyeS1ncmlkJyk7XHJcblx0XHRcclxuXHRcdGNvbnN0IHJlZnJlc2hSZXN1bHRzID0gKCkgPT4ge1xyXG5cdFx0XHR0aGlzLnNlYXJjaFRlcm0gPSBjdXJyZW50RWxlbWVudC52YWx1ZTtcclxuXHRcdFx0dGhpcy5zZWFyY2hJbkNvbmxhbmcgPSBjaGVja2JveC5jaGVja2VkO1xyXG5cdFx0XHRyZXN1bHRzRGl2LmVtcHR5KCk7XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy53b3Jkcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGlmICh0aGlzLndvcmRzW2ldW2NoZWNrYm94LmNoZWNrZWQgPyAwIDogMV0uY29udGFpbnMoY3VycmVudEVsZW1lbnQudmFsdWUpKSB7XHJcblx0XHRcdFx0XHRjb25zdCB3b3JkRGl2ID0gcmVzdWx0c0Rpdi5jcmVhdGVEaXYoJ2NmZS1kaWN0aW9uYXJ5LXdvcmQnKTtcclxuXHRcdFx0XHRcdHRoaXMuRGlzcGxheVdvcmQoc252LCBkaXYsIHdvcmREaXYsIGkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJlZnJlc2hSZXN1bHRzKCk7XHJcblxyXG5cdFx0Y29ubGFuZ1NlYXJjaC5vbmlucHV0ID0gcmVmcmVzaFJlc3VsdHM7XHJcblxyXG5cdFx0ZW5nbGlzaFNlYXJjaC5vbmlucHV0ID0gcmVmcmVzaFJlc3VsdHM7XHJcblxyXG5cdFx0Y2hlY2tib3gub25jaGFuZ2UgPSAoKSA9PiB7XHJcblx0XHRcdHJlc3VsdHNEaXYuZW1wdHkoKTtcclxuXHJcblx0XHRcdHByZXZFbGVtZW50ID0gY2hlY2tib3guY2hlY2tlZCA/IGVuZ2xpc2hTZWFyY2ggOiBjb25sYW5nU2VhcmNoO1xyXG5cdFx0XHRjdXJyZW50RWxlbWVudCA9IGNoZWNrYm94LmNoZWNrZWQgPyBjb25sYW5nU2VhcmNoIDogZW5nbGlzaFNlYXJjaDtcclxuXHRcdFx0dGhpcy5zZWFyY2hUZXJtID0gcHJldkVsZW1lbnQudmFsdWU7XHJcblxyXG5cdFx0XHRwcmV2RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdFx0XHRjdXJyZW50RWxlbWVudC52YWx1ZSA9IHRoaXMuc2VhcmNoVGVybTtcclxuXHRcdFx0Y3VycmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG5cdFx0XHRcclxuXHRcdFx0cmVmcmVzaFJlc3VsdHMoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgUmVTb3J0KGluZGV4T2ZDaGFuZ2VkV29yZDogbnVtYmVyKSB7XHJcblx0XHRjb25zdCBjaGFuZ2VkV29yZCA9IHRoaXMud29yZHMuc3BsaWNlKGluZGV4T2ZDaGFuZ2VkV29yZCwgMSlbMF07XHJcblx0XHRsZXQgaSA9IDA7XHJcblx0XHRsZXQgbGVmdCA9IDA7XHJcblx0XHRsZXQgcmlnaHQgPSB0aGlzLndvcmRzLmxlbmd0aCAtIDE7XHJcblx0XHRcclxuXHRcdHdoaWxlIChsZWZ0IDw9IHJpZ2h0KSB7XHJcblx0XHRcdGNvbnN0IG1pZCA9IE1hdGguZmxvb3IoKGxlZnQgKyByaWdodCkgLyAyKTtcclxuXHRcdFx0aWYgKHRoaXMud29yZHNbbWlkXVswXSA8IGNoYW5nZWRXb3JkWzBdKSB7XHJcblx0XHRcdFx0bGVmdCA9IG1pZCArIDE7XHJcblx0XHRcdFx0aSA9IGxlZnQ7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmlnaHQgPSBtaWQgLSAxO1xyXG5cdFx0XHRcdGkgPSBtaWQ7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLndvcmRzLnNwbGljZShpLCAwLCBjaGFuZ2VkV29yZCk7XHJcblx0fVxyXG5cclxufVxyXG4iLCAiaW1wb3J0IHsgQ0ZFRmlsZSB9IGZyb20gXCIuL2NmZS1maWxlXCI7XHJcbmltcG9ydCB7IENGRUZpbGVIYW5kbGVyIH0gZnJvbSBcIi4vY2ZlLWZpbGUtaGFuZGxlclwiO1xyXG5pbXBvcnQgeyBTaW5nbGVNZWRpYUZpbGUgfSBmcm9tIFwiLi9zaW5nbGUtbWVkaWEtZmlsZVwiO1xyXG5pbXBvcnQgeyBTb3VyY2VBbmRWYXVsdCB9IGZyb20gXCIuL3NudlwiO1xyXG5pbXBvcnQgeyBQaG90b0xhbmcsIFBob3RvTGluZSB9IGZyb20gXCIuL2NvbmxhbmdzL3Bob3RvbGFuZy10ZXh0XCI7XHJcbmltcG9ydCB7IEh3YXl1IH0gZnJvbSBcIi4vY29ubGFuZ3MvaHdheXUtdGV4dFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0b3J5IGV4dGVuZHMgQ0ZFRmlsZSB7XHJcblx0cHJpdmF0ZSBjdXJyZW50UGFnZUluZGV4OiBudW1iZXI7XHJcblx0cHJpdmF0ZSBwYWdlczogUGFnZVtdO1xyXG5cdHByaXZhdGUgY2hhcmFjdGVyczogQ2hhcmFjdGVyW107XHJcblx0cHJpdmF0ZSBsYW5ndWFnZTogc3RyaW5nO1xyXG5cdHByaXZhdGUgZG9WZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMga25vd25MYW5ndWFnZXMgPSBbXHJcblx0XHQnRW5nbGlzaCcsXHJcblx0XHQnSHdheXUnLFxyXG5cdFx0J1Bob3RvbGFuZydcclxuXHRdXHJcblxyXG5cdHByaXZhdGUgTWFrZVZlcnRpY2FsKGVsOiBIVE1MRWxlbWVudCkge1xyXG5cdFx0ZWwuc3R5bGUud3JpdGluZ01vZGUgPSAndmVydGljYWwtbHInO1xyXG5cdFx0ZWwuc3R5bGUudGV4dE9yaWVudGF0aW9uID0gJ3VwcmlnaHQnO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBDcmVhdGVUZXh0SW5wdXQoZGl2OiBIVE1MRGl2RWxlbWVudCwgZXhpc3RpbmdXb3JkID0gJycpIHtcclxuXHRcdGxldCBpbnB1dDtcclxuXHRcdHN3aXRjaCh0aGlzLmxhbmd1YWdlKSB7XHJcblx0XHRcdGNhc2UgJ0h3YXl1JzpcclxuXHRcdFx0XHRyZXR1cm4gSHdheXUuQ3JlYXRlVGV4dElucHV0KGRpdiwgZXhpc3RpbmdXb3JkLCAyNSwgdGhpcy5kb1ZlcnRpY2FsKTtcclxuXHRcdFx0Y2FzZSAnUGhvdG9sYW5nJzpcclxuXHRcdFx0XHRyZXR1cm4gUGhvdG9MYW5nLkNyZWF0ZVRleHRJbnB1dChkaXYsIGV4aXN0aW5nV29yZCwgMjUpO1xyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdGlucHV0ID0gZGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogZXhpc3RpbmdXb3JkIH0gKTtcclxuXHRcdFx0XHRpbnB1dC5zdHlsZS5mb250U2l6ZSA9ICcyNXB4JztcclxuXHRcdFx0XHRyZXR1cm4gaW5wdXQ7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIERpc3BsYXlMaW5lRWRpdChkaXY6IEhUTUxEaXZFbGVtZW50LCBsaW5lOiBEaWFsb2d1ZUxpbmUpIHtcclxuXHRcdGNvbnN0IGlucHV0ID0gdGhpcy5DcmVhdGVUZXh0QXJlYShkaXYsIGxpbmUuY29udGVudCk7XHJcblx0XHRpZiAodGhpcy5sYW5ndWFnZSAhPT0gJ1Bob3RvbGFuZycpIHtcclxuXHRcdFx0Y29uc3Qgc3BlYWtlciA9IHRoaXMuY2hhcmFjdGVyc1tsaW5lLnNwZWFrZXJJbmRleF07XHJcblx0XHRcdGlucHV0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHNwZWFrZXIuYmFja2dyb3VuZENvbG9yO1xyXG5cdFx0XHRpbnB1dC5zdHlsZS5jb2xvciA9IHNwZWFrZXIuY29sb3I7XHJcblx0XHR9XHJcblx0XHRpZiAodGhpcy5kb1ZlcnRpY2FsKSB7XHJcblx0XHRcdHRoaXMuTWFrZVZlcnRpY2FsKGlucHV0KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBpbnB1dDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgQ3JlYXRlVGV4dEFyZWEoZGl2OiBIVE1MRGl2RWxlbWVudCwgZXhpc3RpbmdXb3JkID0gJycpIHtcclxuXHRcdGxldCBpbnB1dDtcclxuXHRcdHN3aXRjaCh0aGlzLmxhbmd1YWdlKSB7XHJcblx0XHRcdGNhc2UgJ0h3YXl1JzpcclxuXHRcdFx0XHRyZXR1cm4gSHdheXUuQ3JlYXRlVGV4dEFyZWEoZGl2LCBleGlzdGluZ1dvcmQsIDI1LCB0aGlzLmRvVmVydGljYWwpO1xyXG5cdFx0XHRjYXNlICdQaG90b2xhbmcnOlxyXG5cdFx0XHRcdHJldHVybiBQaG90b0xhbmcuQ3JlYXRlVGV4dEFyZWEoZGl2LCBleGlzdGluZ1dvcmQsIDI1KTtcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRpbnB1dCA9IGRpdi5jcmVhdGVFbCgndGV4dGFyZWEnLCB7IHRleHQ6IGV4aXN0aW5nV29yZCB9ICk7XHJcblx0XHRcdFx0aW5wdXQuc3R5bGUuZm9udFNpemUgPSAnMjVweCc7XHJcblx0XHRcdFx0cmV0dXJuIGlucHV0O1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBEaXNwbGF5VGV4dChkaXY6IEhUTUxEaXZFbGVtZW50LCBmb250U2l6ZSA9IDI1LCBleGlzdGluZ1dvcmQgPSAnJykge1xyXG5cdFx0c3dpdGNoKHRoaXMubGFuZ3VhZ2UpIHtcclxuXHRcdFx0Y2FzZSAnSHdheXUnOlxyXG5cdFx0XHRcdHJldHVybiBId2F5dS5EaXNwbGF5KGRpdiwgZXhpc3RpbmdXb3JkLCBmb250U2l6ZSwgdGhpcy5kb1ZlcnRpY2FsKTtcclxuXHRcdFx0Y2FzZSAnUGhvdG9sYW5nJzpcclxuXHRcdFx0XHRyZXR1cm4gUGhvdG9MYW5nLkRpc3BsYXkoZGl2LCBleGlzdGluZ1dvcmQsIGZvbnRTaXplLCBudWxsLCBudWxsLCB0cnVlKTtcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRyZXR1cm4gZGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiBleGlzdGluZ1dvcmQgfSApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0c3RhdGljIG92ZXJyaWRlIGFzeW5jIENyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnY6IFNvdXJjZUFuZFZhdWx0LCBmaWxlVHlwZTogc3RyaW5nLCBwYXJlbnRGb2xkZXJJRDogbnVtYmVyKTogUHJvbWlzZTxTdG9yeT4ge1xyXG5cdFx0Y29uc3QgbmV3U3RvcnlGaWxlID0gPFN0b3J5PiAoYXdhaXQgc3VwZXIuQ3JlYXRlTmV3RmlsZUZvckxheWVyKHNudiwgZmlsZVR5cGUsIHBhcmVudEZvbGRlcklEKSk7XHJcblx0XHRuZXdTdG9yeUZpbGUuY3VycmVudFBhZ2VJbmRleCA9IDA7XHJcblx0XHRuZXdTdG9yeUZpbGUucGFnZXMgPSBbXTtcclxuXHRcdG5ld1N0b3J5RmlsZS5jaGFyYWN0ZXJzID0gW107XHJcblx0XHRuZXdTdG9yeUZpbGUubGFuZ3VhZ2UgPSAnRW5nbGlzaCc7XHJcblx0XHRuZXdTdG9yeUZpbGUuZG9WZXJ0aWNhbCA9IGZhbHNlO1xyXG5cdFx0cmV0dXJuIG5ld1N0b3J5RmlsZTtcclxuXHR9XHJcblxyXG5cdG92ZXJyaWRlIGFzeW5jIERpc3BsYXkoc252OiBTb3VyY2VBbmRWYXVsdCwgbWFpbkRpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuXHRcdGF3YWl0IHN1cGVyLkRpc3BsYXkoc252LCBtYWluRGl2KTtcclxuXHRcdHRoaXMuTG9hZFN0b3J5VUkoc252LCBtYWluRGl2LmNyZWF0ZURpdigndmJveCcpKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgTG9hZFN0b3J5VUkoc252OiBTb3VyY2VBbmRWYXVsdCwgbWFpbkRpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuXHRcdG1haW5EaXYuZW1wdHkoKTtcclxuXHRcdG1haW5EaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdHbyB0byBwYWdlIG51bWJlcjonIH0gKTtcclxuXHRcdGNvbnN0IHBhZ2VTZWxlY3REaXYgPSBtYWluRGl2LmNyZWF0ZURpdignaGJveCcpO1xyXG5cdFx0Y29uc3QgcGFnZU51bWJlcklucHV0ID0gcGFnZVNlbGVjdERpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6ICcnICsgKHRoaXMuY3VycmVudFBhZ2VJbmRleCArIDEpIH0gKTtcclxuXHRcdHBhZ2VTZWxlY3REaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICcnICsgJy8nICsgdGhpcy5wYWdlcy5sZW5ndGggfSApO1xyXG5cdFx0Y29uc3QgZ29CdXR0b24gPSBwYWdlU2VsZWN0RGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdHbycgfSApO1xyXG5cdFx0Z29CdXR0b24ub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0dGhpcy5jdXJyZW50UGFnZUluZGV4ID0gcGFyc2VJbnQocGFnZU51bWJlcklucHV0LnZhbHVlKSAtIDE7XHJcblx0XHRcdHRoaXMuTG9hZEN1cnJlbnRQYWdlRWRpdChzbnYsIG1haW5EaXYpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGxhbmd1YWdlSW5wdXQgPSBtYWluRGl2LmNyZWF0ZUVsKCdzZWxlY3QnKTtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgU3Rvcnkua25vd25MYW5ndWFnZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0bGFuZ3VhZ2VJbnB1dC5jcmVhdGVFbCgnb3B0aW9uJywgeyB0ZXh0OiBTdG9yeS5rbm93bkxhbmd1YWdlc1tpXSwgdmFsdWU6IFN0b3J5Lmtub3duTGFuZ3VhZ2VzW2ldIH0gKTtcclxuXHRcdH1cclxuXHRcdGxhbmd1YWdlSW5wdXQudmFsdWUgPSB0aGlzLmxhbmd1YWdlO1xyXG5cdFx0bGFuZ3VhZ2VJbnB1dC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0dGhpcy5sYW5ndWFnZSA9IGxhbmd1YWdlSW5wdXQudmFsdWU7XHJcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xyXG5cdFx0XHR0aGlzLkxvYWRTdG9yeVVJKHNudiwgbWFpbkRpdik7XHJcblx0XHR9XHJcblxyXG5cdFx0bWFpbkRpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ1ZlcnRpY2FsIFRleHQnIH0gKTtcclxuXHRcdGNvbnN0IGRvVmVydGljYWxCb3ggPSBtYWluRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ2NoZWNrYm94JyB9ICk7XHJcblx0XHRkb1ZlcnRpY2FsQm94LmNoZWNrZWQgPSB0aGlzLmRvVmVydGljYWw7XHJcblx0XHRkb1ZlcnRpY2FsQm94Lm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdHRoaXMuZG9WZXJ0aWNhbCA9IGRvVmVydGljYWxCb3guY2hlY2tlZDtcclxuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XHJcblx0XHRcdHRoaXMuTG9hZFN0b3J5VUkoc252LCBtYWluRGl2KTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLkxvYWRDaGFyYWN0ZXJFZGl0b3JVSShzbnYsIG1haW5EaXYpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBMb2FkQ2hhcmFjdGVyRWRpdG9yVUkoc252OiBTb3VyY2VBbmRWYXVsdCwgZGl2OiBIVE1MRGl2RWxlbWVudCkge1xyXG5cdFx0Y29uc3QgY2hhckVkaXRvckRpdiA9IGRpdi5jcmVhdGVEaXYoKTtcclxuXHRcdGNoYXJFZGl0b3JEaXYuY2xhc3NOYW1lID0gdGhpcy5kb1ZlcnRpY2FsID8gJ2hib3gnIDogJ3Zib3gnO1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoYXJhY3RlcnMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0Y29uc3QgY3VycmVudEluZGV4ID0gaTtcclxuXHRcdFx0Y29uc3QgY2hhckRpdiA9IGNoYXJFZGl0b3JEaXYuY3JlYXRlRGl2KCk7XHJcblx0XHRcdGNoYXJEaXYuY2xhc3NOYW1lID0gdGhpcy5kb1ZlcnRpY2FsID8gJ3Zib3gnIDogJ2hib3gnO1xyXG5cclxuXHRcdFx0Y2hhckRpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ05hbWU6ICcgfSApO1xyXG5cdFx0XHRjb25zdCBuYW1lSW5wdXQgPSB0aGlzLkNyZWF0ZVRleHRJbnB1dChjaGFyRGl2LCB0aGlzLmNoYXJhY3RlcnNbY3VycmVudEluZGV4XS5uYW1lKTtcclxuXHRcdFx0aWYgKHRoaXMubGFuZ3VhZ2UgIT09ICdQaG90b2xhbmcnKSB7XHJcblx0XHRcdFx0bmFtZUlucHV0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRoaXMuY2hhcmFjdGVyc1tjdXJyZW50SW5kZXhdLmJhY2tncm91bmRDb2xvcjtcclxuXHRcdFx0XHRuYW1lSW5wdXQuc3R5bGUuY29sb3IgPSB0aGlzLmNoYXJhY3RlcnNbY3VycmVudEluZGV4XS5jb2xvcjtcclxuXHRcdFx0fVxyXG5cdFx0XHRuYW1lSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRJbmRleF0ubmFtZSA9IG5hbWVJbnB1dC52YWx1ZTtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcclxuXHRcdFx0XHR0aGlzLkxvYWRTdG9yeVVJKHNudiwgZGl2KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodGhpcy5kb1ZlcnRpY2FsKSB7XHJcblx0XHRcdFx0bmFtZUlucHV0LnN0eWxlLmhlaWdodCA9ICdmaXQtY29udGVudCc7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0bmFtZUlucHV0LnN0eWxlLndpZHRoID0gJ2ZpdC1jb250ZW50JztcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodGhpcy5sYW5ndWFnZSAhPT0gJ1Bob3RvbGFuZycpIHtcclxuXHRcdFx0XHR0aGlzLkxvYWRDaGFyYWN0ZXJDb2xvclNlbGVjdGlvblVJKHNudiwgZGl2LCBjaGFyRWRpdG9yRGl2LCBjdXJyZW50SW5kZXgpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuRGlzcGxheVRleHQoY2hhckRpdiwgMjUsIHRoaXMuY2hhcmFjdGVyc1tjdXJyZW50SW5kZXhdLm5hbWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRjb25zdCBhZGRDaGFyQnV0dG9uID0gY2hhckVkaXRvckRpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQWRkIENoYXJhY3RlcicgfSApO1xyXG5cdFx0YWRkQ2hhckJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmNoYXJhY3RlcnMucHVzaChuZXcgQ2hhcmFjdGVyKCkpO1xyXG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcclxuXHRcdFx0Y2hhckVkaXRvckRpdi5yZW1vdmUoKTtcclxuXHRcdFx0dGhpcy5Mb2FkQ2hhcmFjdGVyRWRpdG9yVUkoc252LCBkaXYpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBMb2FkQ2hhcmFjdGVyQ29sb3JTZWxlY3Rpb25VSShzbnY6IFNvdXJjZUFuZFZhdWx0LCBkaXY6IEhUTUxEaXZFbGVtZW50LCBjaGFyRWRpdG9yRGl2OiBIVE1MRGl2RWxlbWVudCwgY3VycmVudEluZGV4OiBudW1iZXIpIHtcclxuXHRcdGNvbnN0IGNvbG9yRGl2ID0gY2hhckVkaXRvckRpdi5jcmVhdGVEaXYoKTtcclxuXHRcdGNvbG9yRGl2LmNsYXNzTmFtZSA9IHRoaXMuZG9WZXJ0aWNhbCA/ICd2Ym94JyA6ICdoYm94JztcclxuXHRcdGNvbG9yRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnVGV4dCBDb2xvcjonIH0gKTtcclxuXHRcdGNvbnN0IGNvbG9ySW5wdXQgPSBjb2xvckRpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdjb2xvcicsIHZhbHVlOiB0aGlzLmNoYXJhY3RlcnNbY3VycmVudEluZGV4XS5jb2xvciB9ICk7XHJcblx0XHRjb2xvckRpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0JhY2tncm91bmQgQ29sb3I6JyB9ICk7XHJcblx0XHRjb25zdCBiYWNrZ3JvdW5kSW5wdXQgPSBjb2xvckRpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdjb2xvcicsIHZhbHVlOiB0aGlzLmNoYXJhY3RlcnNbY3VycmVudEluZGV4XS5iYWNrZ3JvdW5kQ29sb3IgfSApO1xyXG5cdFx0Y29uc3Qgc3dhcEJ1dHRvbiA9IGNvbG9yRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdTd2FwJyB9ICk7XHJcblx0XHRjb2xvcklucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmNoYXJhY3RlcnNbY3VycmVudEluZGV4XS5jb2xvciA9IGNvbG9ySW5wdXQudmFsdWU7XHJcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xyXG5cdFx0fVxyXG5cdFx0YmFja2dyb3VuZElucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmNoYXJhY3RlcnNbY3VycmVudEluZGV4XS5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kSW5wdXQudmFsdWU7XHJcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xyXG5cdFx0fVxyXG5cdFx0c3dhcEJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmNoYXJhY3RlcnNbY3VycmVudEluZGV4XS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcklucHV0LnZhbHVlO1xyXG5cdFx0XHR0aGlzLmNoYXJhY3RlcnNbY3VycmVudEluZGV4XS5jb2xvciA9IGJhY2tncm91bmRJbnB1dC52YWx1ZTtcclxuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XHJcblx0XHRcdGNoYXJFZGl0b3JEaXYucmVtb3ZlKCk7XHJcblx0XHRcdHRoaXMuTG9hZENoYXJhY3RlckVkaXRvclVJKHNudiwgZGl2KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgTG9hZFBhZ2VTZWxlY3RvcihzbnY6IFNvdXJjZUFuZFZhdWx0LCBtYWluRGl2OiBIVE1MRGl2RWxlbWVudCkge1xyXG5cdFx0Y29uc3QgYnV0dG9uc0RpdiA9IG1haW5EaXYuY3JlYXRlRGl2KCdoYm94Jyk7XHJcblx0XHRjb25zdCBiYWNrQnV0dG9uID0gYnV0dG9uc0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnLScgfSApO1xyXG5cdFx0Y29uc3QgcGFnZU51bWJlcklucHV0ID0gYnV0dG9uc0Rpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6ICcnICsgKHRoaXMuY3VycmVudFBhZ2VJbmRleCArIDEpIH0gKTtcclxuXHRcdGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICcnICsgJy8nICsgdGhpcy5wYWdlcy5sZW5ndGggfSApO1xyXG5cdFx0Y29uc3QgbmV4dEJ1dHRvbiA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJysnIH0gKTtcclxuXHRcdGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0RlbGV0ZSBQYWdlJyB9ICk7XHJcblx0XHRkZWxldGVCdXR0b24uY2xhc3NOYW1lID0gJ2NmZS1yZW1vdmUtYnV0dG9uJztcclxuXHRcdGNvbnN0IGFkZEJ1dHRvbiA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0FkZCBQYWdlJyB9ICk7XHJcblx0XHRjb25zdCBlZGl0TW9kZUJ1dHRvbiA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0VkaXQgTW9kZScgfSApO1xyXG5cdFx0Y29uc3Qgdmlld01vZGVCdXR0b24gPSBidXR0b25zRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdWaWV3IE1vZGUnIH0gKTtcclxuXHRcdGNvbnN0IGhvbWVCdXR0b24gPSBidXR0b25zRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdSZXR1cm4gdG8gU3RvcnknIH0gKTtcclxuXHRcdGhvbWVCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0YXdhaXQgdGhpcy5Mb2FkU3RvcnlVSShzbnYsIG1haW5EaXYpO1xyXG5cdFx0fVxyXG5cdFx0ZWRpdE1vZGVCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0YXdhaXQgdGhpcy5Mb2FkQ3VycmVudFBhZ2VFZGl0KHNudiwgbWFpbkRpdik7XHJcblx0XHR9XHJcblx0XHR2aWV3TW9kZUJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRhd2FpdCB0aGlzLkxvYWRDdXJyZW50UGFnZURpc3BsYXlPbmx5KHNudiwgbWFpbkRpdik7XHJcblx0XHR9XHJcblx0XHRiYWNrQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdGlmICh0aGlzLmN1cnJlbnRQYWdlSW5kZXggPiAwKSB7XHJcblx0XHRcdFx0dGhpcy5jdXJyZW50UGFnZUluZGV4LS07XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5Mb2FkQ3VycmVudFBhZ2VFZGl0KHNudiwgbWFpbkRpdik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdG5leHRCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0aWYgKHRoaXMuY3VycmVudFBhZ2VJbmRleCA8IHRoaXMucGFnZXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0dGhpcy5jdXJyZW50UGFnZUluZGV4Kys7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5Mb2FkQ3VycmVudFBhZ2VFZGl0KHNudiwgbWFpbkRpdik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHBhZ2VOdW1iZXJJbnB1dC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0dGhpcy5jdXJyZW50UGFnZUluZGV4ID0gcGFyc2VJbnQocGFnZU51bWJlcklucHV0LnZhbHVlKSAtIDE7XHJcblx0XHRcdGF3YWl0IHRoaXMuTG9hZEN1cnJlbnRQYWdlRWRpdChzbnYsIG1haW5EaXYpO1xyXG5cdFx0fVxyXG5cdFx0ZGVsZXRlQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdHRoaXMucGFnZXMuc3BsaWNlKHRoaXMuY3VycmVudFBhZ2VJbmRleCwgMSk7XHJcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xyXG5cdFx0XHRpZiAodGhpcy5jdXJyZW50UGFnZUluZGV4ICE9PSAwKSB7XHJcblx0XHRcdFx0dGhpcy5jdXJyZW50UGFnZUluZGV4LS07XHJcblx0XHRcdH1cclxuXHRcdFx0YXdhaXQgdGhpcy5Mb2FkQ3VycmVudFBhZ2VFZGl0KHNudixtYWluRGl2KTtcclxuXHRcdH1cclxuXHRcdGFkZEJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRjb25zdCBkZWZhdWx0UGFnZSA9IG5ldyBQYWdlKCk7XHJcblx0XHRcdGNvbnN0IHRoaXNQYWdlRmlsZUlEID0gdGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLm1lZGlhRmlsZUlEO1xyXG5cdFx0XHRpZiAodGhpc1BhZ2VGaWxlSUQgIT09IC0xICYmIHRoaXNQYWdlRmlsZUlEIDwgc252LnNvdXJjZUZvbGRlci5maWxlQ291bnQpIHtcclxuXHRcdFx0XHRkZWZhdWx0UGFnZS5tZWRpYUZpbGVJRCA9IHRoaXNQYWdlRmlsZUlEO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMucGFnZXMuc3BsaWNlKHRoaXMuY3VycmVudFBhZ2VJbmRleCArIDEsIDAsIGRlZmF1bHRQYWdlKTtcclxuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XHJcblx0XHRcdHRoaXMuY3VycmVudFBhZ2VJbmRleCsrO1xyXG5cdFx0XHRhd2FpdCB0aGlzLkxvYWRDdXJyZW50UGFnZUVkaXQoc252LG1haW5EaXYpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBMb2FkQ3VycmVudFBhZ2VFZGl0KHNudjogU291cmNlQW5kVmF1bHQsIG1haW5EaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcblx0XHRtYWluRGl2LmVtcHR5KCk7XHJcblx0XHR0aGlzLkxvYWRQYWdlU2VsZWN0b3Ioc252LCBtYWluRGl2KTtcclxuXHJcblx0XHRtYWluRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnTWVkaWEgRmlsZSBJRDonIH0gKTtcclxuXHRcdGNvbnN0IG1lZGlhRmlsZUlESW5wdXQgPSBtYWluRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnIH0gKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgcGFuZWxEaXYgPSBtYWluRGl2LmNyZWF0ZURpdignaGJveCcpO1xyXG5cdFx0Y29uc3Qgb3V0ZXJNZWRpYURpdiA9IHBhbmVsRGl2LmNyZWF0ZURpdigndmJveCcpO1xyXG5cdFx0Y29uc3QgbGluZXNEaXYgPSBwYW5lbERpdi5jcmVhdGVEaXYoJ3Zib3gnKTtcclxuXHRcdGNvbnN0IG1lZGlhV2lkdGhJbnB1dCA9IG91dGVyTWVkaWFEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcgfSApO1xyXG5cdFx0bWVkaWFXaWR0aElucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRvdXRlck1lZGlhRGl2LnN0eWxlLndpZHRoID0gbWVkaWFXaWR0aElucHV0LnZhbHVlICsgJyUnO1xyXG5cdFx0XHRsaW5lc0Rpdi5zdHlsZS53aWR0aCA9IDEwMCAtIHBhcnNlSW50KG1lZGlhV2lkdGhJbnB1dC52YWx1ZSkgKyAnJSc7XHJcblx0XHRcdHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XS5tZWRpYVNpemVQZXJjZW50YWdlID0gcGFyc2VJbnQobWVkaWFXaWR0aElucHV0LnZhbHVlKTtcclxuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgbWVkaWFEaXYgPSBvdXRlck1lZGlhRGl2LmNyZWF0ZURpdigndmJveCcpO1xyXG5cdFx0b3V0ZXJNZWRpYURpdi5zdHlsZS53aWR0aCA9ICc1MCUnO1xyXG5cdFx0bWVkaWFEaXYuc3R5bGUub2JqZWN0Rml0ID0gJ2NvbnRhaW4nO1xyXG5cdFx0bGluZXNEaXYuc3R5bGUud2lkdGggPSAnNTAlJztcclxuXHRcdGxpbmVzRGl2LnN0eWxlLm1heEhlaWdodCA9ICc4MHZoJztcclxuXHRcdGxpbmVzRGl2LnN0eWxlLnBvc2l0aW9uID0gJ3N0aWNreSc7XHJcblx0XHRsaW5lc0Rpdi5zdHlsZS50b3AgPSAnMCUnO1xyXG5cclxuXHRcdGlmICh0aGlzLmN1cnJlbnRQYWdlSW5kZXggPCB0aGlzLnBhZ2VzLmxlbmd0aCkge1xyXG5cdFx0XHRjb25zdCBjdXJyZW50UGFnZSA9IHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XTtcclxuXHRcdFx0Y29uc3QgbWVkaWFGaWxlSUQgPSBjdXJyZW50UGFnZS5tZWRpYUZpbGVJRDtcclxuXHRcdFx0bWVkaWFGaWxlSURJbnB1dC52YWx1ZSA9ICcnICsgY3VycmVudFBhZ2UubWVkaWFGaWxlSUQ7XHJcblx0XHRcdGlmIChtZWRpYUZpbGVJRCA+IDApIHtcclxuXHRcdFx0XHRjb25zdCBtZWRpYUZpbGUgPSA8U2luZ2xlTWVkaWFGaWxlPiBhd2FpdCBDRkVGaWxlSGFuZGxlci5Mb2FkRmlsZShzbnYsIG1lZGlhRmlsZUlEKTtcclxuXHRcdFx0XHRhd2FpdCBtZWRpYUZpbGUuRGlzcGxheU1lZGlhT25seShtZWRpYURpdiwgc252KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLm1lZGlhU2l6ZVBlcmNlbnRhZ2UpIHtcclxuXHRcdFx0XHRtZWRpYVdpZHRoSW5wdXQudmFsdWUgPSAnJyArIHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XS5tZWRpYVNpemVQZXJjZW50YWdlO1xyXG5cdFx0XHRcdG91dGVyTWVkaWFEaXYuc3R5bGUud2lkdGggPSBtZWRpYVdpZHRoSW5wdXQudmFsdWUgKyAnJSc7XHJcblx0XHRcdFx0bGluZXNEaXYuc3R5bGUud2lkdGggPSAxMDAgLSBwYXJzZUludChtZWRpYVdpZHRoSW5wdXQudmFsdWUpICsgJyUnO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdG1lZGlhV2lkdGhJbnB1dC52YWx1ZSA9ICc1MCc7XHJcblx0XHRcdFx0dGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLm1lZGlhU2l6ZVBlcmNlbnRhZ2UgPSA1MDtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y29uc3QgZGVmYXVsdFBhZ2UgPSBuZXcgUGFnZSgpO1xyXG5cdFx0XHRjb25zdCBsYXN0UGFnZSA9IHRoaXMuY3VycmVudFBhZ2VJbmRleCAtIDE7XHJcblx0XHRcdGlmIChsYXN0UGFnZSA+PSAwICYmIHRoaXMuY3VycmVudFBhZ2VJbmRleCAhPT0gMCkge1xyXG5cdFx0XHRcdGNvbnN0IGxhc3RQYWdlRmlsZUlEID0gdGhpcy5wYWdlc1tsYXN0UGFnZV0ubWVkaWFGaWxlSUQ7XHJcblx0XHRcdFx0Y29uc3QgbGFzdFBhZ2VTaXplID0gdGhpcy5wYWdlc1tsYXN0UGFnZV0ubWVkaWFTaXplUGVyY2VudGFnZTtcclxuXHRcdFx0XHRkZWZhdWx0UGFnZS5tZWRpYVNpemVQZXJjZW50YWdlID0gbGFzdFBhZ2VTaXplO1xyXG5cdFx0XHRcdG1lZGlhV2lkdGhJbnB1dC52YWx1ZSA9ICcnICsgbGFzdFBhZ2VTaXplO1xyXG5cdFx0XHRcdG91dGVyTWVkaWFEaXYuc3R5bGUud2lkdGggPSBtZWRpYVdpZHRoSW5wdXQudmFsdWUgKyAnJSc7XHJcblx0XHRcdFx0bGluZXNEaXYuc3R5bGUud2lkdGggPSAxMDAgLSBwYXJzZUludChtZWRpYVdpZHRoSW5wdXQudmFsdWUpICsgJyUnO1xyXG5cdFx0XHRcdGlmIChsYXN0UGFnZUZpbGVJRCAhPT0gLTEgJiYgbGFzdFBhZ2VGaWxlSUQgPCBzbnYuc291cmNlRm9sZGVyLmZpbGVDb3VudCkge1xyXG5cdFx0XHRcdFx0Y29uc3QgbWVkaWFGaWxlSUQgPSBsYXN0UGFnZUZpbGVJRCArIDE7XHJcblx0XHRcdFx0XHRkZWZhdWx0UGFnZS5tZWRpYUZpbGVJRCA9IG1lZGlhRmlsZUlEO1xyXG5cdFx0XHRcdFx0bWVkaWFGaWxlSURJbnB1dC52YWx1ZSA9ICcnICsgbWVkaWFGaWxlSUQ7XHJcblx0XHRcdFx0XHRpZiAobWVkaWFGaWxlSUQgPiAwKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IG1lZGlhRmlsZSA9IDxTaW5nbGVNZWRpYUZpbGU+IGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNudiwgbWVkaWFGaWxlSUQpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCBtZWRpYUZpbGUuRGlzcGxheU1lZGlhT25seShtZWRpYURpdiwgc252KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5wYWdlcy5wdXNoKGRlZmF1bHRQYWdlKTtcclxuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XHJcblx0XHR9XHJcblx0XHRhd2FpdCB0aGlzLkxvYWREaWFsb2d1ZUxpbmVzRWRpdChzbnYsIGxpbmVzRGl2KTtcclxuXHRcdG1lZGlhRmlsZUlESW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRQYWdlID0gdGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdO1xyXG5cdFx0XHRjdXJyZW50UGFnZS5tZWRpYUZpbGVJRCA9IHBhcnNlSW50KG1lZGlhRmlsZUlESW5wdXQudmFsdWUpO1xyXG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcclxuXHRcdFx0Y29uc3QgbWVkaWFGaWxlID0gPFNpbmdsZU1lZGlhRmlsZT4gYXdhaXQgQ0ZFRmlsZUhhbmRsZXIuTG9hZEZpbGUoc252LCBjdXJyZW50UGFnZS5tZWRpYUZpbGVJRCk7XHJcblx0XHRcdGF3YWl0IG1lZGlhRmlsZS5EaXNwbGF5TWVkaWFPbmx5KG1lZGlhRGl2LCBzbnYpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBMb2FkQ3VycmVudFBhZ2VEaXNwbGF5T25seShzbnY6IFNvdXJjZUFuZFZhdWx0LCBtYWluRGl2OiBIVE1MRGl2RWxlbWVudCkge1xyXG5cdFx0bWFpbkRpdi5lbXB0eSgpO1xyXG5cclxuXHRcdHRoaXMuTG9hZFBhZ2VTZWxlY3RvcihzbnYsIG1haW5EaXYpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBwYW5lbERpdiA9IG1haW5EaXYuY3JlYXRlRGl2KCdoYm94Jyk7XHJcblx0XHRjb25zdCBvdXRlck1lZGlhRGl2ID0gcGFuZWxEaXYuY3JlYXRlRGl2KCd2Ym94Jyk7XHJcblx0XHRjb25zdCBsaW5lc0RpdiA9IHBhbmVsRGl2LmNyZWF0ZURpdigndmJveCcpO1xyXG5cclxuXHRcdGNvbnN0IG1lZGlhRGl2ID0gb3V0ZXJNZWRpYURpdi5jcmVhdGVEaXYoJ3Zib3gnKTtcclxuXHRcdG91dGVyTWVkaWFEaXYuc3R5bGUud2lkdGggPSAnNTAlJztcclxuXHRcdG1lZGlhRGl2LnN0eWxlLm9iamVjdEZpdCA9ICdjb250YWluJztcclxuXHRcdGxpbmVzRGl2LnN0eWxlLndpZHRoID0gJzUwJSc7XHJcblx0XHRsaW5lc0Rpdi5zdHlsZS5tYXhIZWlnaHQgPSAnODB2aCc7XHJcblx0XHRsaW5lc0Rpdi5zdHlsZS5wb3NpdGlvbiA9ICdzdGlja3knO1xyXG5cdFx0bGluZXNEaXYuc3R5bGUudG9wID0gJzAlJztcclxuXHJcblx0XHRjb25zdCBjdXJyZW50UGFnZSA9IHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XTtcclxuXHRcdGNvbnN0IG1lZGlhRmlsZUlEID0gY3VycmVudFBhZ2UubWVkaWFGaWxlSUQ7XHJcblx0XHRpZiAobWVkaWFGaWxlSUQgPiAwKSB7XHJcblx0XHRcdGNvbnN0IG1lZGlhRmlsZSA9IDxTaW5nbGVNZWRpYUZpbGU+IGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNudiwgbWVkaWFGaWxlSUQpO1xyXG5cdFx0XHRhd2FpdCBtZWRpYUZpbGUuRGlzcGxheU1lZGlhT25seShtZWRpYURpdiwgc252KTtcclxuXHRcdH1cclxuXHRcdGlmICh0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF0ubWVkaWFTaXplUGVyY2VudGFnZSkge1xyXG5cdFx0XHRjb25zdCB3aWR0aCA9IHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XS5tZWRpYVNpemVQZXJjZW50YWdlO1xyXG5cdFx0XHRvdXRlck1lZGlhRGl2LnN0eWxlLndpZHRoID0gd2lkdGggKyAnJSc7XHJcblx0XHRcdGxpbmVzRGl2LnN0eWxlLndpZHRoID0gMTAwIC0gd2lkdGggKyAnJSc7XHJcblx0XHR9XHJcblx0XHRhd2FpdCB0aGlzLkxvYWREaWFsb2d1ZUxpbmVzRGlzcGxheU9ubHkobGluZXNEaXYpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBMb2FkRGlhbG9ndWVMaW5lc0VkaXQoc252OiBTb3VyY2VBbmRWYXVsdCwgbGluZXNEaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcblx0XHRsaW5lc0Rpdi5lbXB0eSgpO1xyXG5cclxuXHRcdGNvbnN0IHNwZWFrRGl2ID0gbGluZXNEaXYuY3JlYXRlRGl2KCk7XHJcblx0XHRzcGVha0Rpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcblx0XHRzcGVha0Rpdi5zdHlsZS50b3AgPSAnMHB4JztcclxuXHRcdHNwZWFrRGl2LnN0eWxlLmxlZnQgPSAnMHB4JztcclxuXHJcblx0XHRjb25zdCBleGlzdGluZ0xpbmVzRGl2ID0gbGluZXNEaXYuY3JlYXRlRGl2KCk7XHJcblx0XHRleGlzdGluZ0xpbmVzRGl2LmNsYXNzTmFtZSA9IHRoaXMuZG9WZXJ0aWNhbCA/ICdoYm94JyA6ICd2Ym94JztcclxuXHRcdGlmICh0aGlzLmRvVmVydGljYWwpIHtcclxuXHRcdFx0ZXhpc3RpbmdMaW5lc0Rpdi5zdHlsZS5vdmVyZmxvd1ggPSAnc2Nyb2xsJztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGV4aXN0aW5nTGluZXNEaXYuc3R5bGUub3ZlcmZsb3dZID0gJ3Njcm9sbCc7XHJcblx0XHR9XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XS5saW5lcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRjb25zdCBjdXJyZW50SW5kZXggPSBpO1xyXG5cdFx0XHRjb25zdCBjdXJyZW50TGluZSA9IHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XS5saW5lc1tpXTtcclxuXHRcdFx0Y29uc3Qgc3BlYWtlciA9IHRoaXMuY2hhcmFjdGVyc1tjdXJyZW50TGluZS5zcGVha2VySW5kZXhdO1xyXG5cclxuXHRcdFx0Y29uc3QgbGluZURpdiA9IGV4aXN0aW5nTGluZXNEaXYuY3JlYXRlRGl2KCk7XHJcblx0XHRcdGxpbmVEaXYuY2xhc3NOYW1lID0gdGhpcy5kb1ZlcnRpY2FsID8gJ3Zib3gnIDogJ2hib3gnO1xyXG5cclxuXHRcdFx0Y29uc3QgZGVsZXRlQnV0dG9uID0gbGluZURpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnLScgfSApO1xyXG5cdFx0XHRkZWxldGVCdXR0b24uY2xhc3NOYW1lID0gJ2NmZS1yZW1vdmUtYnV0dG9uJztcclxuXHRcdFx0ZGVsZXRlQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLmxpbmVzLnNwbGljZShjdXJyZW50SW5kZXgsIDEpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuTG9hZERpYWxvZ3VlTGluZXNFZGl0KHNudiwgbGluZXNEaXYpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh0aGlzLmRvVmVydGljYWwpIHtcclxuXHRcdFx0XHR0aGlzLk1ha2VWZXJ0aWNhbChkZWxldGVCdXR0b24pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBpbmRleFRleHRFbCA9IHRoaXMuRGlzcGxheVRleHQobGluZURpdiwgMjUsICcnICsgY3VycmVudEluZGV4KTtcclxuXHRcdFx0aWYgKHRoaXMuZG9WZXJ0aWNhbCkge1xyXG5cdFx0XHRcdHRoaXMuTWFrZVZlcnRpY2FsKGluZGV4VGV4dEVsKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHRoaXMubGFuZ3VhZ2UgPT09ICdQaG90b2xhbmcnKSB7XHJcblx0XHRcdFx0Y29uc3QgcGxheUJ1dHRvbiA9IGxpbmVEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1x1MjVCNycgfSApO1xyXG5cdFx0XHRcdHBsYXlCdXR0b24ub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IHBvcHVwID0gc3BlYWtEaXYuY3JlYXRlRGl2KCk7XHJcblx0XHRcdFx0XHRwb3B1cC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcblx0XHRcdFx0XHRwb3B1cC5zdHlsZS50b3AgPSAnMHB4JztcclxuXHRcdFx0XHRcdHBvcHVwLnN0eWxlLmxlZnQgPSAnMHB4JztcclxuXHRcdFx0XHRcdGNvbnN0IHBob3RvbGluZSA9IG5ldyBQaG90b0xpbmUobGluZUlucHV0LnZhbHVlKTtcclxuXHRcdFx0XHRcdHBob3RvbGluZS5TcGVhayhwb3B1cCwgMjAwLCBbMTAwLCAyNTAsIDUwMF0sIFswLCA1MDBdLCBmYWxzZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICh0aGlzLmRvVmVydGljYWwpIHtcclxuXHRcdFx0XHRcdHRoaXMuTWFrZVZlcnRpY2FsKHBsYXlCdXR0b24pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgY2hhckRyb3Bkb3duQnV0dG9uID0gbGluZURpdi5jcmVhdGVEaXYoKTtcclxuXHRcdFx0Y29uc3QgY2hhckRyb3Bkb3duRGl2ID0gY2hhckRyb3Bkb3duQnV0dG9uLmNyZWF0ZURpdigpO1xyXG5cdFx0XHRjaGFyRHJvcGRvd25EaXYuc3R5bGUuaGVpZ2h0ID0gJ2ZpdC1jb250ZW50JztcclxuXHRcdFx0Y2hhckRyb3Bkb3duRGl2LnN0eWxlLndpZHRoID0gJ2ZpdC1jb250ZW50JztcclxuXHRcdFx0Y2hhckRyb3Bkb3duRGl2LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcclxuXHRcdFx0Y2hhckRyb3Bkb3duQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XHJcblx0XHRcdFx0Y29uc3Qgc2VsZWN0RGl2ID0gY2hhckRyb3Bkb3duRGl2LmNyZWF0ZURpdigpO1xyXG5cdFx0XHRcdHNlbGVjdERpdi5jbGFzc05hbWUgPSB0aGlzLmRvVmVydGljYWwgPyAnaGJveCcgOiAndmJveCc7XHJcblx0XHRcdFx0c2VsZWN0RGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuXHRcdFx0XHRzZWxlY3REaXYuc3R5bGUudG9wID0gJzAlJztcclxuXHRcdFx0XHRzZWxlY3REaXYuc3R5bGUubGVmdCA9ICcwJSc7XHJcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoYXJhY3RlcnMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdGNvbnN0IGN1cnJlbnRDaGFySW5kZXggPSBpO1xyXG5cdFx0XHRcdFx0Y29uc3QgY3VycmVudENoYXIgPSB0aGlzLmNoYXJhY3RlcnNbY3VycmVudENoYXJJbmRleF07XHJcblx0XHRcdFx0XHRjb25zdCBjdXJyZW50T3B0aW9uID0gc2VsZWN0RGl2LmNyZWF0ZURpdigpO1xyXG5cdFx0XHRcdFx0aWYgKHRoaXMuZG9WZXJ0aWNhbCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLk1ha2VWZXJ0aWNhbChjdXJyZW50T3B0aW9uKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmICh0aGlzLmxhbmd1YWdlICE9PSAnUGhvdG9sYW5nJykge1xyXG5cdFx0XHRcdFx0XHRjdXJyZW50T3B0aW9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGN1cnJlbnRDaGFyLmJhY2tncm91bmRDb2xvcjtcclxuXHRcdFx0XHRcdFx0Y3VycmVudE9wdGlvbi5zdHlsZS5jb2xvciA9IGN1cnJlbnRDaGFyLmNvbG9yO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Y3VycmVudE9wdGlvbi5zdHlsZS56SW5kZXggPSAnMic7XHJcblx0XHRcdFx0XHR0aGlzLkRpc3BsYXlUZXh0KGN1cnJlbnRPcHRpb24sIDI1LCBjdXJyZW50Q2hhci5uYW1lKTtcclxuXHRcdFx0XHRcdGN1cnJlbnRPcHRpb24ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLmxpbmVzW2N1cnJlbnRJbmRleF0uc3BlYWtlckluZGV4ID0gY3VycmVudENoYXJJbmRleDtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XHJcblx0XHRcdFx0XHRcdHRoaXMuTG9hZERpYWxvZ3VlTGluZXNFZGl0KHNudiwgbGluZXNEaXYpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgbmFtZUVsID0gdGhpcy5EaXNwbGF5VGV4dChjaGFyRHJvcGRvd25EaXYsIDI1LCB0aGlzLmNoYXJhY3RlcnNbY3VycmVudExpbmUuc3BlYWtlckluZGV4XS5uYW1lKTtcclxuXHRcdFx0aWYgKHRoaXMuZG9WZXJ0aWNhbCkge1xyXG5cdFx0XHRcdHRoaXMuTWFrZVZlcnRpY2FsKG5hbWVFbCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHRoaXMubGFuZ3VhZ2UgIT09ICdQaG90b2xhbmcnKSB7XHJcblx0XHRcdFx0bmFtZUVsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHNwZWFrZXIuYmFja2dyb3VuZENvbG9yO1xyXG5cdFx0XHRcdG5hbWVFbC5zdHlsZS5jb2xvciA9IHNwZWFrZXIuY29sb3I7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IGxpbmVJbnB1dCA9IHRoaXMuRGlzcGxheUxpbmVFZGl0KGxpbmVEaXYsIGN1cnJlbnRMaW5lKTtcclxuXHRcdFx0aWYgKHRoaXMuZG9WZXJ0aWNhbCkge1xyXG5cdFx0XHRcdGxpbmVJbnB1dC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XHJcblx0XHRcdFx0dGhpcy5NYWtlVmVydGljYWwobGluZUlucHV0KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRsaW5lSW5wdXQuc3R5bGUud2lkdGggPSAnMTAwJSc7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGxpbmVJbnB1dC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRjdXJyZW50TGluZS5jb250ZW50ID0gbGluZUlucHV0LnZhbHVlO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRjb25zdCBhZGRCdXR0b24gPSBleGlzdGluZ0xpbmVzRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICcrJyB9ICk7XHJcblx0XHRhZGRCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0dGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLmxpbmVzLnB1c2gobmV3IERpYWxvZ3VlTGluZSgwKSk7XHJcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xyXG5cdFx0XHRhd2FpdCB0aGlzLkxvYWREaWFsb2d1ZUxpbmVzRWRpdChzbnYsIGxpbmVzRGl2KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIHByaXZhdGUgYXN5bmMgTG9hZERpYWxvZ3VlTGluZXNFZGl0KHNudjogU291cmNlQW5kVmF1bHQsIGxpbmVzRGl2OiBIVE1MRGl2RWxlbWVudCkge1xyXG5cdC8vIFx0Y29uc3QgZXhpc3RpbmdMaW5lc0RpdiA9IGxpbmVzRGl2LmNyZWF0ZURpdignaGJveCcpO1xyXG5cdC8vIFx0ZXhpc3RpbmdMaW5lc0Rpdi5zdHlsZS5vdmVyZmxvd1ggPSAnc2Nyb2xsJztcclxuXHQvLyBcdGNvbnN0IGZvbnRTaXplID0gJzE3LjVweCc7XHJcblx0Ly8gXHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XS5saW5lcy5sZW5ndGg7IGkrKykge1xyXG5cdC8vIFx0XHRjb25zdCBjdXJyZW50SW5kZXggPSBpO1xyXG5cdC8vIFx0XHRjb25zdCBjdXJyZW50TGluZSA9IHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XS5saW5lc1tpXTtcclxuXHQvLyBcdFx0Y29uc3Qgc3BlYWtlckluZGV4ID0gY3VycmVudExpbmUuc3BlYWtlckluZGV4O1xyXG5cdC8vIFx0XHRjb25zdCBjdXJyZW50U3BlYWtlciA9IHRoaXMuY2hhcmFjdGVyc1tzcGVha2VySW5kZXhdO1xyXG5cdC8vIFx0XHRjb25zdCBsaW5lRGl2ID0gZXhpc3RpbmdMaW5lc0Rpdi5jcmVhdGVEaXYoJ3Zib3gnKTtcclxuXHQvLyBcdFx0Y29uc3QgZGVsZXRlQnV0dG9uID0gbGluZURpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnLScgfSApO1xyXG5cdC8vIFx0XHRkZWxldGVCdXR0b24uY2xhc3NOYW1lID0gJ2NmZS1yZW1vdmUtYnV0dG9uJztcclxuXHQvLyBcdFx0ZGVsZXRlQnV0dG9uLnN0eWxlLndyaXRpbmdNb2RlID0gJ3ZlcnRpY2FsLWxyJztcclxuXHQvLyBcdFx0ZGVsZXRlQnV0dG9uLnN0eWxlLnRleHRPcmllbnRhdGlvbiA9ICd1cHJpZ2h0JztcclxuXHQvLyBcdFx0ZGVsZXRlQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0Ly8gXHRcdFx0dGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLmxpbmVzLnNwbGljZShjdXJyZW50SW5kZXgsIDEpO1xyXG5cdC8vIFx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xyXG5cdC8vIFx0XHRcdGF3YWl0IHRoaXMuTG9hZERpYWxvZ3VlTGluZXNFZGl0KHNudiwgbGluZXNEaXYpO1xyXG5cdC8vIFx0XHR9XHJcblx0Ly8gXHRcdGNvbnN0IGluZGV4RWxlbWVudCA9IGxpbmVEaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICcnICsgIGN1cnJlbnRJbmRleCB9ICk7XHJcblx0Ly8gXHRcdGluZGV4RWxlbWVudC5zdHlsZS5jb2xvciA9IGN1cnJlbnRTcGVha2VyLmNvbG9yO1xyXG5cdC8vIFx0XHRpbmRleEVsZW1lbnQuc3R5bGUuZm9udEZhbWlseSA9ICdId2F5dVJlYWwnO1xyXG5cdC8vIFx0XHRpbmRleEVsZW1lbnQuc3R5bGUud3JpdGluZ01vZGUgPSAndmVydGljYWwtbHInO1xyXG5cdC8vIFx0XHRpbmRleEVsZW1lbnQuc3R5bGUudGV4dE9yaWVudGF0aW9uID0gJ3VwcmlnaHQnO1xyXG5cdC8vIFx0XHRjb25zdCBjaGFyRHJvcGRvd25EaXYgPSBsaW5lRGl2LmNyZWF0ZURpdigpO1xyXG5cdC8vIFx0XHRjaGFyRHJvcGRvd25EaXYuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG5cdC8vIFx0XHRjb25zdCBjaGFyRHJvcGRvd24gPSBjaGFyRHJvcGRvd25EaXYuY3JlYXRlRWwoJ2J1dHRvbicpO1xyXG5cdC8vIFx0XHRjaGFyRHJvcGRvd24uc3R5bGUuaGVpZ2h0ID0gJ2ZpdC1jb250ZW50JztcclxuXHQvLyBcdFx0Y2hhckRyb3Bkb3duLm9uY2xpY2sgPSAoKSA9PiB7XHJcblx0Ly8gXHRcdFx0Y29uc3Qgc2VsZWN0RGl2ID0gY2hhckRyb3Bkb3duRGl2LmNyZWF0ZURpdignaGJveCcpO1xyXG5cdC8vIFx0XHRcdHNlbGVjdERpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcblx0Ly8gXHRcdFx0c2VsZWN0RGl2LnN0eWxlLnRvcCA9ICcwJSc7XHJcblx0Ly8gXHRcdFx0c2VsZWN0RGl2LnN0eWxlLmxlZnQgPSAnMCUnO1xyXG5cdC8vIFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGFyYWN0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcblx0Ly8gXHRcdFx0XHRjb25zdCBjdXJyZW50Q2hhckluZGV4ID0gaTtcclxuXHQvLyBcdFx0XHRcdGNvbnN0IGN1cnJlbnRDaGFyID0gdGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRDaGFySW5kZXhdO1xyXG5cdC8vIFx0XHRcdFx0Y29uc3QgY3VycmVudE9wdGlvbiA9IHNlbGVjdERpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiBjdXJyZW50Q2hhci5uYW1lLCB2YWx1ZTogJycgKyBpIH0gKTtcclxuXHQvLyBcdFx0XHRcdGN1cnJlbnRPcHRpb24uc3R5bGUuY29sb3IgPSBjdXJyZW50Q2hhci5jb2xvcjtcclxuXHQvLyBcdFx0XHRcdGN1cnJlbnRPcHRpb24uc3R5bGUuZm9udEZhbWlseSA9ICdId2F5dVJlYWwnO1xyXG5cdC8vIFx0XHRcdFx0Y3VycmVudE9wdGlvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjdXJyZW50Q2hhci5iYWNrZ3JvdW5kQ29sb3I7XHJcblx0Ly8gXHRcdFx0XHRjdXJyZW50T3B0aW9uLnN0eWxlLndyaXRpbmdNb2RlID0gJ3ZlcnRpY2FsLWxyJztcclxuXHQvLyBcdFx0XHRcdGN1cnJlbnRPcHRpb24uc3R5bGUudGV4dE9yaWVudGF0aW9uID0gJ3VwcmlnaHQnO1xyXG5cdC8vIFx0XHRcdFx0Y3VycmVudE9wdGlvbi5zdHlsZS5oZWlnaHQgPSAnZml0LWNvbnRlbnQnO1xyXG5cdC8vIFx0XHRcdFx0Y3VycmVudE9wdGlvbi5zdHlsZS56SW5kZXggPSAnMic7XHJcblx0Ly8gXHRcdFx0XHRjdXJyZW50T3B0aW9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0Ly8gXHRcdFx0XHRcdHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XS5saW5lc1tjdXJyZW50SW5kZXhdLnNwZWFrZXJJbmRleCA9IGN1cnJlbnRDaGFySW5kZXg7XHJcblx0Ly8gXHRcdFx0XHRcdGNvbnN0IG5ld1NwZWFrZXJDb2xvciA9IHRoaXMuY2hhcmFjdGVyc1tjdXJyZW50Q2hhckluZGV4XS5jb2xvcjtcclxuXHQvLyBcdFx0XHRcdFx0Y29uc3QgbmV3QmFja2dyb3VuZENvbG9yID0gdGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRDaGFySW5kZXhdLmJhY2tncm91bmRDb2xvcjtcclxuXHQvLyBcdFx0XHRcdFx0Y2hhckRyb3Bkb3duLnN0eWxlLmNvbG9yID0gbmV3U3BlYWtlckNvbG9yO1xyXG5cdC8vIFx0XHRcdFx0XHRjaGFyRHJvcGRvd24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gbmV3QmFja2dyb3VuZENvbG9yO1xyXG5cdC8vIFx0XHRcdFx0XHRjaGFyRHJvcGRvd24udGV4dENvbnRlbnQgPSB0aGlzLmNoYXJhY3RlcnNbY3VycmVudENoYXJJbmRleF0ubmFtZTtcclxuXHQvLyBcdFx0XHRcdFx0bGluZUlucHV0LnN0eWxlLmNvbG9yID0gbmV3U3BlYWtlckNvbG9yO1xyXG5cdC8vIFx0XHRcdFx0XHRsaW5lSW5wdXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gbmV3QmFja2dyb3VuZENvbG9yO1xyXG5cdC8vIFx0XHRcdFx0XHRpbmRleEVsZW1lbnQuc3R5bGUuY29sb3IgPSBuZXdTcGVha2VyQ29sb3I7XHJcblx0Ly8gXHRcdFx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xyXG5cdC8vIFx0XHRcdFx0XHRzZWxlY3REaXYucmVtb3ZlKCk7XHJcblx0Ly8gXHRcdFx0XHR9XHJcblx0Ly8gXHRcdFx0fVxyXG5cdC8vIFx0XHR9XHJcblx0Ly8gXHRcdGNoYXJEcm9wZG93bi50ZXh0Q29udGVudCA9IHRoaXMuY2hhcmFjdGVyc1tjdXJyZW50TGluZS5zcGVha2VySW5kZXhdLm5hbWU7XHJcblx0Ly8gXHRcdGNoYXJEcm9wZG93bi5zdHlsZS5jb2xvciA9IGN1cnJlbnRTcGVha2VyLmNvbG9yO1xyXG5cdC8vIFx0XHRjaGFyRHJvcGRvd24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY3VycmVudFNwZWFrZXIuYmFja2dyb3VuZENvbG9yO1xyXG5cdC8vIFx0XHRjaGFyRHJvcGRvd24uc3R5bGUuZm9udEZhbWlseSA9ICdId2F5dVJlYWwnO1xyXG5cdC8vIFx0XHRjaGFyRHJvcGRvd24uc3R5bGUud3JpdGluZ01vZGUgPSAndmVydGljYWwtbHInO1xyXG5cdC8vIFx0XHRjaGFyRHJvcGRvd24uc3R5bGUudGV4dE9yaWVudGF0aW9uID0gJ3VwcmlnaHQnO1xyXG5cdC8vIFx0XHRjb25zdCBsaW5lSW5wdXQgPSBsaW5lRGl2LmNyZWF0ZUVsKCd0ZXh0YXJlYScpO1xyXG5cdC8vIFx0XHRsaW5lSW5wdXQuc3BlbGxjaGVjayA9IGZhbHNlO1xyXG5cdC8vIFx0XHRsaW5lSW5wdXQuc3R5bGUub3ZlcmZsb3dYID0gJ3Njcm9sbCc7XHJcblx0Ly8gXHRcdGxpbmVJbnB1dC5zdHlsZS53cml0aW5nTW9kZSA9ICd2ZXJ0aWNhbC1scic7XHJcblx0Ly8gXHRcdGxpbmVJbnB1dC5zdHlsZS50ZXh0T3JpZW50YXRpb24gPSAndXByaWdodCc7XHJcblx0Ly8gXHRcdGxpbmVJbnB1dC5kZWZhdWx0VmFsdWUgPSBjdXJyZW50TGluZS5jb250ZW50O1xyXG5cdC8vIFx0XHRsaW5lSW5wdXQuc3R5bGUuY29sb3IgPSBjdXJyZW50U3BlYWtlci5jb2xvcjtcclxuXHQvLyBcdFx0bGluZUlucHV0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGN1cnJlbnRTcGVha2VyLmJhY2tncm91bmRDb2xvcjtcclxuXHQvLyBcdFx0bGluZUlucHV0LnN0eWxlLmZvbnRGYW1pbHkgPSAnSHdheXVSZWFsJztcclxuXHQvLyBcdFx0bGluZUlucHV0LnN0eWxlLmZvbnRTaXplID0gZm9udFNpemU7XHJcblx0Ly8gXHRcdGxpbmVJbnB1dC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XHJcblx0Ly8gXHRcdGxpbmVJbnB1dC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcclxuXHQvLyBcdFx0XHR0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF0ubGluZXNbY3VycmVudEluZGV4XS5jb250ZW50ID0gbGluZUlucHV0LnZhbHVlO1xyXG5cdC8vIFx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xyXG5cdC8vIFx0XHR9XHJcblx0Ly8gXHR9XHJcblx0Ly8gXHRjb25zdCBhZGRCdXR0b24gPSBleGlzdGluZ0xpbmVzRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICcrJyB9ICk7XHJcblx0Ly8gXHRhZGRCdXR0b24uc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xyXG5cdC8vIFx0YWRkQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0Ly8gXHRcdHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XS5saW5lcy5wdXNoKG5ldyBEaWFsb2d1ZUxpbmUoMCkpO1xyXG5cdC8vIFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcclxuXHQvLyBcdFx0YXdhaXQgdGhpcy5Mb2FkRGlhbG9ndWVMaW5lc0VkaXQoc252LCBsaW5lc0Rpdik7XHJcblx0Ly8gXHR9XHJcblx0Ly8gfVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIExvYWREaWFsb2d1ZUxpbmVzRGlzcGxheU9ubHkobGluZXNEaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcblx0XHRsaW5lc0Rpdi5lbXB0eSgpO1xyXG5cclxuXHRcdGNvbnN0IHNwZWFrRGl2ID0gbGluZXNEaXYuY3JlYXRlRGl2KCk7XHJcblx0XHRzcGVha0Rpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcblx0XHRzcGVha0Rpdi5zdHlsZS50b3AgPSAnMHB4JztcclxuXHRcdHNwZWFrRGl2LnN0eWxlLmxlZnQgPSAnMHB4JztcclxuXHJcblx0XHRjb25zdCBleGlzdGluZ0xpbmVzRGl2ID0gbGluZXNEaXYuY3JlYXRlRGl2KCd2Ym94Jyk7XHJcblx0XHRleGlzdGluZ0xpbmVzRGl2LmNsYXNzTmFtZSA9IHRoaXMuZG9WZXJ0aWNhbCA/ICdoYm94JyA6ICd2Ym94JyA7XHJcblx0XHRpZiAodGhpcy5kb1ZlcnRpY2FsKSB7XHJcblx0XHRcdGV4aXN0aW5nTGluZXNEaXYuc3R5bGUub3ZlcmZsb3dYID0gJ3Njcm9sbCc7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRleGlzdGluZ0xpbmVzRGl2LnN0eWxlLm92ZXJmbG93WSA9ICdzY3JvbGwnO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLmxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRMaW5lID0gdGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLmxpbmVzW2ldO1xyXG5cdFx0XHRjb25zdCBzcGVha2VyID0gdGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRMaW5lLnNwZWFrZXJJbmRleF07XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAodGhpcy5sYW5ndWFnZSA9PT0gJ1Bob3RvbGFuZycpIHtcclxuXHRcdFx0XHRjb25zdCBwbGF5QnV0dG9uID0gZXhpc3RpbmdMaW5lc0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnXHUyNUI3JyB9ICk7XHJcblx0XHRcdFx0cGxheUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgcG9wdXAgPSBzcGVha0Rpdi5jcmVhdGVEaXYoKTtcclxuXHRcdFx0XHRcdHBvcHVwLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuXHRcdFx0XHRcdHBvcHVwLnN0eWxlLnRvcCA9ICcwcHgnO1xyXG5cdFx0XHRcdFx0cG9wdXAuc3R5bGUubGVmdCA9ICcwcHgnO1xyXG5cdFx0XHRcdFx0Y29uc3QgcGhvdG9saW5lID0gbmV3IFBob3RvTGluZShjdXJyZW50TGluZS5jb250ZW50KTtcclxuXHRcdFx0XHRcdHBob3RvbGluZS5TcGVhayhwb3B1cCwgMjAwLCBbMTAwLCAyNTAsIDUwMF0sIFswLCA1MDBdLCBmYWxzZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBuYW1lRGl2ID0gZXhpc3RpbmdMaW5lc0Rpdi5jcmVhdGVEaXYoJycpO1xyXG5cdFx0XHRuYW1lRGl2LmNsYXNzTmFtZSA9IHRoaXMuZG9WZXJ0aWNhbCA/ICd2Ym94JyA6ICdoYm94JztcclxuXHRcdFx0Y29uc3QgbGluZURpdiA9IGV4aXN0aW5nTGluZXNEaXYuY3JlYXRlRGl2KCcnKTtcclxuXHRcdFx0bGluZURpdi5jbGFzc05hbWUgPSB0aGlzLmRvVmVydGljYWwgPyAndmJveCcgOiAnaGJveCc7XHJcblxyXG5cdFx0XHRjb25zdCBuYW1lRWwgPSB0aGlzLkRpc3BsYXlUZXh0KG5hbWVEaXYsIDI1LCBzcGVha2VyLm5hbWUpO1xyXG5cdFx0XHRuYW1lRWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gc3BlYWtlci5iYWNrZ3JvdW5kQ29sb3I7XHJcblx0XHRcdG5hbWVFbC5zdHlsZS5jb2xvciA9IHNwZWFrZXIuY29sb3I7XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAodGhpcy5sYW5ndWFnZSA9PT0gJ1Bob3RvbGFuZycpIHtcclxuXHRcdFx0XHRjb25zdCBwaG90b0xpbmUgPSBuZXcgUGhvdG9MaW5lKGN1cnJlbnRMaW5lLmNvbnRlbnQpO1xyXG5cdFx0XHRcdHBob3RvTGluZS5EaXNwbGF5U3RhdGljKGxpbmVEaXYsIDI1KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjb25zdCBsaW5lRWwgPSB0aGlzLkRpc3BsYXlUZXh0KGxpbmVEaXYsIDI1LCBjdXJyZW50TGluZS5jb250ZW50KTtcclxuXHRcdFx0XHRsaW5lRWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gc3BlYWtlci5iYWNrZ3JvdW5kQ29sb3I7XHJcblx0XHRcdFx0bGluZUVsLnN0eWxlLmNvbG9yID0gc3BlYWtlci5jb2xvcjtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMubGFuZ3VhZ2UgPT09ICdQaG90b2xhbmcnKSB7XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLmxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0Y29uc3QgY3VycmVudExpbmUgPSB0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF0ubGluZXNbaV07XHJcblxyXG5cdFx0XHRcdGNvbnN0IG5hbWVEaXYgPSBzcGVha0Rpdi5jcmVhdGVEaXYoKTtcclxuXHRcdFx0XHRuYW1lRGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuXHRcdFx0XHRuYW1lRGl2LnN0eWxlLnRvcCA9ICcwcHgnO1xyXG5cdFx0XHRcdG5hbWVEaXYuc3R5bGUubGVmdCA9ICcwcHgnO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGNvbnN0IHBob3RvTmFtZSA9IG5ldyBQaG90b0xpbmUodGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRMaW5lLnNwZWFrZXJJbmRleF0ubmFtZSk7XHJcblx0XHRcdFx0YXdhaXQgcGhvdG9OYW1lLlNwZWFrKG5hbWVEaXYsIDEwMCwgWzEwMCwgMjUwLCA1MDBdLCBbMCwgNTAwXSwgZmFsc2UpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGNvbnN0IHBvcHVwID0gc3BlYWtEaXYuY3JlYXRlRGl2KCk7XHJcblx0XHRcdFx0cG9wdXAuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG5cdFx0XHRcdHBvcHVwLnN0eWxlLnRvcCA9ICcwcHgnO1xyXG5cdFx0XHRcdHBvcHVwLnN0eWxlLmxlZnQgPSAnMHB4JztcclxuXHJcblx0XHRcdFx0Y29uc3QgcGhvdG9MaW5lID0gbmV3IFBob3RvTGluZShjdXJyZW50TGluZS5jb250ZW50KTtcclxuXHRcdFx0XHRhd2FpdCBwaG90b0xpbmUuU3BlYWsocG9wdXAsIDIwMCwgWzEwMCwgMjUwLCA1MDBdLCBbMCwgNTAwXSwgZmFsc2UpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxufVxyXG5cclxuY2xhc3MgUGFnZSB7XHJcblx0bWVkaWFGaWxlSUQ6IG51bWJlcjtcclxuXHRsaW5lczogRGlhbG9ndWVMaW5lW107XHJcblx0bWVkaWFTaXplUGVyY2VudGFnZTogbnVtYmVyO1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0dGhpcy5tZWRpYUZpbGVJRCA9IC0xO1xyXG5cdFx0dGhpcy5saW5lcyA9IFtdO1xyXG5cdFx0dGhpcy5tZWRpYVNpemVQZXJjZW50YWdlID0gNTA7XHJcblx0fVxyXG59XHJcblxyXG5jbGFzcyBEaWFsb2d1ZUxpbmUge1xyXG5cdHNwZWFrZXJJbmRleDogbnVtYmVyO1xyXG5cdGNvbnRlbnQ6IHN0cmluZztcclxuXHRjb25zdHJ1Y3RvcihzcGVha2VySW5kZXg6IG51bWJlcikge1xyXG5cdFx0dGhpcy5zcGVha2VySW5kZXggPSBzcGVha2VySW5kZXg7XHJcblx0XHR0aGlzLmNvbnRlbnQgPSAnJztcclxuXHR9XHJcbn1cclxuXHJcbmNsYXNzIENoYXJhY3RlciB7XHJcblx0bmFtZTogc3RyaW5nO1xyXG5cdGNvbG9yOiBzdHJpbmc7XHJcblx0YmFja2dyb3VuZENvbG9yOiBzdHJpbmc7XHJcblx0Y29uc3RydWN0b3IobmFtZSA9ICcnLCBjb2xvciA9ICd3aGl0ZScsIGJhY2tncm91bmRDb2xvciA9ICd3aGl0ZScpIHtcclxuXHRcdHRoaXMubmFtZSA9IG5hbWU7XHJcblx0XHR0aGlzLmNvbG9yID0gY29sb3I7XHJcblx0XHR0aGlzLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRDb2xvcjtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IENGRUZpbGUgfSBmcm9tIFwiLi9jZmUtZmlsZVwiO1xuaW1wb3J0IHsgRm9sZGVyIH0gZnJvbSBcIi4vZm9sZGVyXCI7XG5pbXBvcnQgeyBQbGF5bGlzdCB9IGZyb20gXCIuL3BsYXlsaXN0XCI7XG5pbXBvcnQgeyBTaW5nbGVNZWRpYUZpbGUgfSBmcm9tIFwiLi9zaW5nbGUtbWVkaWEtZmlsZVwiO1xuaW1wb3J0IHsgU291cmNlQW5kVmF1bHQgfSBmcm9tIFwiLi9zbnZcIjtcbmltcG9ydCB7IFZhcmlhbnRNZWRpYUZpbGUgfSBmcm9tIFwiLi92YXJpYW50LW1lZGlhLWZpbGVcIjtcbmltcG9ydCB7IFNvdXJjZUZvbGRlclNob3J0Y3V0IH0gZnJvbSBcIi4vc291cmNlLWZvbGRlci1zaG9ydGN1dFwiO1xuaW1wb3J0IHsgQ29ubGFuZ0RpY3Rpb25hcnkgfSBmcm9tIFwiLi9jb25sYW5nLWRpY3Rpb25hcnlcIjtcbmltcG9ydCB7IFN0b3J5IH0gZnJvbSBcIi4vc3RvcnlcIjtcblxuZXhwb3J0IGNsYXNzIENGRUZpbGVIYW5kbGVyIHtcblxuXHQvKipcblx0ICogQWxsIG9mIHRoZSBrbm93biBmaWxlIGZvcm1hdHNcblx0ICovXG5cdHN0YXRpYyBLbm93bkZpbGVUeXBlczogc3RyaW5nW10gPSBbXG5cdFx0J0ZvbGRlcicsXG5cdFx0J1NpbmdsZSBNZWRpYSBGaWxlJyxcblx0XHQnVmFyaWFudCBNZWRpYSBGaWxlJyxcblx0XHQnUGxheWxpc3QnLFxuXHRcdCdTdG9yeScsXG5cdFx0J1NvdXJjZSBGb2xkZXIgU2hvcnRjdXQnLFxuXHRcdCdDb25sYW5nIERpY3Rpb25hcnknXG5cdF1cblxuXHRzdGF0aWMgYXN5bmMgQ3JlYXRlTmV3KHNudjogU291cmNlQW5kVmF1bHQsIGZpbGVUeXBlOiBzdHJpbmcsIHBhcmVudEZvbGRlcklEOiBudW1iZXIpOiBQcm9taXNlPENGRUZpbGU+IHtcblx0XHRsZXQgbmV3RmlsZTogQ0ZFRmlsZTtcblx0XHRzd2l0Y2goZmlsZVR5cGUpIHtcblx0XHRcdGNhc2UgJ0ZvbGRlcic6XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRuZXdGaWxlID0gYXdhaXQgRm9sZGVyLkNyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnYsIGZpbGVUeXBlLCBwYXJlbnRGb2xkZXJJRCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnU2luZ2xlIE1lZGlhIEZpbGUnOlxuXHRcdFx0XHRuZXdGaWxlID0gYXdhaXQgU2luZ2xlTWVkaWFGaWxlLkNyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnYsIGZpbGVUeXBlLCBwYXJlbnRGb2xkZXJJRCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnVmFyaWFudCBNZWRpYSBGaWxlJzpcblx0XHRcdFx0bmV3RmlsZSA9IGF3YWl0IFZhcmlhbnRNZWRpYUZpbGUuQ3JlYXRlTmV3RmlsZUZvckxheWVyKHNudiwgZmlsZVR5cGUsIHBhcmVudEZvbGRlcklEKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdQbGF5bGlzdCc6XG5cdFx0XHRcdG5ld0ZpbGUgPSBhd2FpdCBQbGF5bGlzdC5DcmVhdGVOZXdGaWxlRm9yTGF5ZXIoc252LCBmaWxlVHlwZSwgcGFyZW50Rm9sZGVySUQpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ1N0b3J5Jzpcblx0XHRcdFx0bmV3RmlsZSA9IGF3YWl0IFN0b3J5LkNyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnYsIGZpbGVUeXBlLCBwYXJlbnRGb2xkZXJJRCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnU291cmNlIEZvbGRlciBTaG9ydGN1dCc6XG5cdFx0XHRcdG5ld0ZpbGUgPSBhd2FpdCBTb3VyY2VGb2xkZXJTaG9ydGN1dC5DcmVhdGVOZXdGaWxlRm9yTGF5ZXIoc252LCBmaWxlVHlwZSwgcGFyZW50Rm9sZGVySUQpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ0NvbmxhbmcgRGljdGlvbmFyeSc6XG5cdFx0XHRcdG5ld0ZpbGUgPSBhd2FpdCBDb25sYW5nRGljdGlvbmFyeS5DcmVhdGVOZXdGaWxlRm9yTGF5ZXIoc252LCBmaWxlVHlwZSwgcGFyZW50Rm9sZGVySUQpO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdFx0YXdhaXQgbmV3RmlsZS5TYXZlKHNudik7XG5cdFx0cmV0dXJuIG5ld0ZpbGU7XG5cdH1cblxuXHRzdGF0aWMgYXN5bmMgTG9hZEZpbGUoc252OiBTb3VyY2VBbmRWYXVsdCwgZmlsZUlEOiBudW1iZXIpOiBQcm9taXNlPENGRUZpbGU+IHtcblx0XHRjb25zdCBzb3VyY2VGb2xkZXIgPSBzbnYuc291cmNlRm9sZGVyO1xuXHRcdGNvbnN0IHZhdWx0ID0gc252LnZhdWx0O1xuXG5cdFx0Y29uc3QgdEZpbGUgPSB2YXVsdC5nZXRGaWxlQnlQYXRoKHNvdXJjZUZvbGRlci52YXVsdFBhdGggKyAnLycgKyBmaWxlSUQgKyAnLmpzb24nKTtcblx0XHRpZiAodEZpbGUgPT09IG51bGwpIHtcblx0XHRcdHRocm93IEVycm9yKFwiRmlsZSBjb3VsZCBub3QgYmUgZm91bmQgYXQgdGhlIHBhdGg6IFwiICsgc291cmNlRm9sZGVyLnZhdWx0UGF0aCArICcvJyArIGZpbGVJRCArICcuanNvbicpO1xuXHRcdH1cblx0XHRjb25zdCBqc29uRGF0YSA9IGF3YWl0IHZhdWx0LmNhY2hlZFJlYWQodEZpbGUpO1xuXHRcdGNvbnN0IHBsYWluT2JqZWN0ID0gSlNPTi5wYXJzZShqc29uRGF0YSk7XG5cdFx0c3dpdGNoKHBsYWluT2JqZWN0LmZpbGVUeXBlKSB7XG5cdFx0XHRjYXNlICdGb2xkZXInOlxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuIGF3YWl0IE9iamVjdC5hc3NpZ24obmV3IEZvbGRlcigpLCBwbGFpbk9iamVjdCk7XG5cdFx0XHRjYXNlICdTaW5nbGUgTWVkaWEgRmlsZSc6XG5cdFx0XHRcdHJldHVybiBhd2FpdCBPYmplY3QuYXNzaWduKG5ldyBTaW5nbGVNZWRpYUZpbGUoKSwgcGxhaW5PYmplY3QpO1xuXHRcdFx0Y2FzZSAnVmFyaWFudCBNZWRpYSBGaWxlJzpcblx0XHRcdFx0cmV0dXJuIGF3YWl0IE9iamVjdC5hc3NpZ24obmV3IFZhcmlhbnRNZWRpYUZpbGUoKSwgcGxhaW5PYmplY3QpO1xuXHRcdFx0Y2FzZSAnUGxheWxpc3QnOlxuXHRcdFx0XHRyZXR1cm4gYXdhaXQgT2JqZWN0LmFzc2lnbihuZXcgUGxheWxpc3QoKSwgcGxhaW5PYmplY3QpO1xuXHRcdFx0Y2FzZSAnU3RvcnknOlxuXHRcdFx0XHRyZXR1cm4gYXdhaXQgT2JqZWN0LmFzc2lnbihuZXcgU3RvcnkoKSwgcGxhaW5PYmplY3QpO1xuXHRcdFx0Y2FzZSAnU291cmNlIEZvbGRlciBTaG9ydGN1dCc6XG5cdFx0XHRcdHJldHVybiBhd2FpdCBPYmplY3QuYXNzaWduKG5ldyBTb3VyY2VGb2xkZXJTaG9ydGN1dCgpLCBwbGFpbk9iamVjdCk7XG5cdFx0XHRjYXNlICdDb25sYW5nIERpY3Rpb25hcnknOlxuXHRcdFx0XHRyZXR1cm4gYXdhaXQgT2JqZWN0LmFzc2lnbihuZXcgQ29ubGFuZ0RpY3Rpb25hcnkoKSwgcGxhaW5PYmplY3QpO1xuXHRcdH1cblx0fVxufVxuIiwgImltcG9ydCB7IFZhdWx0IH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBTb3VyY2VGb2xkZXIgfSBmcm9tIFwiLi9zb3VyY2UtZm9sZGVyXCI7XG5cbmV4cG9ydCBjbGFzcyBTb3VyY2VBbmRWYXVsdCB7XG5cdHNvdXJjZUZvbGRlcjogU291cmNlRm9sZGVyO1xuXHR2YXVsdDogVmF1bHQ7XG5cdGNvbnN0cnVjdG9yKHNvdXJjZUZvbGRlcjogU291cmNlRm9sZGVyLCB2YXVsdDogVmF1bHQpIHtcblx0XHR0aGlzLnNvdXJjZUZvbGRlciA9IHNvdXJjZUZvbGRlcjtcblx0XHR0aGlzLnZhdWx0ID0gdmF1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
