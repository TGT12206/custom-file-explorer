/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => CFE
});
module.exports = __toCommonJS(main_exports);

// classes/custom-explorer-view.ts
var import_obsidian4 = require("obsidian");

// classes/source-folder.ts
var import_obsidian3 = require("obsidian");

// classes/cfe-file.ts
var import_obsidian = require("obsidian");
var _CFEFile = class {
  /**
   * SHOULD NOT BE CALLED OUTSIDE OF CFEFileHandler.
   * 
   * Use CFEFileHandler.CreateNew() instead.
   * 
   * CHILD CLASSES SHOULD NOT WRITE TO A FILE. THIS IS DONE INSIDE OF CFEFileHandler
   * 
   * CFEFile layer:
   * 
   * sets the source, id, file type, file name, and parent folder id of the file object.
   */
  static async CreateNewFileForLayer(snv, fileType, parentFolderID, name) {
    const sourceFolder = snv.sourceFolder;
    const unfinishedFile = new _CFEFile();
    unfinishedFile.id = sourceFolder.fileCount;
    unfinishedFile.fileType = fileType;
    unfinishedFile.fileName = name;
    unfinishedFile.parentFolderID = parentFolderID;
    sourceFolder.fileCount++;
    await SourceFolder.Save(snv);
    if (unfinishedFile.id !== unfinishedFile.parentFolderID) {
      const parentFolder = await CFEFileHandler.LoadFile(snv, unfinishedFile.parentFolderID);
      parentFolder.containedFileIDs.push(unfinishedFile.id);
      await parentFolder.Save(snv);
    }
    return unfinishedFile;
  }
  /**
   * SHOULD NOT BE CALLED OUTSIDE OF CFEFileHandler.
   * 
   * Use CFEFileHandler.DisplayThumbnail() instead.
   * 
   * CFEFile layer:
   * 
   * sets the thumbnail container's css class to 'cfe-thumbnail'
   * and fully displays the file if the thumbnail is clicked.
   */
  async DisplayThumbnail(sourceAndVault, thumbnailDiv, displayDiv) {
    thumbnailDiv.className = "cfe-thumbnail vbox";
    thumbnailDiv.onclick = async () => {
      await this.Display(sourceAndVault, displayDiv);
    };
    const idText = thumbnailDiv.createDiv("hbox");
    idText.textContent = "ID: " + this.id;
    idText.style.justifyContent = "center";
    const fileText = thumbnailDiv.createDiv("hbox");
    fileText.textContent = "File Type: " + this.fileType;
    fileText.style.justifyContent = "center";
    const nameText = thumbnailDiv.createDiv("hbox");
    nameText.textContent = "File Name: " + this.fileName;
    nameText.style.justifyContent = "center";
  }
  /**
   * SHOULD NOT BE CALLED OUTSIDE OF CFEFileHandler.
   * 
   * Use CFEFileHandler.Display() instead.
   * 
   * CFEFile layer:
   * 
   * empties the display container provided.
   */
  async Display(snv, container) {
    container.empty();
    const headerContainer = container.createDiv("hbox");
    const backButton = headerContainer.createEl("button", { text: "Back to parent folder" });
    headerContainer.createEl("p", { text: "File ID: " + this.id });
    headerContainer.createEl("p", { text: "File Name: " });
    const nameInput = headerContainer.createEl("input", { type: "text", value: this.fileName });
    backButton.onclick = async () => {
      const parentFolder = await CFEFileHandler.LoadFile(snv, this.parentFolderID);
      if (parentFolder !== null) {
        await parentFolder.Display(snv, container);
      }
    };
    nameInput.onchange = async () => {
      this.fileName = nameInput.value;
      await this.Save(snv);
    };
  }
  /**
   * SHOULD NOT BE CALLED OUTSIDE OF CFEFileHandler.
   * 
   * (it is unlikely this method will ever be overriden by child classes, but making this 'inaccessible' is for consistency)
   * 
   * Use CFEFileHandler.SaveFile() instead.
   * 
   * Formatted File layer:
   * 
   * Deletes this file ID from the original parent folder, adds this file to the new parent folder, and changes the parent folder ID
   */
  async MoveFile(sourceAndVault, newParentFolderID) {
    const oldParentFolder = await CFEFileHandler.LoadFile(sourceAndVault, this.parentFolderID);
    const indexOfFile = oldParentFolder.containedFileIDs.indexOf(this.id);
    oldParentFolder.containedFileIDs.splice(indexOfFile, 1);
    oldParentFolder.Save(sourceAndVault);
    const newParentFolder = await CFEFileHandler.LoadFile(sourceAndVault, newParentFolderID);
    newParentFolder.containedFileIDs.push(this.id);
    newParentFolder.Save(sourceAndVault);
    this.parentFolderID = newParentFolderID;
    this.Save(sourceAndVault);
  }
  async Save(sourceAndVault) {
    const sourceFolder = sourceAndVault.sourceFolder;
    const vault = sourceAndVault.vault;
    const filePath = sourceFolder.vaultPath + "/" + this.id + ".json";
    const jsonData = JSON.stringify(this);
    const tFile = vault.getFileByPath(filePath);
    if (tFile === null) {
      const normalizedPath = (0, import_obsidian.normalizePath)(filePath);
      await vault.adapter.write(normalizedPath, jsonData);
      return;
    }
    await vault.modify(tFile, jsonData);
  }
};
var CFEFile = _CFEFile;
CFEFile.FILE_NAME_INPUT_INDEX = 0;
CFEFile.PARENT_FOLDER_ID_INPUT_INDEX = 1;

// classes/single-media-file.ts
var import_obsidian2 = require("obsidian");

// classes/real-file.ts
var RealFile = class extends CFEFile {
  async DisplayMediaOnly(mediaDiv, snv) {
    mediaDiv.empty();
  }
};

// classes/single-media-file.ts
var SingleMediaFile = class extends RealFile {
  get mediaType() {
    switch (this.extensionName) {
      case "png":
      case "jpg":
      case "webp":
      case "heic":
      case "gif":
        return "Image";
      case "mp4":
      case "MP4":
      case "mov":
      case "MOV":
      default:
        return "Video";
    }
  }
  async getSrc(snv) {
    const mediaFile = await this.getTFile(snv);
    const arrayBuffer = await snv.vault.readBinary(mediaFile);
    const blob = new Blob([arrayBuffer]);
    const mediaUrl = URL.createObjectURL(blob);
    return mediaUrl;
  }
  async getTFile(snv) {
    const mediaPath = await this.getPath(snv);
    let mediaFile = snv.vault.getFileByPath(mediaPath);
    if (mediaFile === null) {
      mediaFile = snv.vault.getFileByPath(mediaPath + "." + this.extensionName);
      if (mediaFile === null) {
        throw Error("File not found at path: " + mediaPath + " or " + mediaPath + "." + this.extensionName);
      }
      snv.vault.rename(mediaFile, mediaPath);
    }
    return mediaFile;
  }
  async getPath(snv) {
    const sourceFolder = snv.sourceFolder;
    return sourceFolder.vaultPath + "/" + this.id + " Actual File";
  }
  static async CreateNewFileForLayer(snv, fileType, parentFolderID, name) {
    const newMediaFile = await super.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
    newMediaFile.extensionName = "";
    return newMediaFile;
  }
  async Display(snv, container) {
    await super.Display(snv, container);
    const imageDisplayContainer = container.createDiv("vbox");
    imageDisplayContainer.createEl("p", { text: "Change file" });
    const newFileInput = imageDisplayContainer.createEl("input", { type: "file" });
    await this.DisplayMediaOnly(imageDisplayContainer, snv);
    newFileInput.onchange = async () => {
      try {
        const oldFile = await this.getTFile(snv);
        try {
          await snv.vault.delete(oldFile);
        } finally {
          await this.SaveNewFile(snv, newFileInput);
          this.Display(snv, container);
        }
      } catch (e) {
        console.log();
      }
    };
  }
  async SaveNewFile(snv, fileInput) {
    const fileArray = fileInput.files;
    if (fileArray === null) {
      throw Error("no file was selected");
    }
    const mediaFile = fileArray[0];
    await this.SetFileTo(snv, mediaFile);
  }
  async SetFileTo(snv, mediaFile) {
    const partsOfPath = mediaFile.name.split(".");
    const extension = partsOfPath[partsOfPath.length - 1];
    this.fileName = partsOfPath[0];
    this.extensionName = extension;
    const path = snv.sourceFolder.vaultPath + "/" + this.id + " Actual File";
    const normalizedPath = (0, import_obsidian2.normalizePath)(path);
    await snv.vault.adapter.writeBinary(normalizedPath, await mediaFile.arrayBuffer());
    await this.Save(snv);
  }
  async DisplayMediaOnly(mediaDiv, snv) {
    await super.DisplayMediaOnly(mediaDiv, snv);
    if (this.mediaType === "Image") {
      const imageElement = mediaDiv.createEl("img");
      imageElement.src = await this.getSrc(snv);
      imageElement.style.objectFit = "contain";
    } else {
      const videoElement = mediaDiv.createEl("video");
      videoElement.src = await this.getSrc(snv);
      videoElement.controls = true;
      videoElement.loop = true;
      videoElement.autoplay = true;
      videoElement.style.objectFit = "contain";
    }
  }
};

// classes/folder.ts
var Folder = class extends CFEFile {
  /**
   * @override Folder layer:
   * 
   * initializes the contained file ids array for the folder object
   */
  static async CreateNewFileForLayer(snv, fileType, parentFolderID, name) {
    const unfinishedFolder = await super.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
    unfinishedFolder.containedFileIDs = [];
    return unfinishedFolder;
  }
  async Display(snv, mainDiv) {
    await super.Display(snv, mainDiv);
    const createButtonsDiv = mainDiv.createDiv("hbox");
    const newFileButton = createButtonsDiv.createEl("button", { text: "Create New File" });
    const popUpContainer = mainDiv.createDiv();
    newFileButton.onclick = () => {
      this.LoadCreateFileUI(snv, mainDiv, popUpContainer);
    };
    const mediaFilesButton = createButtonsDiv.createEl("button", { text: "Upload Multiple Images / Videos" });
    mediaFilesButton.onclick = () => {
      this.LoadFileSelectionUI(snv, mainDiv, popUpContainer);
    };
    const folderDisplayContainer = mainDiv.createDiv("cfe-grid");
    for (let i = 0; i < this.containedFileIDs.length; i++) {
      const containedFile = await CFEFileHandler.LoadFile(snv, this.containedFileIDs[i]);
      if (containedFile !== null) {
        await containedFile.DisplayThumbnail(snv, folderDisplayContainer.createDiv(), mainDiv);
      }
    }
  }
  LoadCreateFileUI(snv, mainDiv, div) {
    div.empty();
    const popupDiv = div.createDiv("cfe-popup");
    const wrapperDiv = popupDiv.createDiv();
    wrapperDiv.style.position = "relative";
    const exitButton = wrapperDiv.createEl("button", { text: "X", cls: "cfe-remove-button" });
    exitButton.style.position = "absolute";
    exitButton.style.top = "0%";
    exitButton.style.right = "0%";
    popupDiv.createEl("p", { text: "Choose a File Type to create:" });
    const fileTypeDropdown = popupDiv.createEl("select");
    popupDiv.createEl("p", { text: "File Name:" });
    const nameInput = popupDiv.createEl("input", { type: "text", value: "Unnamed" });
    popupDiv.createEl("p", { text: "Parent Folder ID:" });
    const parentFolderIDInput = popupDiv.createEl("input", { type: "text", value: "" + this.id });
    for (let i = 0; i < CFEFileHandler.KnownFileTypes.length; i++) {
      const option = fileTypeDropdown.createEl("option");
      option.value = CFEFileHandler.KnownFileTypes[i];
      option.text = CFEFileHandler.KnownFileTypes[i];
      fileTypeDropdown.options.add(option);
    }
    const submitButton = popupDiv.createEl("button", { text: "Create" });
    const onExit = () => {
      popupDiv.remove();
    };
    const onSubmit = async () => {
      await CFEFileHandler.CreateNew(snv, fileTypeDropdown.value, parseInt(parentFolderIDInput.value), nameInput.value);
      exitButton.click();
      const resettedFolder = await CFEFileHandler.LoadFile(snv, this.id);
      await resettedFolder.Display(snv, mainDiv);
    };
    exitButton.onclick = onExit;
    submitButton.onclick = onSubmit;
    popupDiv.onkeydown = async (event) => {
      if (event.key === "Escape") {
        onExit();
      } else if (event.key === "Enter") {
        await onSubmit();
      }
    };
  }
  LoadFileSelectionUI(snv, mainDiv, div) {
    div.empty();
    const popupDiv = div.createDiv("cfe-popup");
    const wrapperDiv = popupDiv.createDiv();
    wrapperDiv.style.position = "relative";
    popupDiv.createEl("p", { text: "Choose your files" });
    const fileInput = popupDiv.createEl("input", { type: "file" });
    fileInput.multiple = true;
    popupDiv.createEl("p", { text: "Parent Folder ID: " });
    const parentFolderIDInput = popupDiv.createEl("input", { type: "text", value: "" + this.id });
    const exitButton = wrapperDiv.createEl("button", { text: "X", cls: "cfe-remove-button" });
    exitButton.style.position = "absolute";
    exitButton.style.top = "0%";
    exitButton.style.right = "0%";
    const submitButton = popupDiv.createEl("button", { text: "Create" });
    const onExit = () => {
      popupDiv.remove();
    };
    const onSubmit = async () => {
      const fileArray = fileInput.files;
      const parentFolderID = parseInt(parentFolderIDInput.value);
      if (fileArray !== null) {
        for (let i = 0; i < fileArray.length; i++) {
          const cfeFile = await CFEFileHandler.CreateNew(snv, "Single Media File", parentFolderID, fileArray[i].name);
          const mediaFile = Object.assign(new SingleMediaFile(), cfeFile);
          await mediaFile.SetFileTo(snv, fileArray[i]);
          await mediaFile.Save(snv);
        }
        exitButton.click();
        const resettedFolder = await CFEFileHandler.LoadFile(snv, this.id);
        await resettedFolder.Display(snv, mainDiv);
      }
    };
    exitButton.onclick = onExit;
    submitButton.onclick = onSubmit;
    popupDiv.onkeydown = async (event) => {
      if (event.key === "Escape") {
        onExit();
      } else if (event.key === "Enter") {
        await onSubmit();
      }
    };
  }
};

// classes/playlist.ts
var Playlist = class extends CFEFile {
  static getNextVideoIDInOrder(playlist) {
    let nextVideoIndex = playlist.currentVideoIndex + 1;
    if (nextVideoIndex >= playlist.videoIDs.length) {
      nextVideoIndex = 0;
    }
    return nextVideoIndex;
  }
  static getNextVideoIDShuffled(playlist) {
    let nextVideoIndex = Math.random() * playlist.videoIDs.length;
    nextVideoIndex = Math.floor(nextVideoIndex);
    return nextVideoIndex;
  }
  static async loadNextVideo(sourceAndVault, playlist, videoElement) {
    if (playlist.videoOrder === "shuffled") {
      playlist.currentVideoIndex = Playlist.getNextVideoIDShuffled(playlist);
    } else {
      playlist.currentVideoIndex = Playlist.getNextVideoIDInOrder(playlist);
    }
    const nextVideo = await CFEFileHandler.LoadFile(sourceAndVault, playlist.videoIDs[playlist.currentVideoIndex]);
    videoElement.src = await nextVideo.getSrc(sourceAndVault);
  }
  static async CreateNewFileForLayer(snv, fileType, parentFolderID, name) {
    const newPlaylistFile = await super.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
    newPlaylistFile.videoIDs = [];
    return newPlaylistFile;
  }
  async Display(snv, container) {
    await super.Display(snv, container);
    this.currentVideoIndex = 0;
    const videoDisplayContainer = container.createDiv("cfe-display-video");
    const videoElement = videoDisplayContainer.createEl("video");
    const buttonsContainer = container.createDiv("hbox");
    const hideButton = buttonsContainer.createEl("button", { text: "hide video" });
    hideButton.onclick = () => {
      if (hideButton.textContent === "hide video") {
        hideButton.textContent = "show video";
        videoElement.style.display = "none";
      } else {
        hideButton.textContent = "hide video";
        videoElement.style.display = "flex";
      }
    };
    const shuffleButton = buttonsContainer.createEl("button", { text: "shuffle" });
    this.videoOrder = "in order";
    shuffleButton.onclick = () => {
      if (shuffleButton.textContent === "shuffle") {
        shuffleButton.textContent = "go in order";
        this.videoOrder = "shuffled";
      } else {
        shuffleButton.textContent = "shuffle";
        this.videoOrder = "in order";
      }
    };
    const nextButton = buttonsContainer.createEl("button", { text: "next video" });
    nextButton.onclick = async () => {
      await Playlist.loadNextVideo(snv, this, videoElement);
    };
    try {
      const firstVideo = await CFEFileHandler.LoadFile(snv, this.videoIDs[this.currentVideoIndex]);
      videoElement.src = await firstVideo.getSrc(snv);
      videoElement.autoplay = true;
      videoElement.controls = true;
      videoElement.ontimeupdate = async () => {
        if (videoElement.ended) {
          await Playlist.loadNextVideo(snv, this, videoElement);
        }
      };
    } finally {
      container.createEl("p", { text: "Change files" });
      let count = 0;
      const mediaIDInputDiv = container.createDiv("vbox");
      const newFileButton = container.createEl("button", { text: "Add File" });
      for (let i = 0; i < this.videoIDs.length; i++) {
        const currentIndex = count;
        count++;
        const mediaIDDiv = mediaIDInputDiv.createDiv("hbox");
        const idInput = mediaIDDiv.createEl("input", { type: "text", value: "" + this.videoIDs[currentIndex] });
        const deleteButton = mediaIDDiv.createEl("button", { text: "delete" });
        deleteButton.onclick = () => {
          mediaIDDiv.remove();
          this.videoIDs.splice(currentIndex, 1);
          this.Display(snv, container);
        };
        idInput.onchange = () => {
          this.videoIDs[currentIndex] = parseInt(idInput.value);
          this.Save(snv);
        };
      }
      newFileButton.onclick = () => {
        const currentIndex = count;
        count++;
        const mediaIDDiv = mediaIDInputDiv.createDiv("hbox");
        const idInput = mediaIDDiv.createEl("input", { type: "text" });
        const deleteButton = mediaIDDiv.createEl("button", { text: "delete" });
        deleteButton.onclick = () => {
          mediaIDDiv.remove();
          this.videoIDs.splice(currentIndex, 1);
          this.Display(snv, container);
        };
        idInput.onchange = () => {
          this.videoIDs[currentIndex] = parseInt(idInput.value);
          this.Save(snv);
        };
      };
    }
  }
};

// classes/variant-media-file.ts
var VariantMediaFile = class extends RealFile {
  async getSrc(snv, index = null) {
    if (index === null) {
      index = Math.floor(Math.random() * this.variantIDs.length);
    }
    const containedMedia = await CFEFileHandler.LoadFile(snv, this.variantIDs[index]);
    return await containedMedia.getSrc(snv);
  }
  static async CreateNewFileForLayer(snv, fileType, parentFolderID, name) {
    const newMediaFile = await super.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
    newMediaFile.variantIDs = [];
    return newMediaFile;
  }
  async Display(snv, container) {
    await super.Display(snv, container);
    const imageDisplayContainer = container.createDiv("vbox");
    imageDisplayContainer.createEl("p", { text: "Change files" });
    const mediaIDInputDiv = imageDisplayContainer.createDiv("vbox");
    const newFileButton = imageDisplayContainer.createEl("button", { text: "Add File" });
    for (let i = 0; i < this.variantIDs.length; i++) {
      const currentIndex = i;
      const mediaIDDiv = mediaIDInputDiv.createDiv("hbox");
      const idInput = mediaIDDiv.createEl("input", { type: "text", value: "" + this.variantIDs[currentIndex] });
      const deleteButton = mediaIDDiv.createEl("button", { text: "delete" });
      deleteButton.className = "cfe-remove-button";
      deleteButton.onclick = async () => {
        mediaIDDiv.remove();
        this.variantIDs.splice(currentIndex, 1);
        await this.Save(snv);
        await this.Display(snv, container);
      };
      idInput.onchange = async () => {
        this.variantIDs[currentIndex] = parseInt(idInput.value);
        await this.Save(snv);
        await this.Display(snv, container);
      };
    }
    newFileButton.onclick = async () => {
      this.variantIDs.push(-1);
      await this.Save(snv);
      await this.Display(snv, container);
    };
    const mediaDiv = imageDisplayContainer.createDiv("vbox");
    await this.DisplayMediaOnly(mediaDiv, snv);
  }
  async DisplayMediaOnly(mediaDiv, snv, index = -1) {
    if (index === -1) {
      index = Math.floor(Math.random() * this.variantIDs.length);
    }
    const containedMedia = await CFEFileHandler.LoadFile(snv, this.variantIDs[index]);
    await containedMedia.DisplayMediaOnly(mediaDiv, snv);
  }
};

// classes/source-folder-shortcut.ts
var SourceFolderShortcut = class extends CFEFile {
  /**
   * @override Folder layer:
   * 
   * initializes the contained file ids array for the folder object
   */
  static async CreateNewFileForLayer(snv, fileType, parentFolderID, name) {
    const unfinishedFolder = await super.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
    unfinishedFolder.pathToOtherSource = "";
    return unfinishedFolder;
  }
  async Display(snv, mainDiv) {
    await super.Display(snv, mainDiv);
    const inputDiv = mainDiv.createDiv("vbox");
    inputDiv.createEl("p", { text: "Path to Other Source Folder" });
    const pathInput = inputDiv.createEl("input", { type: "text" });
    const goButton = inputDiv.createEl("button", { text: "Go" });
    pathInput.onchange = async () => {
      this.pathToOtherSource = pathInput.value;
      await this.Save(snv);
    };
    goButton.onclick = async () => {
      const otherSource = await SourceFolder.CreateOrLoadSourceFolder(this.pathToOtherSource, snv.vault);
      otherSource.Display(mainDiv, snv.vault);
    };
  }
};

// classes/conlangs/language.ts
var Language = class {
  static CreateOneLineEditor(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    throw Error("Do not call this method on the Language class itself");
  }
  static CreateMultiLineEditor(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    throw Error("Do not call this method on the Language class itself");
  }
  static Display(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    throw Error("Do not call this method on the Language class itself");
  }
  static SpeakOrAnimate(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    throw Error("Do not call this method on the Language class itself");
  }
};
var ConlangElement = class {
  constructor() {
    this.onclick = () => {
      return;
    };
  }
  get fontSize() {
    return this.realFontSize;
  }
  set fontSize(newValue) {
    this.realFontSize = newValue;
    this.style.fontSize = newValue + "px";
  }
};
var ConlangOneLineEditor = class extends ConlangElement {
  constructor() {
    super(...arguments);
    this.oninput = () => {
      return;
    };
    this.onchange = () => {
      return;
    };
  }
};
var ConlangMultiLineEditor = class extends ConlangElement {
  constructor() {
    super(...arguments);
    this.oninput = () => {
      return;
    };
    this.onchange = () => {
      return;
    };
  }
};

// classes/conlangs/hwayu.ts
var Hwayu = class extends Language {
  static CreateOneLineEditor(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    const textElement = new HwayuOneLineEditor(div, value, fontSize, isVertical);
    return textElement;
  }
  static CreateMultiLineEditor(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    const textElement = new HwayuMultiLineEditor(div, value, fontSize, isVertical);
    return textElement;
  }
  static Display(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    const textElement = new HwayuElement(div, value, fontSize, isVertical);
    return textElement;
  }
};
var HwayuElement = class extends ConlangElement {
  constructor(div, value = "", fontSize = 17.5, isVertical = true) {
    super();
    this.textElement = div.createDiv();
    this.value = value;
    this.fontSize = fontSize;
    this.isVertical = isVertical;
    this.textElement.onclick = async () => {
      await this.onclick();
    };
  }
  get style() {
    return this.textElement.style;
  }
  get value() {
    return this.textElement.textContent ? this.textElement.textContent : "";
  }
  set value(newValue) {
    this.textElement.textContent = newValue;
  }
  get className() {
    return this.textElement.className;
  }
  set className(newValue) {
    this.textElement.className = newValue;
  }
  get classList() {
    return this.textElement.classList;
  }
  get isVertical() {
    return this.realIsVertical;
  }
  set isVertical(newValue) {
    this.realIsVertical = newValue;
    this.style.fontFamily = newValue ? "HwayuReal" : "HwayuHorizontal";
    if (newValue) {
      this.style.writingMode = "vertical-lr";
      this.style.textOrientation = "upright";
    } else {
      this.style.writingMode = "horizontal-tb";
      this.style.textOrientation = "unset";
    }
  }
};
var HwayuOneLineEditor = class extends ConlangOneLineEditor {
  constructor(div, value = "", fontSize = 17.5, isVertical = true) {
    super();
    this.inputElement = div.createEl("input", { type: "text" });
    this.inputElement.spellcheck = false;
    this.value = value;
    this.fontSize = fontSize;
    this.isVertical = isVertical;
    this.inputElement.oninput = async () => {
      this.value = this.inputElement.value;
      await this.oninput();
    };
    this.inputElement.onchange = async () => {
      this.value = this.inputElement.value;
      await this.onchange();
    };
    this.inputElement.onclick = async () => {
      await this.onclick();
    };
  }
  get style() {
    return this.inputElement.style;
  }
  get value() {
    return this.inputElement.value;
  }
  set value(newValue) {
    this.inputElement.value = newValue;
  }
  get className() {
    return this.inputElement.className;
  }
  set className(newValue) {
    this.inputElement.className = newValue;
  }
  get classList() {
    return this.inputElement.classList;
  }
  get isVertical() {
    return this.realIsVertical;
  }
  set isVertical(newValue) {
    this.realIsVertical = newValue;
    this.style.fontFamily = newValue ? "HwayuReal" : "HwayuHorizontal";
    if (newValue) {
      this.style.writingMode = "vertical-lr";
      this.style.textOrientation = "upright";
    } else {
      this.style.writingMode = "horizontal-tb";
      this.style.textOrientation = "unset";
    }
  }
};
var HwayuMultiLineEditor = class extends ConlangMultiLineEditor {
  constructor(div, value = "", fontSize = 17.5, isVertical = true) {
    super();
    this.inputElement = div.createEl("textarea");
    this.inputElement.spellcheck = false;
    this.value = value;
    this.fontSize = fontSize;
    this.isVertical = isVertical;
    this.inputElement.oninput = async () => {
      this.value = this.inputElement.value;
      await this.oninput();
    };
    this.inputElement.onchange = async () => {
      this.value = this.inputElement.value;
      await this.onchange();
    };
    this.inputElement.onclick = async () => {
      await this.onclick();
    };
  }
  get style() {
    return this.inputElement.style;
  }
  get value() {
    return this.inputElement.value;
  }
  set value(newValue) {
    this.inputElement.value = newValue;
  }
  get className() {
    return this.inputElement.className;
  }
  set className(newValue) {
    this.inputElement.className = newValue;
  }
  get classList() {
    return this.inputElement.classList;
  }
  get isVertical() {
    return this.realIsVertical;
  }
  set isVertical(newValue) {
    this.realIsVertical = newValue;
    this.style.fontFamily = newValue ? "HwayuReal" : "HwayuHorizontal";
    if (newValue) {
      this.style.writingMode = "vertical-lr";
      this.style.textOrientation = "upright";
    } else {
      this.style.writingMode = "horizontal-tb";
      this.style.textOrientation = "unset";
    }
  }
};

// classes/conlangs/english.ts
var English = class extends Language {
  static CreateOneLineEditor(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    const textElement = new EnglishOneLineEditor(div, value, fontSize, isVertical);
    return textElement;
  }
  static CreateMultiLineEditor(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    const textElement = new EnglishMultiLineEditor(div, value, fontSize, isVertical);
    return textElement;
  }
  static Display(cleanDiv, div, value = "", fontSize = 17.5, isVertical = false) {
    const textElement = new EnglishElement(div, value, fontSize, isVertical);
    return textElement;
  }
};
var EnglishElement = class extends ConlangElement {
  constructor(div, value = "", fontSize = 17.5, isVertical = false) {
    super();
    this.textElement = div.createDiv();
    this.value = value;
    this.fontSize = fontSize;
    this.isVertical = isVertical;
    this.textElement.onclick = async () => {
      await this.onclick();
    };
  }
  get style() {
    return this.textElement.style;
  }
  get value() {
    return this.textElement.textContent ? this.textElement.textContent : "";
  }
  set value(newValue) {
    this.textElement.textContent = newValue;
  }
  get className() {
    return this.textElement.className;
  }
  set className(newValue) {
    this.textElement.className = newValue;
  }
  get classList() {
    return this.textElement.classList;
  }
  get isVertical() {
    return this.realIsVertical;
  }
  set isVertical(newValue) {
    this.realIsVertical = newValue;
    if (newValue) {
      this.style.writingMode = "vertical-lr";
      this.style.textOrientation = "upright";
    } else {
      this.style.writingMode = "horizontal-tb";
      this.style.textOrientation = "unset";
    }
  }
};
var EnglishOneLineEditor = class extends ConlangOneLineEditor {
  constructor(div, value = "", fontSize = 17.5, isVertical = false) {
    super();
    this.inputElement = div.createEl("input", { type: "text" });
    this.value = value;
    this.fontSize = fontSize;
    this.isVertical = isVertical;
    this.inputElement.oninput = async () => {
      this.value = this.inputElement.value;
      await this.oninput();
    };
    this.inputElement.onchange = async () => {
      this.value = this.inputElement.value;
      await this.onchange();
    };
    this.inputElement.onclick = async () => {
      await this.onclick();
    };
  }
  get style() {
    return this.inputElement.style;
  }
  get value() {
    return this.inputElement.value;
  }
  set value(newValue) {
    this.inputElement.value = newValue;
  }
  get className() {
    return this.inputElement.className;
  }
  set className(newValue) {
    this.inputElement.className = newValue;
  }
  get classList() {
    return this.inputElement.classList;
  }
  get isVertical() {
    return this.realIsVertical;
  }
  set isVertical(newValue) {
    this.realIsVertical = newValue;
    if (newValue) {
      this.style.writingMode = "vertical-lr";
      this.style.textOrientation = "upright";
    } else {
      this.style.writingMode = "horizontal-tb";
      this.style.textOrientation = "unset";
    }
  }
};
var EnglishMultiLineEditor = class extends ConlangMultiLineEditor {
  constructor(div, value = "", fontSize = 17.5, isVertical = false) {
    super();
    this.inputElement = div.createEl("textarea");
    this.value = value;
    this.fontSize = fontSize;
    this.isVertical = isVertical;
    this.inputElement.oninput = async () => {
      this.value = this.inputElement.value;
      await this.oninput();
    };
    this.inputElement.onchange = async () => {
      this.value = this.inputElement.value;
      await this.onchange();
    };
    this.inputElement.onclick = async () => {
      await this.onclick();
    };
  }
  get style() {
    return this.inputElement.style;
  }
  get value() {
    return this.inputElement.value;
  }
  set value(newValue) {
    this.inputElement.value = newValue;
  }
  get className() {
    return this.inputElement.className;
  }
  set className(newValue) {
    this.inputElement.className = newValue;
  }
  get classList() {
    return this.inputElement.classList;
  }
  get isVertical() {
    return this.realIsVertical;
  }
  set isVertical(newValue) {
    this.realIsVertical = newValue;
    if (newValue) {
      this.style.writingMode = "vertical-lr";
      this.style.textOrientation = "upright";
    } else {
      this.style.writingMode = "horizontal-tb";
      this.style.textOrientation = "unset";
    }
  }
};

// classes/conlangs/colorlang.ts
var ColorLang = class extends Language {
  static CreateOneLineEditor(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    const textElement = new ColorLangEditor(cleanDiv, div, value, fontSize, isVertical);
    return textElement;
  }
  static CreateMultiLineEditor(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    const textElement = new ColorLangEditor(cleanDiv, div, value, fontSize, isVertical);
    return textElement;
  }
  static Display(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    const textElement = new StaticColorLangElement(cleanDiv, div, value, fontSize, isVertical);
    return textElement;
  }
  static SpeakOrAnimate(cleanDiv, div, value = "", fontSize = 17.5, isVertical = true) {
    const textElement = new AnimatedColorLangElement(cleanDiv, div, value, fontSize, isVertical);
    return textElement;
  }
};
var AnimatedColorLangElement = class extends ConlangElement {
  constructor(cleanDiv, div, value = "", fontSize = 10, isVertical = false) {
    super();
    this.cleanDiv = cleanDiv;
    this.wrapperDiv = div.createDiv();
    this.content = new ColorPhrase();
    this.fontSize = fontSize;
    this.value = value;
    this.isVertical = isVertical;
    this.wrapperDiv.onclick = async () => {
      await this.onclick();
    };
  }
  get style() {
    return this.wrapperDiv.style;
  }
  get value() {
    return JSON.stringify(this.content);
  }
  set value(newValue) {
    try {
      const plainPhrase = JSON.parse(newValue);
      this.content = Object.assign(new ColorPhrase(), plainPhrase);
      for (let i = 0; i < this.content.words.length; i++) {
        this.content.words[i] = Object.assign(new ColorWord(), this.content.words[i]);
        for (let j = 0; j < this.content.words[i].tracks.length; j++) {
          this.content.words[i].tracks[j] = Object.assign(new ColorWordTrack(), this.content.words[i].tracks[j]);
          for (let k = 0; k < this.content.words[i].tracks[j].glyphs.length; k++) {
            this.content.words[i].tracks[j].glyphs[k] = Object.assign(new ColorGlyph(), this.content.words[i].tracks[j].glyphs[k]);
          }
        }
      }
    } catch (e) {
      console.log("Color Lang text was not valid");
    }
    this.Display();
  }
  get className() {
    return this.wrapperDiv.className;
  }
  set className(newValue) {
    this.wrapperDiv.className = newValue;
  }
  get classList() {
    return this.wrapperDiv.classList;
  }
  get isVertical() {
    return this.realIsVertical;
  }
  set isVertical(newValue) {
    this.realIsVertical = newValue;
    if (newValue) {
      this.style.writingMode = "vertical-lr";
      this.style.textOrientation = "upright";
    } else {
      this.style.writingMode = "horizontal-tb";
      this.style.textOrientation = "unset";
    }
  }
  async Display() {
    for (let i = 0; i < this.content.words.length; i++) {
      const word = this.content.words[i];
      console.log("c" + this.fontSize);
      await word.DisplayOnce(this.wrapperDiv, this.fontSize);
    }
    this.wrapperDiv.remove();
  }
};
var StaticColorLangElement = class extends ConlangElement {
  constructor(cleanDiv, div, value = "", fontSize = 10, isVertical = false) {
    super();
    this.cleanDiv = cleanDiv;
    this.wrapperDiv = div.createDiv();
    this.lineDiv = this.wrapperDiv.createDiv();
    this.content = new ColorPhrase();
    this.fontSize = fontSize;
    this.value = value;
    this.isVertical = isVertical;
    this.wrapperDiv.onclick = async () => {
      await this.onclick();
    };
  }
  get style() {
    return this.wrapperDiv.style;
  }
  get value() {
    return JSON.stringify(this.content);
  }
  set value(newValue) {
    try {
      const plainPhrase = JSON.parse(newValue);
      this.content = Object.assign(new ColorPhrase(), plainPhrase);
      for (let i = 0; i < this.content.words.length; i++) {
        this.content.words[i] = Object.assign(new ColorWord(), this.content.words[i]);
        for (let j = 0; j < this.content.words[i].tracks.length; j++) {
          this.content.words[i].tracks[j] = Object.assign(new ColorWordTrack(), this.content.words[i].tracks[j]);
          for (let k = 0; k < this.content.words[i].tracks[j].glyphs.length; k++) {
            this.content.words[i].tracks[j].glyphs[k] = Object.assign(new ColorGlyph(), this.content.words[i].tracks[j].glyphs[k]);
          }
        }
      }
    } catch (e) {
      console.log("Color Lang text was not valid");
    }
    this.Display();
  }
  get className() {
    return this.wrapperDiv.className;
  }
  set className(newValue) {
    this.wrapperDiv.className = newValue;
  }
  get classList() {
    return this.wrapperDiv.classList;
  }
  get isVertical() {
    return this.realIsVertical;
  }
  set isVertical(newValue) {
    this.realIsVertical = newValue;
    if (newValue) {
      this.style.writingMode = "vertical-lr";
      this.style.textOrientation = "upright";
    } else {
      this.style.writingMode = "horizontal-tb";
      this.style.textOrientation = "unset";
    }
  }
  Display() {
    this.lineDiv.remove();
    this.lineDiv = this.wrapperDiv.createDiv();
    for (let i = 0; i < this.content.words.length; i++) {
      const word = this.content.words[i];
      word.DisplayLoop(this.lineDiv, this.fontSize);
    }
  }
};
var ColorLangEditor = class extends ConlangOneLineEditor {
  constructor(cleanDiv, div, value = "", fontSize = 10, isVertical = false) {
    super();
    this.cleanDiv = cleanDiv;
    this.wrapperDiv = div.createDiv();
    this.lineDiv = this.wrapperDiv.createDiv();
    this.content = new ColorPhrase();
    this.fontSize = fontSize;
    this.value = value;
    this.isVertical = isVertical;
    this.wrapperDiv.onclick = async () => {
      await this.onclick();
    };
  }
  get style() {
    return this.wrapperDiv.style;
  }
  get value() {
    if (this.content.words.length > 0) {
      return JSON.stringify(this.content);
    }
    return "";
  }
  set value(newValue) {
    try {
      const plainPhrase = JSON.parse(newValue);
      this.content = Object.assign(new ColorPhrase(), plainPhrase);
      for (let i = 0; i < this.content.words.length; i++) {
        this.content.words[i] = Object.assign(new ColorWord(), this.content.words[i]);
        for (let j = 0; j < this.content.words[i].tracks.length; j++) {
          this.content.words[i].tracks[j] = Object.assign(new ColorWordTrack(), this.content.words[i].tracks[j]);
          for (let k = 0; k < this.content.words[i].tracks[j].glyphs.length; k++) {
            this.content.words[i].tracks[j].glyphs[k] = Object.assign(new ColorGlyph(), this.content.words[i].tracks[j].glyphs[k]);
          }
        }
      }
    } catch (e) {
      console.log("Color Lang text was not valid");
    }
    this.onchange();
    this.Display();
  }
  get className() {
    return this.wrapperDiv.className;
  }
  set className(newValue) {
    this.wrapperDiv.className = newValue;
  }
  get classList() {
    return this.wrapperDiv.classList;
  }
  get isVertical() {
    return this.realIsVertical;
  }
  set isVertical(newValue) {
    this.realIsVertical = newValue;
    if (newValue) {
      this.style.writingMode = "vertical-lr";
      this.style.textOrientation = "upright";
    } else {
      this.style.writingMode = "horizontal-tb";
      this.style.textOrientation = "unset";
    }
  }
  Display() {
    this.wrapperDiv.empty();
    this.lineDiv = this.wrapperDiv.createDiv(this.isVertical ? "vbox" : "hbox");
    for (let i = 0; i < this.content.words.length; i++) {
      const index = i;
      const wordCard = this.lineDiv.createDiv(this.isVertical ? "hbox" : "vbox");
      const deleteButton = wordCard.createEl("button", { text: "-" });
      deleteButton.className = "cfe-remove-button";
      const wordDiv = wordCard.createDiv();
      wordDiv.classList.add("cfe-pointer-hover");
      const word = this.content.words[i];
      word.DisplayLoop(wordDiv, this.fontSize);
      wordDiv.onclick = () => {
        word.DisplayEditor(this.cleanDiv.createDiv());
      };
      const fullWordInput = wordCard.createEl("input", { type: "text", value: JSON.stringify(word) });
      fullWordInput.onchange = () => {
        const plainWord = JSON.parse(fullWordInput.value);
        this.content.words[index] = Object.assign(new ColorWord(), plainWord);
        for (let j = 0; j < this.content.words[index].tracks.length; j++) {
          this.content.words[index].tracks[j] = Object.assign(new ColorWordTrack(), this.content.words[index].tracks[j]);
          for (let k = 0; k < this.content.words[index].tracks[j].glyphs.length; k++) {
            this.content.words[index].tracks[j].glyphs[k] = Object.assign(new ColorGlyph(), this.content.words[index].tracks[j].glyphs[k]);
          }
        }
      };
      this.isVertical ? fullWordInput.style.height : fullWordInput.style.width = this.fontSize * 3.25 + "px";
      this.isVertical ? deleteButton.style.height : deleteButton.style.width = this.fontSize * 3.25 + "px";
      deleteButton.onclick = () => {
        this.content.words.splice(index, 1);
        this.value = JSON.stringify(this.content);
      };
    }
    const addButton = this.lineDiv.createEl("button", { text: "+" });
    const fullInput = this.lineDiv.createEl("input", { type: "text", value: this.value });
    this.isVertical ? fullInput.style.height : fullInput.style.width = this.fontSize * 3.25 + "px";
    const saveButton = this.lineDiv.createEl("button", { text: "save" });
    addButton.onclick = () => {
      this.content.words.push(new ColorWord());
      this.Display();
    };
    fullInput.onchange = () => {
      this.value = fullInput.value;
    };
    saveButton.onclick = () => {
      this.value = JSON.stringify(this.content);
    };
  }
};
var ColorPhrase = class {
  constructor() {
    this.words = [];
  }
  async DisplayOnce(div, fontSize = 17.5) {
    for (let i = 0; i < this.words.length; i++) {
      await this.words[i].DisplayOnce(div, fontSize);
    }
  }
  async DisplayLoop(div, fontSize = 17.5) {
    for (let i = 0; i < this.words.length; i++) {
      for (let j = 0; j < this.words.length; j++) {
        await this.words[j].DisplayOnce(div, fontSize);
      }
      if (i === this.words.length - 1) {
        i = -1;
      }
    }
  }
};
var ColorWord = class {
  constructor() {
    this.tracks = [];
    this.tracks.push(new ColorWordTrack());
  }
  get duration() {
    let max = 0;
    for (let i = 0; i < this.tracks.length; i++) {
      let ms = 0;
      ms += this.tracks[i].duration;
      if (ms > max) {
        max = ms;
      }
    }
    return max;
  }
  async DisplayOnce(div, fontSize = 17.5) {
    const wordDiv = div.createDiv();
    wordDiv.style.position = "relative";
    wordDiv.style.width = fontSize * 3.25 + "px";
    wordDiv.style.height = fontSize * 3.25 + "px";
    for (let i = 0; i < this.tracks.length; i++) {
      this.tracks[i].DisplayOnce(wordDiv, fontSize);
    }
    await sleep(this.duration);
    wordDiv.remove();
  }
  async DisplayStatic(div, fontSize = 17.5) {
    div.empty();
    const wordDiv = div.createDiv();
    wordDiv.style.position = "relative";
    wordDiv.style.width = fontSize * 3.25 + "px";
    wordDiv.style.height = fontSize * 3.25 + "px";
    for (let i = 0; i < this.tracks.length; i++) {
      const track = this.tracks[i];
      track.DisplayStatic(wordDiv, fontSize);
    }
  }
  async DisplayLoop(div, fontSize = 17.5) {
    div.empty();
    const wordDiv = div.createDiv();
    wordDiv.style.position = "relative";
    wordDiv.style.width = fontSize * 3.25 + "px";
    wordDiv.style.height = fontSize * 3.25 + "px";
    let doLoop = true;
    doLoop = true;
    while (doLoop) {
      for (let i = 0; i < this.tracks.length; i++) {
        const track = this.tracks[i];
        track.DisplayOnce(wordDiv, fontSize);
      }
      await sleep(this.duration);
    }
  }
  DisplayEditor(div) {
    div.empty();
    const popup = div.createDiv("cfe-popup");
    const exitButtonDiv = popup.createDiv();
    exitButtonDiv.style.position = "relative";
    const exitButton = exitButtonDiv.createEl("button", { text: "X" });
    exitButton.className = "cfe-remove-button";
    exitButton.style.position = "absolute";
    exitButton.style.top = "0%";
    exitButton.style.right = "0%";
    exitButton.onclick = () => {
      div.remove();
    };
    const halves = popup.createDiv("hbox");
    halves.style.width = "100%";
    halves.style.height = "100%";
    const leftSide = halves.createDiv("vbox");
    leftSide.style.width = "40%";
    const glyphsDiv = halves.createDiv("vbox");
    glyphsDiv.style.width = "60%";
    const speakDiv = leftSide.createDiv();
    speakDiv.style.height = "50%";
    this.DisplayLoop(speakDiv, 100);
    const tracksDiv = leftSide.createDiv();
    tracksDiv.style.height = "50%";
    for (let i = 0; i < this.tracks.length; i++) {
      const index = i;
      const trackDiv = tracksDiv.createDiv("hbox");
      trackDiv.style.width = "100%";
      trackDiv.style.borderStyle = "solid";
      trackDiv.style.borderColor = "#FFFFFF";
      const trackNumber = trackDiv.createEl("div", { text: "track " + i });
      trackNumber.style.width = "100%";
      trackNumber.className = "cfe-pointer-hover";
      const deleteButton = trackDiv.createEl("button", { text: "-" });
      deleteButton.className = "cfe-remove-button";
      trackNumber.onclick = () => {
        this.tracks[index].DisplayEditor(glyphsDiv);
      };
      deleteButton.onclick = () => {
        this.tracks.splice(index, 1);
        trackDiv.remove();
        this.DisplayEditor(div);
      };
    }
    const addButton = tracksDiv.createEl("button", { text: "+" });
    addButton.onclick = () => {
      this.tracks.push(new ColorWordTrack());
      this.DisplayEditor(div);
    };
  }
};
var ColorWordTrack = class {
  constructor() {
    this.glyphs = [];
    this.glyphs.push(new ColorGlyph());
  }
  get duration() {
    let ms = 0;
    for (let i = 0; i < this.glyphs.length; i++) {
      ms += this.glyphs[i].transitionTime;
      ms += this.glyphs[i].duration;
    }
    return ms;
  }
  DisplayStatic(div, fontSize = 17.5) {
    if (this.glyphs.length < 1) {
      return;
    }
    const trackDiv = div.createDiv();
    trackDiv.style.position = "absolute";
    trackDiv.style.fontFamily = "ColorLang";
    trackDiv.style.fontSize = fontSize + "px";
    trackDiv.style.transitionProperty = "all";
    this.glyphs[0].DisplayStatic(trackDiv, fontSize);
  }
  async DisplayOnce(div, fontSize = 17.5) {
    const trackDiv = div.createDiv();
    trackDiv.style.position = "absolute";
    trackDiv.style.fontFamily = "ColorLang";
    trackDiv.style.fontSize = fontSize + "px";
    trackDiv.style.transitionProperty = "all";
    for (let i = 0; i < this.glyphs.length; i++) {
      const glyph = this.glyphs[i];
      await glyph.Display(trackDiv, fontSize);
    }
    trackDiv.remove();
  }
  async DisplayLoop(div, fontSize = 17.5) {
    const trackDiv = div.createDiv();
    trackDiv.style.position = "absolute";
    trackDiv.style.fontFamily = "ColorLang";
    trackDiv.style.fontSize = fontSize + "px";
    trackDiv.style.transitionProperty = "all";
    for (let i = 0; i < this.glyphs.length; i++) {
      const glyph = this.glyphs[i];
      await glyph.Display(trackDiv, fontSize);
      if (i === this.glyphs.length - 1) {
        i = -1;
      }
    }
    trackDiv.remove();
  }
  DisplayEditor(glyphsDiv) {
    glyphsDiv.empty();
    for (let i = 0; i < this.glyphs.length; i++) {
      const index = i;
      const glyphDiv = glyphsDiv.createDiv("hbox");
      glyphDiv.style.width = "100%";
      this.glyphs[i].DisplayEditor(glyphDiv);
      const deleteButton = glyphDiv.createEl("button", { text: "-" });
      deleteButton.className = "cfe-remove-button";
      deleteButton.onclick = () => {
        glyphDiv.remove();
        this.glyphs.splice(index, 1);
        this.DisplayEditor(glyphsDiv);
      };
    }
    const addButton = glyphsDiv.createEl("button", { text: "+" });
    addButton.onclick = () => {
      this.glyphs.push(new ColorGlyph());
      this.DisplayEditor(glyphsDiv);
    };
  }
};
var ColorGlyph = class {
  constructor() {
    this.shape = "o";
    this.color = "#FFFFFF";
    this.opacity = 100;
    this.transitionTime = 100;
    this.duration = 500;
    this.size = 100;
    this.x = 0;
    this.y = 0;
    this.z = 0;
    this.r = 0;
  }
  // Full disclosure, ChatGPT wrote this one
  hexToRGBA(hex, opacity) {
    hex = hex.replace("#", "");
    const r = parseInt(hex.substring(0, 2), 16);
    const g = parseInt(hex.substring(2, 4), 16);
    const b = parseInt(hex.substring(4, 6), 16);
    const alpha = opacity / 100;
    return `rgba(${r}, ${g}, ${b}, ${alpha})`;
  }
  DisplayStatic(div, fontSize) {
    div.textContent = this.shape;
    div.style.color = this.hexToRGBA(this.color, this.opacity);
    div.style.fontSize = fontSize * this.size / 100 + "px";
    div.style.transform = "translate(-50%, 50%) rotate(" + this.r + "deg)";
    div.style.left = this.x + 50 + "%";
    div.style.bottom = this.y + 50 + "%";
    div.style.zIndex = this.z + "";
  }
  async Display(div, fontSize) {
    div.textContent = this.shape;
    div.style.color = this.hexToRGBA(this.color, this.opacity);
    div.style.fontSize = fontSize * this.size / 100 + "px";
    div.style.transform = "translate(-50%, 50%) rotate(" + this.r + "deg)";
    div.style.left = this.x + 50 + "%";
    div.style.bottom = this.y + 50 + "%";
    div.style.zIndex = this.z + "";
    div.style.transitionDuration = this.transitionTime + "ms";
    await sleep(this.duration + this.transitionTime);
  }
  DisplayEditor(div) {
    const shapeInput = div.createEl("input", { type: "text", value: this.shape });
    shapeInput.style.fontFamily = "ColorLang";
    shapeInput.style.width = "5%";
    const colorInput = div.createEl("input", { type: "color", value: this.color });
    div.createEl("div", { text: "Alpha" });
    const opacityInput = div.createEl("input", { type: "text", value: this.opacity + "" });
    opacityInput.style.width = "7%";
    div.createEl("div", { text: "TTime" });
    const transitionTimeInput = div.createEl("input", { type: "text", value: this.transitionTime + "" });
    transitionTimeInput.style.width = "8%";
    div.createEl("div", { text: "Duration" });
    const durationInput = div.createEl("input", { type: "text", value: this.duration + "" });
    durationInput.style.width = "8%";
    div.createEl("div", { text: "Size" });
    const sizeInput = div.createEl("input", { type: "text", value: this.size + "" });
    sizeInput.style.width = "7%";
    div.createEl("div", { text: "x" });
    const xInput = div.createEl("input", { type: "text", value: this.x + "" });
    xInput.style.width = "5%";
    div.createEl("div", { text: "y" });
    const yInput = div.createEl("input", { type: "text", value: this.y + "" });
    yInput.style.width = "5%";
    div.createEl("div", { text: "z" });
    const zInput = div.createEl("input", { type: "text", value: this.z + "" });
    zInput.style.width = "5%";
    div.createEl("div", { text: "r" });
    const rInput = div.createEl("input", { type: "text", value: this.r + "" });
    rInput.style.width = "5%";
    shapeInput.onchange = () => {
      this.shape = shapeInput.value;
    };
    colorInput.onchange = () => {
      this.color = colorInput.value;
    };
    opacityInput.onchange = () => {
      this.opacity = parseInt(opacityInput.value);
    };
    transitionTimeInput.onchange = () => {
      this.transitionTime = parseFloat(transitionTimeInput.value);
    };
    durationInput.onchange = () => {
      this.duration = parseFloat(durationInput.value);
    };
    sizeInput.onchange = () => {
      this.size = parseInt(sizeInput.value);
    };
    xInput.onchange = () => {
      this.x = parseFloat(xInput.value);
    };
    yInput.onchange = () => {
      this.y = parseFloat(yInput.value);
    };
    zInput.onchange = () => {
      this.z = parseFloat(zInput.value);
    };
    rInput.onchange = () => {
      this.r = parseFloat(rInput.value);
    };
  }
};

// classes/conlangs/language-handler.ts
var LanguageHandler = class {
  static CreateOneLineEditor(cleanDiv, div, language, value = void 0, fontSize = void 0, isVertical = void 0) {
    switch (language) {
      case "English":
      default:
        return English.CreateOneLineEditor(cleanDiv, div, value, fontSize, isVertical);
      case "Hwayu":
        return Hwayu.CreateOneLineEditor(cleanDiv, div, value, fontSize, isVertical);
      case "Color Lang":
        return ColorLang.CreateOneLineEditor(cleanDiv, div, value, fontSize, isVertical);
    }
  }
  static CreateMultiLineEditor(cleanDiv, div, language, value = void 0, fontSize = void 0, isVertical = void 0) {
    switch (language) {
      case "English":
      default:
        return English.CreateMultiLineEditor(cleanDiv, div, value, fontSize, isVertical);
      case "Hwayu":
        return Hwayu.CreateMultiLineEditor(cleanDiv, div, value, fontSize, isVertical);
      case "Color Lang":
        return ColorLang.CreateMultiLineEditor(cleanDiv, div, value, fontSize, isVertical);
    }
  }
  static Display(cleanDiv, div, language, value = void 0, fontSize = void 0, isVertical = void 0) {
    switch (language) {
      case "English":
      default:
        return English.Display(cleanDiv, div, value, fontSize, isVertical);
      case "Hwayu":
        return Hwayu.Display(cleanDiv, div, value, fontSize, isVertical);
      case "Color Lang":
        return ColorLang.Display(cleanDiv, div, value, fontSize, isVertical);
    }
  }
  static SpeakOrAnimate(cleanDiv, div, language, value = void 0, fontSize = void 0, isVertical = void 0) {
    switch (language) {
      case "English":
      default:
        throw Error("This language does not have an animating or speaking function");
      case "Hwayu":
        throw Error("This language does not have an animating or speaking function");
      case "Color Lang":
        return ColorLang.SpeakOrAnimate(cleanDiv, div, value, fontSize, isVertical);
    }
  }
};
LanguageHandler.knownLanguages = [
  "English",
  "Hwayu",
  "Color Lang"
];

// classes/conlang-dictionary.ts
var ConlangDictionary = class extends CFEFile {
  static async CreateNewFileForLayer(snv, fileType, parentFolderID, name) {
    const unfinishedDictionary = await super.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
    unfinishedDictionary.termLanguage = "English";
    unfinishedDictionary.definitionLanguage = "English";
    unfinishedDictionary.words = [];
    unfinishedDictionary.searchTerm = "";
    unfinishedDictionary.searchInConlang = false;
    return unfinishedDictionary;
  }
  async Display(snv, mainDiv) {
    await super.Display(snv, mainDiv);
    mainDiv.createEl("p", { text: "Term Language" });
    const termLanguageDropdown = mainDiv.createEl("select");
    for (let i = 0; i < LanguageHandler.knownLanguages.length; i++) {
      const currentLang = LanguageHandler.knownLanguages[i];
      termLanguageDropdown.createEl("option", { text: currentLang, value: currentLang });
    }
    termLanguageDropdown.value = this.termLanguage;
    mainDiv.createEl("p", { text: "Definition Language" });
    const definitionLanguageDropdown = mainDiv.createEl("select");
    for (let i = 0; i < LanguageHandler.knownLanguages.length; i++) {
      const currentLang = LanguageHandler.knownLanguages[i];
      definitionLanguageDropdown.createEl("option", { text: currentLang, value: currentLang });
    }
    definitionLanguageDropdown.value = this.definitionLanguage;
    const addWordDiv = mainDiv.createDiv("vbox");
    await this.CreateNewWordEditor(snv, mainDiv, addWordDiv);
    termLanguageDropdown.onchange = async () => {
      this.termLanguage = termLanguageDropdown.value;
      await this.Save(snv);
      await this.Display(snv, mainDiv);
    };
    definitionLanguageDropdown.onchange = async () => {
      this.definitionLanguage = definitionLanguageDropdown.value;
      await this.Save(snv);
      await this.Display(snv, mainDiv);
    };
    await this.DisplayList(snv, mainDiv);
  }
  async DisplayWord(snv, mainDiv, div, index) {
    div.empty();
    const modeButton = div.createEl("button", { text: "Edit" });
    modeButton.style.top = "0";
    modeButton.style.right = "0";
    modeButton.onclick = async () => {
      await this.EditWord(snv, mainDiv, div, index);
    };
    const wordDiv = div.createDiv("hbox");
    wordDiv.style.gap = "1%";
    wordDiv.style.fontSize = "17.5px";
    const conlangWord = this.words[index][0];
    const definition = this.words[index][1];
    const conlangWordDiv = LanguageHandler.Display(mainDiv, wordDiv, this.termLanguage, conlangWord, 17.5);
    conlangWordDiv.classList.add("cfe-pointer-hover");
    wordDiv.createEl("div", { text: ":" });
    LanguageHandler.Display(mainDiv, wordDiv, this.definitionLanguage, definition, 17.5);
    conlangWordDiv.onclick = async () => {
      try {
        await navigator.clipboard.writeText(conlangWord);
      } catch (err) {
        console.error("Failed to copy text: ", err);
      }
    };
  }
  async EditWord(snv, mainDiv, div, index) {
    div.empty();
    const buttonsDiv = div.createDiv("hbox");
    const modeButton = buttonsDiv.createEl("button", { text: "View" });
    modeButton.onclick = async () => {
      await this.DisplayWord(snv, mainDiv, div, index);
    };
    const deleteButton = buttonsDiv.createEl("button", { text: "Delete" });
    deleteButton.classList = "cfe-remove-button";
    deleteButton.onclick = async () => {
      this.words.splice(index, 1);
      await this.Save(snv);
      await this.Display(snv, mainDiv);
    };
    const wordDiv = div.createDiv("vbox");
    wordDiv.createEl("p", { text: "Word in " + this.termLanguage });
    const conlangWord = this.words[index][0];
    const definition = this.words[index][1];
    const newWordInput = LanguageHandler.CreateOneLineEditor(mainDiv, wordDiv, this.termLanguage, conlangWord, 17.5, false);
    wordDiv.createEl("p", { text: "Definition" });
    const definitionInput = LanguageHandler.CreateOneLineEditor(mainDiv, wordDiv, this.definitionLanguage, definition, 17.5, false);
    const onSubmit = async () => {
      this.words[index] = [newWordInput.value, definitionInput.value];
      this.ReSort(index);
      await this.Save(snv);
      await this.Display(snv, mainDiv);
    };
    div.onkeydown = async (event) => {
      if (event.key === "Enter") {
        await onSubmit();
      }
    };
  }
  CreateNewWordEditor(snv, mainDiv, div) {
    div.createEl("p", { text: "Add New Word:" });
    div.createEl("p", { text: "Word in " + this.termLanguage });
    const newWordInput = LanguageHandler.CreateOneLineEditor(mainDiv, div, this.termLanguage, void 0, 17.5, false);
    div.createEl("p", { text: "Definition" });
    const definitionInput = LanguageHandler.CreateOneLineEditor(mainDiv, div, this.definitionLanguage, void 0, 17.5, false);
    const submitButton = div.createEl("button", { text: "submit" });
    const onSubmit = async () => {
      this.words.push([newWordInput.value, definitionInput.value]);
      this.ReSort(this.words.length - 1);
      await this.Save(snv);
      await this.Display(snv, mainDiv);
    };
    submitButton.onclick = onSubmit;
    div.onkeydown = async (event) => {
      if (event.key === "Enter") {
        await onSubmit();
      }
    };
  }
  async DisplayList(snv, div) {
    div.createEl("p", { text: "Search in " + this.termLanguage + "?" });
    const checkbox = div.createEl("input", { type: "checkbox" });
    checkbox.checked = this.searchInConlang;
    div.createEl("p", { text: "Search term" });
    const conlangSearch = LanguageHandler.CreateOneLineEditor(div, div, this.termLanguage, this.searchTerm, 17.5, false);
    const definitionSearch = LanguageHandler.CreateOneLineEditor(div, div, this.definitionLanguage, this.searchTerm, 17.5, false);
    let prevElement = checkbox.checked ? definitionSearch : conlangSearch;
    let currentElement = checkbox.checked ? conlangSearch : definitionSearch;
    prevElement.style.width = "100%";
    currentElement.style.width = "100%";
    this.searchTerm = prevElement.value;
    prevElement.style.display = "none";
    currentElement.value = this.searchTerm;
    currentElement.style.display = "";
    const resultsDiv = div.createDiv("cfe-dictionary-grid");
    const refreshResults = () => {
      this.searchTerm = currentElement.value;
      this.searchInConlang = checkbox.checked;
      resultsDiv.empty();
      for (let i = 0; i < this.words.length; i++) {
        if (this.words[i][checkbox.checked ? 0 : 1].contains(currentElement.value)) {
          const wordDiv = resultsDiv.createDiv("cfe-dictionary-word");
          this.DisplayWord(snv, div, wordDiv, i);
        }
      }
    };
    refreshResults();
    conlangSearch.oninput = refreshResults;
    definitionSearch.oninput = refreshResults;
    checkbox.onchange = () => {
      resultsDiv.empty();
      prevElement = checkbox.checked ? definitionSearch : conlangSearch;
      currentElement = checkbox.checked ? conlangSearch : definitionSearch;
      this.searchTerm = prevElement.value;
      prevElement.style.display = "none";
      currentElement.value = this.searchTerm;
      currentElement.style.display = "";
      refreshResults();
    };
  }
  ReSort(indexOfChangedWord) {
    const changedWord = this.words.splice(indexOfChangedWord, 1)[0];
    let i = 0;
    let left = 0;
    let right = this.words.length - 1;
    while (left <= right) {
      const mid = Math.floor((left + right) / 2);
      if (this.words[mid][0] < changedWord[0]) {
        left = mid + 1;
        i = left;
      } else {
        right = mid - 1;
        i = mid;
      }
    }
    this.words.splice(i, 0, changedWord);
  }
};

// classes/story.ts
var Story = class extends CFEFile {
  MakeVertical(el) {
    el.style.writingMode = "vertical-lr";
    el.style.textOrientation = "upright";
  }
  DisplayLineEdit(mainDiv, div, line) {
    const input = LanguageHandler.CreateMultiLineEditor(mainDiv, div, this.language, line.content);
    const speaker = this.characters[line.speakerIndex];
    if (this.language !== "Color Lang") {
      input.style.backgroundColor = speaker.backgroundColor;
      input.style.color = speaker.color;
    }
    input.isVertical = this.doVertical;
    return input;
  }
  static async CreateNewFileForLayer(snv, fileType, parentFolderID, name) {
    const newStoryFile = await super.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
    newStoryFile.currentPageIndex = 0;
    newStoryFile.pages = [];
    newStoryFile.characters = [];
    newStoryFile.language = "English";
    newStoryFile.doVertical = false;
    return newStoryFile;
  }
  async Display(snv, mainDiv) {
    await super.Display(snv, mainDiv);
    this.LoadStoryUI(snv, mainDiv.createDiv("vbox"));
  }
  LoadStoryUI(snv, mainDiv) {
    mainDiv.empty();
    mainDiv.createEl("p", { text: "Go to page number:" });
    const pageSelectDiv = mainDiv.createDiv("hbox");
    const pageNumberInput = pageSelectDiv.createEl("input", { type: "text", value: "" + (this.currentPageIndex + 1) });
    pageSelectDiv.createEl("p", { text: "/" + this.pages.length });
    const goButton = pageSelectDiv.createEl("button", { text: "Go" });
    goButton.onclick = () => {
      this.currentPageIndex = parseInt(pageNumberInput.value) - 1;
      this.LoadCurrentPageEdit(snv, mainDiv);
    };
    mainDiv.createEl("p", { text: "Font Size (in px):" });
    const fontSizeInput = mainDiv.createEl("input", { type: "text" });
    fontSizeInput.value = this.fontSize ? "" + this.fontSize : "17.5";
    fontSizeInput.onchange = async () => {
      this.fontSize = parseFloat(fontSizeInput.value);
      await this.Save(snv);
      this.LoadStoryUI(snv, mainDiv);
    };
    mainDiv.createEl("p", { text: "Language:" });
    const languageInput = mainDiv.createEl("select");
    for (let i = 0; i < LanguageHandler.knownLanguages.length; i++) {
      languageInput.createEl("option", { text: LanguageHandler.knownLanguages[i], value: LanguageHandler.knownLanguages[i] });
    }
    languageInput.value = this.language;
    languageInput.onchange = async () => {
      this.language = languageInput.value;
      await this.Save(snv);
      this.LoadStoryUI(snv, mainDiv);
    };
    mainDiv.createEl("p", { text: "Vertical Text" });
    const doVerticalBox = mainDiv.createEl("input", { type: "checkbox" });
    doVerticalBox.checked = this.doVertical;
    doVerticalBox.onclick = async () => {
      this.doVertical = doVerticalBox.checked;
      await this.Save(snv);
      this.LoadStoryUI(snv, mainDiv);
    };
    this.LoadCharacterEditorUI(snv, mainDiv);
  }
  LoadCharacterEditorUI(snv, div) {
    const charEditorDiv = div.createDiv();
    charEditorDiv.className = this.doVertical ? "hbox" : "vbox";
    for (let i = 0; i < this.characters.length; i++) {
      const currentIndex = i;
      const charDiv = charEditorDiv.createDiv();
      charDiv.className = this.doVertical ? "vbox" : "hbox";
      charDiv.createEl("p", { text: "Name: " });
      const nameInput = LanguageHandler.CreateOneLineEditor(div, charDiv, this.language, this.characters[currentIndex].name, this.fontSize, this.doVertical);
      if (this.language !== "Color Lang") {
        nameInput.style.backgroundColor = this.characters[currentIndex].backgroundColor;
        nameInput.style.color = this.characters[currentIndex].color;
      }
      nameInput.onchange = async () => {
        this.characters[currentIndex].name = nameInput.value;
        await this.Save(snv);
        this.LoadStoryUI(snv, div);
      };
      if (this.doVertical) {
        nameInput.style.height = "fit-content";
      } else {
        nameInput.style.width = "fit-content";
      }
      if (this.language !== "Color Lang") {
        this.LoadCharacterColorSelectionUI(snv, div, charEditorDiv, currentIndex);
      }
    }
    const addCharButton = charEditorDiv.createEl("button", { text: "Add Character" });
    addCharButton.onclick = async () => {
      this.characters.push(new Character());
      await this.Save(snv);
      charEditorDiv.remove();
      this.LoadCharacterEditorUI(snv, div);
    };
  }
  LoadCharacterColorSelectionUI(snv, div, charEditorDiv, currentIndex) {
    const colorDiv = charEditorDiv.createDiv();
    colorDiv.className = this.doVertical ? "vbox" : "hbox";
    colorDiv.createEl("p", { text: "Text Color:" });
    const colorInput = colorDiv.createEl("input", { type: "color", value: this.characters[currentIndex].color });
    const swapButton = colorDiv.createEl("button", { text: "Swap" });
    colorInput.onchange = async () => {
      this.characters[currentIndex].color = colorInput.value;
      await this.Save(snv);
      charEditorDiv.remove();
      this.LoadCharacterEditorUI(snv, div);
    };
    colorDiv.createEl("p", { text: "Background Color:" });
    const backgroundInput = colorDiv.createEl("input", { type: "color", value: this.characters[currentIndex].backgroundColor });
    backgroundInput.onchange = async () => {
      this.characters[currentIndex].backgroundColor = backgroundInput.value;
      await this.Save(snv);
      charEditorDiv.remove();
      this.LoadCharacterEditorUI(snv, div);
    };
    swapButton.onclick = async () => {
      this.characters[currentIndex].backgroundColor = colorInput.value;
      this.characters[currentIndex].color = backgroundInput.value;
      await this.Save(snv);
      charEditorDiv.remove();
      this.LoadCharacterEditorUI(snv, div);
    };
  }
  LoadPageSelector(snv, mainDiv) {
    const buttonsDiv = mainDiv.createDiv("hbox");
    const backButton = buttonsDiv.createEl("button", { text: "-" });
    const pageNumberInput = buttonsDiv.createEl("input", { type: "text", value: "" + (this.currentPageIndex + 1) });
    buttonsDiv.createEl("p", { text: "/" + this.pages.length });
    const nextButton = buttonsDiv.createEl("button", { text: "+" });
    const deleteButton = buttonsDiv.createEl("button", { text: "Delete Page" });
    deleteButton.className = "cfe-remove-button";
    const addButton = buttonsDiv.createEl("button", { text: "Add Page" });
    const editModeButton = buttonsDiv.createEl("button", { text: "Edit Mode" });
    const viewModeButton = buttonsDiv.createEl("button", { text: "View Mode" });
    const homeButton = buttonsDiv.createEl("button", { text: "Return to Story" });
    homeButton.onclick = async () => {
      await this.LoadStoryUI(snv, mainDiv);
    };
    editModeButton.onclick = async () => {
      await this.LoadCurrentPageEdit(snv, mainDiv);
    };
    viewModeButton.onclick = async () => {
      await this.LoadCurrentPageDisplayOnly(snv, mainDiv);
    };
    backButton.onclick = async () => {
      if (this.currentPageIndex > 0) {
        this.currentPageIndex--;
        await this.LoadCurrentPageEdit(snv, mainDiv);
      }
    };
    nextButton.onclick = async () => {
      if (this.currentPageIndex < this.pages.length) {
        this.currentPageIndex++;
        await this.LoadCurrentPageEdit(snv, mainDiv);
      }
    };
    pageNumberInput.onchange = async () => {
      this.currentPageIndex = parseInt(pageNumberInput.value) - 1;
      await this.LoadCurrentPageEdit(snv, mainDiv);
    };
    deleteButton.onclick = async () => {
      this.pages.splice(this.currentPageIndex, 1);
      await this.Save(snv);
      if (this.currentPageIndex !== 0) {
        this.currentPageIndex--;
      }
      await this.LoadCurrentPageEdit(snv, mainDiv);
    };
    addButton.onclick = async () => {
      const defaultPage = new Page();
      const thisPageFileID = this.pages[this.currentPageIndex].mediaFileID;
      if (thisPageFileID !== -1 && thisPageFileID < snv.sourceFolder.fileCount) {
        defaultPage.mediaFileID = thisPageFileID;
      }
      this.pages.splice(this.currentPageIndex + 1, 0, defaultPage);
      await this.Save(snv);
      this.currentPageIndex++;
      await this.LoadCurrentPageEdit(snv, mainDiv);
    };
  }
  async LoadCurrentPageEdit(snv, mainDiv) {
    mainDiv.empty();
    this.LoadPageSelector(snv, mainDiv);
    mainDiv.createEl("p", { text: "Media File ID:" });
    const mediaFileIDInput = mainDiv.createEl("input", { type: "text" });
    const panelDiv = mainDiv.createDiv("hbox");
    const outerMediaDiv = panelDiv.createDiv("vbox");
    outerMediaDiv.style.position = "relative";
    const linesDiv = panelDiv.createDiv("vbox");
    const speakDiv = outerMediaDiv.createDiv();
    speakDiv.style.position = "absolute";
    speakDiv.style.top = "0px";
    speakDiv.style.left = "0px";
    const mediaWidthInput = outerMediaDiv.createEl("input", { type: "text" });
    mediaWidthInput.onchange = async () => {
      outerMediaDiv.style.width = mediaWidthInput.value + "%";
      linesDiv.style.width = 100 - parseInt(mediaWidthInput.value) + "%";
      this.pages[this.currentPageIndex].mediaSizePercentage = parseInt(mediaWidthInput.value);
      await this.Save(snv);
    };
    const mediaDiv = outerMediaDiv.createDiv("vbox");
    outerMediaDiv.style.width = "50%";
    mediaDiv.style.objectFit = "contain";
    linesDiv.style.width = "50%";
    linesDiv.style.maxHeight = "80vh";
    linesDiv.style.position = "sticky";
    linesDiv.style.top = "0%";
    if (this.currentPageIndex < this.pages.length) {
      const currentPage = this.pages[this.currentPageIndex];
      const mediaFileID = currentPage.mediaFileID;
      mediaFileIDInput.value = "" + currentPage.mediaFileID;
      if (mediaFileID > 0) {
        const mediaFile = await CFEFileHandler.LoadFile(snv, mediaFileID);
        await mediaFile.DisplayMediaOnly(mediaDiv, snv);
      }
      if (this.pages[this.currentPageIndex].mediaSizePercentage) {
        mediaWidthInput.value = "" + this.pages[this.currentPageIndex].mediaSizePercentage;
        outerMediaDiv.style.width = mediaWidthInput.value + "%";
        linesDiv.style.width = 100 - parseInt(mediaWidthInput.value) + "%";
      } else {
        mediaWidthInput.value = "50";
        this.pages[this.currentPageIndex].mediaSizePercentage = 50;
        await this.Save(snv);
      }
    } else {
      const defaultPage = new Page();
      const lastPage = this.currentPageIndex - 1;
      if (lastPage >= 0 && this.currentPageIndex !== 0) {
        const lastPageFileID = this.pages[lastPage].mediaFileID;
        const lastPageSize = this.pages[lastPage].mediaSizePercentage;
        defaultPage.mediaSizePercentage = lastPageSize;
        mediaWidthInput.value = "" + lastPageSize;
        outerMediaDiv.style.width = mediaWidthInput.value + "%";
        linesDiv.style.width = 100 - parseInt(mediaWidthInput.value) + "%";
        if (lastPageFileID !== -1 && lastPageFileID < snv.sourceFolder.fileCount) {
          const mediaFileID = lastPageFileID + 1;
          defaultPage.mediaFileID = mediaFileID;
          mediaFileIDInput.value = "" + mediaFileID;
          if (mediaFileID > 0) {
            const mediaFile = await CFEFileHandler.LoadFile(snv, mediaFileID);
            await mediaFile.DisplayMediaOnly(mediaDiv, snv);
          }
        }
      }
      this.pages.push(defaultPage);
      await this.Save(snv);
    }
    await this.LoadDialogueLinesEdit(snv, linesDiv, speakDiv, mainDiv);
    mediaFileIDInput.onchange = async () => {
      const currentPage = this.pages[this.currentPageIndex];
      currentPage.mediaFileID = parseInt(mediaFileIDInput.value);
      await this.Save(snv);
      const mediaFile = await CFEFileHandler.LoadFile(snv, currentPage.mediaFileID);
      await mediaFile.DisplayMediaOnly(mediaDiv, snv);
    };
  }
  async LoadCurrentPageDisplayOnly(snv, mainDiv) {
    mainDiv.empty();
    this.LoadPageSelector(snv, mainDiv);
    const panelDiv = mainDiv.createDiv("hbox");
    const outerMediaDiv = panelDiv.createDiv("vbox");
    outerMediaDiv.style.position = "relative";
    const linesDiv = panelDiv.createDiv("vbox");
    const speakDiv = outerMediaDiv.createDiv();
    speakDiv.style.position = "absolute";
    speakDiv.style.top = "0px";
    speakDiv.style.left = "0px";
    const mediaDiv = outerMediaDiv.createDiv("vbox");
    outerMediaDiv.style.width = "50%";
    mediaDiv.style.objectFit = "contain";
    linesDiv.style.width = "50%";
    linesDiv.style.maxHeight = "80vh";
    linesDiv.style.position = "sticky";
    linesDiv.style.top = "0%";
    const currentPage = this.pages[this.currentPageIndex];
    const mediaFileID = currentPage.mediaFileID;
    if (mediaFileID > 0) {
      const mediaFile = await CFEFileHandler.LoadFile(snv, mediaFileID);
      await mediaFile.DisplayMediaOnly(mediaDiv, snv);
    }
    if (this.pages[this.currentPageIndex].mediaSizePercentage) {
      const width = this.pages[this.currentPageIndex].mediaSizePercentage;
      outerMediaDiv.style.width = width + "%";
      linesDiv.style.width = 100 - width + "%";
    }
    await this.LoadDialogueLinesDisplayOnly(linesDiv, speakDiv, mainDiv);
  }
  async LoadDialogueLinesEdit(snv, linesDiv, speakDiv, cleanDiv) {
    linesDiv.empty();
    const existingLinesDiv = linesDiv.createDiv();
    existingLinesDiv.className = this.doVertical ? "hbox" : "vbox";
    if (this.doVertical) {
      existingLinesDiv.style.overflowX = "scroll";
    } else {
      existingLinesDiv.style.overflowY = "scroll";
    }
    for (let i = 0; i < this.pages[this.currentPageIndex].lines.length; i++) {
      const currentIndex = i;
      const currentLine = this.pages[this.currentPageIndex].lines[i];
      const speaker = this.characters[currentLine.speakerIndex];
      const lineDiv = existingLinesDiv.createDiv();
      lineDiv.className = this.doVertical ? "vbox" : "hbox";
      const deleteButton = lineDiv.createEl("button", { text: "-" });
      deleteButton.className = "cfe-remove-button";
      deleteButton.onclick = async () => {
        this.pages[this.currentPageIndex].lines.splice(currentIndex, 1);
        await this.Save(snv);
        await this.LoadDialogueLinesEdit(snv, linesDiv, speakDiv, cleanDiv);
      };
      if (this.doVertical) {
        this.MakeVertical(deleteButton);
      }
      const playButton = lineDiv.createEl("button", { text: "\u25B7" });
      playButton.onclick = () => {
        try {
          LanguageHandler.SpeakOrAnimate(cleanDiv, speakDiv, this.language, currentLine.content, 150, this.doVertical);
        } catch (e) {
          e.console.error();
        }
      };
      const charDropdownButton = lineDiv.createDiv();
      const charDropdownDiv = charDropdownButton.createDiv();
      charDropdownDiv.style.height = "fit-content";
      charDropdownDiv.style.width = "fit-content";
      charDropdownDiv.style.position = "relative";
      charDropdownButton.onclick = () => {
        const selectDiv = charDropdownDiv.createDiv();
        selectDiv.className = this.doVertical ? "hbox" : "vbox";
        selectDiv.style.position = "absolute";
        selectDiv.style.top = "0%";
        selectDiv.style.left = "0%";
        for (let i2 = 0; i2 < this.characters.length; i2++) {
          const currentCharIndex = i2;
          const currentChar = this.characters[currentCharIndex];
          const currentOption = selectDiv.createDiv();
          if (this.doVertical) {
            this.MakeVertical(currentOption);
          }
          if (this.language !== "Color Lang") {
            currentOption.style.backgroundColor = currentChar.backgroundColor;
            currentOption.style.color = currentChar.color;
          }
          currentOption.style.zIndex = "2";
          LanguageHandler.Display(speakDiv, currentOption, this.language, currentChar.name, this.fontSize, this.doVertical);
          currentOption.onclick = async () => {
            this.pages[this.currentPageIndex].lines[currentIndex].speakerIndex = currentCharIndex;
            await this.Save(snv);
            this.LoadDialogueLinesEdit(snv, linesDiv, speakDiv, cleanDiv);
          };
        }
      };
      const nameEl = LanguageHandler.Display(speakDiv, charDropdownDiv, this.language, this.characters[currentLine.speakerIndex].name, this.fontSize, this.doVertical);
      if (this.language !== "Color Lang") {
        nameEl.style.backgroundColor = speaker.backgroundColor;
        nameEl.style.color = speaker.color;
      }
      const lineInput = this.DisplayLineEdit(cleanDiv, lineDiv, currentLine);
      if (this.doVertical) {
        lineInput.style.height = "100%";
      } else {
        lineInput.style.width = "100%";
      }
      lineInput.onchange = async () => {
        currentLine.content = lineInput.value;
        await this.Save(snv);
      };
    }
    const addButton = existingLinesDiv.createEl("button", { text: "+" });
    addButton.onclick = async () => {
      this.pages[this.currentPageIndex].lines.push(new DialogueLine(0));
      await this.Save(snv);
      await this.LoadDialogueLinesEdit(snv, linesDiv, speakDiv, cleanDiv);
    };
  }
  async LoadDialogueLinesDisplayOnly(linesDiv, speakDiv, cleanDiv) {
    linesDiv.empty();
    const existingLinesDiv = linesDiv.createDiv();
    existingLinesDiv.className = this.doVertical ? "hbox" : "vbox";
    if (this.doVertical) {
      existingLinesDiv.style.overflowX = "scroll";
    } else {
      existingLinesDiv.style.overflowY = "scroll";
    }
    for (let i = 0; i < this.pages[this.currentPageIndex].lines.length; i++) {
      const currentLine = this.pages[this.currentPageIndex].lines[i];
      const speaker = this.characters[currentLine.speakerIndex];
      const playButton = existingLinesDiv.createEl("button", { text: "\u25B7" });
      const nameDiv = existingLinesDiv.createDiv("");
      const lineDiv = existingLinesDiv.createDiv("");
      const nameEl = LanguageHandler.Display(cleanDiv, nameDiv, this.language, speaker.name, this.fontSize, this.doVertical);
      if (this.language !== "Color Lang") {
        nameEl.style.backgroundColor = speaker.backgroundColor;
        nameEl.style.color = speaker.color;
      }
      const lineEl = LanguageHandler.Display(cleanDiv, lineDiv, this.language, currentLine.content, this.fontSize, this.doVertical);
      if (this.language !== "Color Lang") {
        lineEl.style.backgroundColor = speaker.backgroundColor;
        lineEl.style.color = speaker.color;
      }
      playButton.onclick = () => {
        try {
          LanguageHandler.SpeakOrAnimate(cleanDiv, speakDiv, this.language, currentLine.content, 150, this.doVertical);
        } catch (e) {
          e.console.error();
        }
      };
    }
  }
};
var Page = class {
  constructor() {
    this.mediaFileID = -1;
    this.lines = [];
    this.mediaSizePercentage = 50;
  }
};
var DialogueLine = class {
  constructor(speakerIndex) {
    this.speakerIndex = speakerIndex;
    this.content = "";
  }
};
var Character = class {
  constructor(name = "", color = "#FFFFFF", backgroundColor = "#000000") {
    this.name = name;
    this.color = color;
    this.backgroundColor = backgroundColor;
  }
};

// classes/cfe-file-handler.ts
var CFEFileHandler = class {
  static async CreateNew(snv, fileType, parentFolderID, name) {
    let newFile;
    switch (fileType) {
      case "Folder":
      default:
        newFile = await Folder.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
        break;
      case "Single Media File":
        newFile = await SingleMediaFile.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
        break;
      case "Variant Media File":
        newFile = await VariantMediaFile.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
        break;
      case "Playlist":
        newFile = await Playlist.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
        break;
      case "Story":
        newFile = await Story.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
        break;
      case "Source Folder Shortcut":
        newFile = await SourceFolderShortcut.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
        break;
      case "Conlang Dictionary":
        newFile = await ConlangDictionary.CreateNewFileForLayer(snv, fileType, parentFolderID, name);
        break;
    }
    await newFile.Save(snv);
    return newFile;
  }
  static async LoadFile(snv, fileID) {
    const sourceFolder = snv.sourceFolder;
    const vault = snv.vault;
    const tFile = vault.getFileByPath(sourceFolder.vaultPath + "/" + fileID + ".json");
    if (tFile === null) {
      throw Error("File could not be found at the path: " + sourceFolder.vaultPath + "/" + fileID + ".json");
    }
    const jsonData = await vault.cachedRead(tFile);
    const plainObject = JSON.parse(jsonData);
    switch (plainObject.fileType) {
      case "Folder":
      default:
        return Object.assign(new Folder(), plainObject);
      case "Single Media File":
        return Object.assign(new SingleMediaFile(), plainObject);
      case "Variant Media File":
        return Object.assign(new VariantMediaFile(), plainObject);
      case "Playlist":
        return Object.assign(new Playlist(), plainObject);
      case "Story":
        return Object.assign(new Story(), plainObject);
      case "Source Folder Shortcut":
        return Object.assign(new SourceFolderShortcut(), plainObject);
      case "Conlang Dictionary":
        return Object.assign(new ConlangDictionary(), plainObject);
    }
  }
};
/**
 * All of the known file formats
 */
CFEFileHandler.KnownFileTypes = [
  "Folder",
  "Single Media File",
  "Variant Media File",
  "Playlist",
  "Story",
  "Source Folder Shortcut",
  "Conlang Dictionary"
];

// classes/snv.ts
var SourceAndVault = class {
  constructor(sourceFolder, vault) {
    this.sourceFolder = sourceFolder;
    this.vault = vault;
  }
};

// classes/source-folder.ts
var SourceFolder = class {
  constructor() {
    this.vaultPath = "";
    this.fileCount = 0;
  }
  async Display(container, vault) {
    const snv = new SourceAndVault(this, vault);
    const notExists = vault.getFileByPath(snv.sourceFolder.vaultPath + "/0.json") === null;
    if (notExists) {
      await CFEFileHandler.CreateNew(snv, "Folder", 0, "Root Folder");
    }
    const rootFolder = await CFEFileHandler.LoadFile(snv, 0);
    await SourceFolder.Save(snv);
    await rootFolder.Save(snv);
    await rootFolder.Display(snv, container);
  }
  static async CreateOrLoadSourceFolder(vaultPath, vault) {
    vaultPath = vaultPath.endsWith("/source.json") ? vaultPath.slice(0, -12) : vaultPath;
    const exists = vault.getFileByPath(vaultPath + "/source.json") !== null;
    let newSourceFolder;
    if (exists) {
      newSourceFolder = await this.LoadExistingSource(vaultPath, vault);
    } else {
      newSourceFolder = await this.CreateNewSourceFolder(vaultPath, vault);
    }
    return newSourceFolder;
  }
  static async CreateNewSourceFolder(vaultPath, vault) {
    const newSourceFolder = new SourceFolder();
    newSourceFolder.vaultPath = vaultPath;
    newSourceFolder.fileCount = 0;
    try {
      await vault.createFolder(vaultPath);
    } finally {
      const sourcePath = (0, import_obsidian3.normalizePath)(vaultPath + "/source.json");
      await vault.adapter.write(sourcePath, "0");
    }
    return newSourceFolder;
  }
  static async LoadExistingSource(vaultPath, vault) {
    const sourceTFile = vault.getFileByPath(vaultPath + "/source.json");
    if (sourceTFile === null) {
      new import_obsidian3.Notice("Source File could not be found at the path: " + vaultPath + "/source.json");
      throw Error("Source File could not be found at the path: " + vaultPath + "/source.json");
    }
    const jsonData = await vault.cachedRead(sourceTFile);
    const plainObject = await JSON.parse(jsonData);
    const newSourceFolder = Object.assign(new SourceFolder(), plainObject);
    newSourceFolder.vaultPath = vaultPath;
    await SourceFolder.Save(new SourceAndVault(newSourceFolder, vault));
    return newSourceFolder;
  }
  /**
   * Saves the new file count
   */
  static async Save(sourceAndVault) {
    const sourceFolder = sourceAndVault.sourceFolder;
    const vault = sourceAndVault.vault;
    const tFile = vault.getFileByPath(sourceFolder.vaultPath + "/source.json");
    if (tFile === null) {
      new import_obsidian3.Notice("Source File could not be found at the path: " + sourceFolder.vaultPath + "/source.json");
      throw Error("Source File could not be found at the path: " + sourceFolder.vaultPath + "/source.json");
    }
    const jsonData = JSON.stringify(sourceFolder);
    await vault.modify(tFile, jsonData);
  }
};

// classes/custom-explorer-view.ts
var VIEW_TYPE_CUSTOM_EXPLORER = "custom-explorer-view";
var CustomExplorerView = class extends import_obsidian4.ItemView {
  constructor(leaf, path) {
    super(leaf);
    this.defaultPath = path;
  }
  getViewType() {
    return VIEW_TYPE_CUSTOM_EXPLORER;
  }
  getDisplayText() {
    return "Example view";
  }
  async onOpen() {
    const wrapper = this.containerEl.children[1];
    wrapper.empty();
    const mainContainer = wrapper.createDiv("cfe-main-display");
    const homePage = mainContainer.createDiv("cfe-home-page");
    homePage.createEl("h4", { text: "Path to Source Folder:" });
    const existingSourcePathInput = homePage.createEl("input", { type: "text", value: this.defaultPath });
    existingSourcePathInput.style.width = "100%";
    const submitButton = homePage.createEl("button", { text: "submit" });
    const vault = this.app.vault;
    submitButton.onclick = async () => {
      const path = existingSourcePathInput.value;
      const sf = await SourceFolder.CreateOrLoadSourceFolder(path, vault);
      await sf.Display(mainContainer, vault);
    };
    homePage.onkeydown = async (keyPressEvent) => {
      if (keyPressEvent.key === "Enter") {
        const path = existingSourcePathInput.value;
        const sf = await SourceFolder.CreateOrLoadSourceFolder(path, vault);
        await sf.Display(mainContainer, vault);
      }
    };
  }
  async onClose() {
  }
};

// main.ts
var import_obsidian5 = require("obsidian");
var DEFAULT_SETTINGS = {
  defaultPath: "Source Folder"
};
var CFE = class extends import_obsidian5.Plugin {
  async onload() {
    await this.loadSettings();
    this.registerView(
      VIEW_TYPE_CUSTOM_EXPLORER,
      (leaf) => new CustomExplorerView(leaf, this.settings.defaultPath)
    );
    this.addRibbonIcon("folder", "Activate view", () => {
      this.activateView(VIEW_TYPE_CUSTOM_EXPLORER);
    });
    this.addCommand({
      id: "open-cfe-view",
      name: "Open Custom File Explorer View",
      callback: () => {
        this.activateView(VIEW_TYPE_CUSTOM_EXPLORER);
      }
    });
    this.addCommand({
      id: "sample-editor-command",
      name: "Sample editor command",
      editorCallback: (editor, view) => {
        console.log(editor.getSelection());
        editor.replaceSelection("Sample Editor Command");
      }
    });
    this.addSettingTab(new SampleSettingTab(this.app, this));
    this.registerDomEvent(document, "click", (evt) => {
      console.log("click", evt);
    });
    this.registerInterval(window.setInterval(() => console.log("setInterval"), 5 * 60 * 1e3));
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async activateView(view_type) {
    const { workspace } = this.app;
    let leaf = null;
    leaf = workspace.getLeaf("tab");
    if (leaf === null) {
      new import_obsidian5.Notice("Failed to create view: workspace leaf was null");
      return;
    }
    await leaf.setViewState({ type: view_type, active: true });
    workspace.revealLeaf(leaf);
  }
};
var SampleSettingTab = class extends import_obsidian5.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian5.Setting(containerEl).setName("Default Source Path").setDesc("The vault path to automatically fill in for the source path").addText((text) => text.setPlaceholder("Default Source Path").setValue(this.plugin.settings.defaultPath).onChange(async (value) => {
      this.plugin.settings.defaultPath = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJjbGFzc2VzL2N1c3RvbS1leHBsb3Jlci12aWV3LnRzIiwgImNsYXNzZXMvc291cmNlLWZvbGRlci50cyIsICJjbGFzc2VzL2NmZS1maWxlLnRzIiwgImNsYXNzZXMvc2luZ2xlLW1lZGlhLWZpbGUudHMiLCAiY2xhc3Nlcy9yZWFsLWZpbGUudHMiLCAiY2xhc3Nlcy9mb2xkZXIudHMiLCAiY2xhc3Nlcy9wbGF5bGlzdC50cyIsICJjbGFzc2VzL3ZhcmlhbnQtbWVkaWEtZmlsZS50cyIsICJjbGFzc2VzL3NvdXJjZS1mb2xkZXItc2hvcnRjdXQudHMiLCAiY2xhc3Nlcy9jb25sYW5ncy9sYW5ndWFnZS50cyIsICJjbGFzc2VzL2NvbmxhbmdzL2h3YXl1LnRzIiwgImNsYXNzZXMvY29ubGFuZ3MvZW5nbGlzaC50cyIsICJjbGFzc2VzL2NvbmxhbmdzL2NvbG9ybGFuZy50cyIsICJjbGFzc2VzL2NvbmxhbmdzL2xhbmd1YWdlLWhhbmRsZXIudHMiLCAiY2xhc3Nlcy9jb25sYW5nLWRpY3Rpb25hcnkudHMiLCAiY2xhc3Nlcy9zdG9yeS50cyIsICJjbGFzc2VzL2NmZS1maWxlLWhhbmRsZXIudHMiLCAiY2xhc3Nlcy9zbnYudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IEN1c3RvbUV4cGxvcmVyVmlldywgVklFV19UWVBFX0NVU1RPTV9FWFBMT1JFUiB9IGZyb20gJ2NsYXNzZXMvY3VzdG9tLWV4cGxvcmVyLXZpZXcnO1xyXG5pbXBvcnQgeyBBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3LCBOb3RpY2UsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZywgV29ya3NwYWNlTGVhZiB9IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbi8vIFJlbWVtYmVyIHRvIHJlbmFtZSB0aGVzZSBjbGFzc2VzIGFuZCBpbnRlcmZhY2VzIVxyXG5cclxuaW50ZXJmYWNlIENGRUNldHRpbmdzIHtcclxuXHRkZWZhdWx0UGF0aDogc3RyaW5nO1xyXG59XHJcblxyXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBDRkVDZXR0aW5ncyA9IHtcclxuXHRkZWZhdWx0UGF0aDogJ1NvdXJjZSBGb2xkZXInXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENGRSBleHRlbmRzIFBsdWdpbiB7XHJcblx0c2V0dGluZ3M6IENGRUNldHRpbmdzO1xyXG5cclxuXHRhc3luYyBvbmxvYWQoKSB7XHJcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cclxuXHRcdHRoaXMucmVnaXN0ZXJWaWV3KFxyXG5cdFx0XHRWSUVXX1RZUEVfQ1VTVE9NX0VYUExPUkVSLFxyXG5cdFx0XHQobGVhZikgPT4gbmV3IEN1c3RvbUV4cGxvcmVyVmlldyhsZWFmLCB0aGlzLnNldHRpbmdzLmRlZmF1bHRQYXRoKVxyXG5cdFx0KTtcclxuXHJcblx0XHR0aGlzLmFkZFJpYmJvbkljb24oJ2ZvbGRlcicsICdBY3RpdmF0ZSB2aWV3JywgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmFjdGl2YXRlVmlldyhWSUVXX1RZUEVfQ1VTVE9NX0VYUExPUkVSKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFRoaXMgYWRkcyBhIHNpbXBsZSBjb21tYW5kIHRoYXQgY2FuIGJlIHRyaWdnZXJlZCBhbnl3aGVyZVxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICdvcGVuLWNmZS12aWV3JyxcclxuXHRcdFx0bmFtZTogJ09wZW4gQ3VzdG9tIEZpbGUgRXhwbG9yZXIgVmlldycsXHJcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5hY3RpdmF0ZVZpZXcoVklFV19UWVBFX0NVU1RPTV9FWFBMT1JFUik7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0Ly8gVGhpcyBhZGRzIGFuIGVkaXRvciBjb21tYW5kIHRoYXQgY2FuIHBlcmZvcm0gc29tZSBvcGVyYXRpb24gb24gdGhlIGN1cnJlbnQgZWRpdG9yIGluc3RhbmNlXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ3NhbXBsZS1lZGl0b3ItY29tbWFuZCcsXHJcblx0XHRcdG5hbWU6ICdTYW1wbGUgZWRpdG9yIGNvbW1hbmQnLFxyXG5cdFx0XHRlZGl0b3JDYWxsYmFjazogKGVkaXRvcjogRWRpdG9yLCB2aWV3OiBNYXJrZG93blZpZXcpID0+IHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlZGl0b3IuZ2V0U2VsZWN0aW9uKCkpO1xyXG5cdFx0XHRcdGVkaXRvci5yZXBsYWNlU2VsZWN0aW9uKCdTYW1wbGUgRWRpdG9yIENvbW1hbmQnKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gVGhpcyBhZGRzIGEgc2V0dGluZ3MgdGFiIHNvIHRoZSB1c2VyIGNhbiBjb25maWd1cmUgdmFyaW91cyBhc3BlY3RzIG9mIHRoZSBwbHVnaW5cclxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgU2FtcGxlU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cclxuXHRcdC8vIElmIHRoZSBwbHVnaW4gaG9va3MgdXAgYW55IGdsb2JhbCBET00gZXZlbnRzIChvbiBwYXJ0cyBvZiB0aGUgYXBwIHRoYXQgZG9lc24ndCBiZWxvbmcgdG8gdGhpcyBwbHVnaW4pXHJcblx0XHQvLyBVc2luZyB0aGlzIGZ1bmN0aW9uIHdpbGwgYXV0b21hdGljYWxseSByZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyIHdoZW4gdGhpcyBwbHVnaW4gaXMgZGlzYWJsZWQuXHJcblx0XHR0aGlzLnJlZ2lzdGVyRG9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycsIChldnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0Y29uc29sZS5sb2coJ2NsaWNrJywgZXZ0KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFdoZW4gcmVnaXN0ZXJpbmcgaW50ZXJ2YWxzLCB0aGlzIGZ1bmN0aW9uIHdpbGwgYXV0b21hdGljYWxseSBjbGVhciB0aGUgaW50ZXJ2YWwgd2hlbiB0aGUgcGx1Z2luIGlzIGRpc2FibGVkLlxyXG5cdFx0dGhpcy5yZWdpc3RlckludGVydmFsKHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiBjb25zb2xlLmxvZygnc2V0SW50ZXJ2YWwnKSwgNSAqIDYwICogMTAwMCkpO1xyXG5cdH1cclxuXHJcblx0b251bmxvYWQoKSB7XHJcblxyXG5cdH1cclxuXHJcblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgYWN0aXZhdGVWaWV3KHZpZXdfdHlwZTogc3RyaW5nKSB7XHJcblx0XHRjb25zdCB7IHdvcmtzcGFjZSB9ID0gdGhpcy5hcHA7XHJcblxyXG5cdFx0bGV0IGxlYWY6IFdvcmtzcGFjZUxlYWYgfCBudWxsID0gbnVsbDtcclxuXHJcblx0XHRsZWFmID0gd29ya3NwYWNlLmdldExlYWYoJ3RhYicpO1xyXG5cdFx0aWYgKGxlYWYgPT09IG51bGwpIHtcclxuXHRcdFx0bmV3IE5vdGljZShcIkZhaWxlZCB0byBjcmVhdGUgdmlldzogd29ya3NwYWNlIGxlYWYgd2FzIG51bGxcIik7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdGF3YWl0IGxlYWYuc2V0Vmlld1N0YXRlKHsgdHlwZTogdmlld190eXBlLCBhY3RpdmU6IHRydWUgfSk7XHJcblxyXG5cdFx0Ly8gXCJSZXZlYWxcIiB0aGUgbGVhZiBpbiBjYXNlIGl0IGlzIGluIGEgY29sbGFwc2VkIHNpZGViYXJcclxuXHRcdHdvcmtzcGFjZS5yZXZlYWxMZWFmKGxlYWYpO1xyXG5cdH1cclxufVxyXG5cclxuY2xhc3MgU2FtcGxlU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogQ0ZFO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBDRkUpIHtcclxuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdH1cclxuXHJcblx0ZGlzcGxheSgpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHtjb250YWluZXJFbH0gPSB0aGlzO1xyXG5cclxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdEZWZhdWx0IFNvdXJjZSBQYXRoJylcclxuXHRcdFx0LnNldERlc2MoJ1RoZSB2YXVsdCBwYXRoIHRvIGF1dG9tYXRpY2FsbHkgZmlsbCBpbiBmb3IgdGhlIHNvdXJjZSBwYXRoJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdEZWZhdWx0IFNvdXJjZSBQYXRoJylcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdFBhdGgpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdFBhdGggPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IEl0ZW1WaWV3LCBXb3Jrc3BhY2VMZWFmIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgeyBTb3VyY2VGb2xkZXIgfSBmcm9tICcuL3NvdXJjZS1mb2xkZXInO1xyXG5cclxuZXhwb3J0IGNvbnN0IFZJRVdfVFlQRV9DVVNUT01fRVhQTE9SRVIgPSAnY3VzdG9tLWV4cGxvcmVyLXZpZXcnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEN1c3RvbUV4cGxvcmVyVmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcclxuXHRkZWZhdWx0UGF0aDogc3RyaW5nO1xyXG5cdGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYsIHBhdGg6IHN0cmluZykge1xyXG5cdFx0c3VwZXIobGVhZik7XHJcblx0XHR0aGlzLmRlZmF1bHRQYXRoID0gcGF0aDtcclxuXHR9XHJcblxyXG5cdGdldFZpZXdUeXBlKCkge1xyXG5cdFx0cmV0dXJuIFZJRVdfVFlQRV9DVVNUT01fRVhQTE9SRVI7XHJcblx0fVxyXG5cclxuXHRnZXREaXNwbGF5VGV4dCgpIHtcclxuXHRcdHJldHVybiAnRXhhbXBsZSB2aWV3JztcclxuXHR9XHJcblxyXG5cdGFzeW5jIG9uT3BlbigpIHtcclxuXHRcdGNvbnN0IHdyYXBwZXIgPSB0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuWzFdO1xyXG5cdFx0d3JhcHBlci5lbXB0eSgpO1xyXG5cdFx0Y29uc3QgbWFpbkNvbnRhaW5lciA9IHdyYXBwZXIuY3JlYXRlRGl2KCdjZmUtbWFpbi1kaXNwbGF5Jyk7XHJcblx0XHRjb25zdCBob21lUGFnZSA9IG1haW5Db250YWluZXIuY3JlYXRlRGl2KCdjZmUtaG9tZS1wYWdlJyk7XHJcblx0XHRob21lUGFnZS5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdQYXRoIHRvIFNvdXJjZSBGb2xkZXI6JyB9ICk7XHJcblx0XHRjb25zdCBleGlzdGluZ1NvdXJjZVBhdGhJbnB1dCA9IGhvbWVQYWdlLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy5kZWZhdWx0UGF0aCB9ICk7XHJcblx0XHRleGlzdGluZ1NvdXJjZVBhdGhJbnB1dC5zdHlsZS53aWR0aCA9ICcxMDAlJztcclxuXHRcdGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGhvbWVQYWdlLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdzdWJtaXQnIH0gKTtcclxuXHRcdGNvbnN0IHZhdWx0ID0gdGhpcy5hcHAudmF1bHQ7XHJcblx0XHRzdWJtaXRCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0Y29uc3QgcGF0aCA9IGV4aXN0aW5nU291cmNlUGF0aElucHV0LnZhbHVlO1xyXG5cdFx0XHRjb25zdCBzZiA9IDxTb3VyY2VGb2xkZXI+IGF3YWl0IFNvdXJjZUZvbGRlci5DcmVhdGVPckxvYWRTb3VyY2VGb2xkZXIocGF0aCwgdmF1bHQpO1xyXG5cdFx0XHRhd2FpdCBzZi5EaXNwbGF5KG1haW5Db250YWluZXIsIHZhdWx0KTtcclxuXHRcdH1cclxuXHRcdGhvbWVQYWdlLm9ua2V5ZG93biA9IGFzeW5jIChrZXlQcmVzc0V2ZW50KSA9PiB7XHJcblx0XHRcdGlmIChrZXlQcmVzc0V2ZW50LmtleSA9PT0gJ0VudGVyJykge1xyXG5cdFx0XHRcdGNvbnN0IHBhdGggPSBleGlzdGluZ1NvdXJjZVBhdGhJbnB1dC52YWx1ZTtcclxuXHRcdFx0XHRjb25zdCBzZiA9IGF3YWl0IFNvdXJjZUZvbGRlci5DcmVhdGVPckxvYWRTb3VyY2VGb2xkZXIocGF0aCwgdmF1bHQpO1xyXG5cdFx0XHRcdGF3YWl0IHNmLkRpc3BsYXkobWFpbkNvbnRhaW5lciwgdmF1bHQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyBvbkNsb3NlKCkge1xyXG5cdFx0Ly8gTm90aGluZyB0byBjbGVhbiB1cC5cclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IG5vcm1hbGl6ZVBhdGgsIE5vdGljZSwgVmF1bHQgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgQ0ZFRmlsZUhhbmRsZXIgfSBmcm9tIFwiLi9jZmUtZmlsZS1oYW5kbGVyXCI7XHJcbmltcG9ydCB7IFNvdXJjZUFuZFZhdWx0IH0gZnJvbSBcIi4vc252XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU291cmNlRm9sZGVyIHtcclxuXHR2YXVsdFBhdGg6IHN0cmluZztcclxuXHRmaWxlQ291bnQ6IG51bWJlcjtcclxuXHJcblx0cHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMudmF1bHRQYXRoID0gJyc7XHJcblx0XHR0aGlzLmZpbGVDb3VudCA9IDA7XHJcblx0fVxyXG5cclxuXHRhc3luYyBEaXNwbGF5KGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQsIHZhdWx0OiBWYXVsdCkge1xyXG5cdFx0Y29uc3Qgc252ID0gbmV3IFNvdXJjZUFuZFZhdWx0KHRoaXMsIHZhdWx0KTtcclxuXHRcdGNvbnN0IG5vdEV4aXN0cyA9IHZhdWx0LmdldEZpbGVCeVBhdGgoc252LnNvdXJjZUZvbGRlci52YXVsdFBhdGggKyAnLzAuanNvbicpID09PSBudWxsO1xyXG5cdFx0aWYgKG5vdEV4aXN0cykge1xyXG5cdFx0XHRhd2FpdCBDRkVGaWxlSGFuZGxlci5DcmVhdGVOZXcoc252LCAnRm9sZGVyJywgMCwgJ1Jvb3QgRm9sZGVyJyk7XHJcblx0XHR9XHJcblx0XHRjb25zdCByb290Rm9sZGVyID0gYXdhaXQgQ0ZFRmlsZUhhbmRsZXIuTG9hZEZpbGUoc252LCAwKTtcclxuXHRcdGF3YWl0IFNvdXJjZUZvbGRlci5TYXZlKHNudik7XHJcblx0XHRhd2FpdCByb290Rm9sZGVyLlNhdmUoc252KTtcclxuXHRcdGF3YWl0IHJvb3RGb2xkZXIuRGlzcGxheShzbnYsIGNvbnRhaW5lcik7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgYXN5bmMgQ3JlYXRlT3JMb2FkU291cmNlRm9sZGVyKHZhdWx0UGF0aDogc3RyaW5nLCB2YXVsdDogVmF1bHQpOiBQcm9taXNlPFNvdXJjZUZvbGRlcj4ge1xyXG5cdFx0dmF1bHRQYXRoID0gdmF1bHRQYXRoLmVuZHNXaXRoKCcvc291cmNlLmpzb24nKSA/IHZhdWx0UGF0aC5zbGljZSgwLCAtMTIpIDogdmF1bHRQYXRoO1xyXG5cdFx0Y29uc3QgZXhpc3RzID0gdmF1bHQuZ2V0RmlsZUJ5UGF0aCh2YXVsdFBhdGggKyAnL3NvdXJjZS5qc29uJykgIT09IG51bGw7XHJcblx0XHRsZXQgbmV3U291cmNlRm9sZGVyOiBTb3VyY2VGb2xkZXI7XHJcblx0XHRpZiAoZXhpc3RzKSB7XHJcblx0XHRcdG5ld1NvdXJjZUZvbGRlciA9IGF3YWl0IHRoaXMuTG9hZEV4aXN0aW5nU291cmNlKHZhdWx0UGF0aCwgdmF1bHQpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bmV3U291cmNlRm9sZGVyID0gYXdhaXQgdGhpcy5DcmVhdGVOZXdTb3VyY2VGb2xkZXIodmF1bHRQYXRoLCB2YXVsdCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbmV3U291cmNlRm9sZGVyO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgYXN5bmMgQ3JlYXRlTmV3U291cmNlRm9sZGVyKHZhdWx0UGF0aDogc3RyaW5nLCB2YXVsdDogVmF1bHQpOiBQcm9taXNlPFNvdXJjZUZvbGRlcj4ge1xyXG5cdFx0Y29uc3QgbmV3U291cmNlRm9sZGVyID0gbmV3IFNvdXJjZUZvbGRlcigpO1xyXG5cdFx0bmV3U291cmNlRm9sZGVyLnZhdWx0UGF0aCA9IHZhdWx0UGF0aDtcclxuXHRcdG5ld1NvdXJjZUZvbGRlci5maWxlQ291bnQgPSAwO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0YXdhaXQgdmF1bHQuY3JlYXRlRm9sZGVyKHZhdWx0UGF0aCk7XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRjb25zdCBzb3VyY2VQYXRoID0gbm9ybWFsaXplUGF0aCh2YXVsdFBhdGggKyAnL3NvdXJjZS5qc29uJyk7XHJcblx0XHRcdGF3YWl0IHZhdWx0LmFkYXB0ZXIud3JpdGUoc291cmNlUGF0aCwgJzAnKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBuZXdTb3VyY2VGb2xkZXI7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBhc3luYyBMb2FkRXhpc3RpbmdTb3VyY2UodmF1bHRQYXRoOiBzdHJpbmcsIHZhdWx0OiBWYXVsdCk6IFByb21pc2U8U291cmNlRm9sZGVyPiB7XHJcblx0XHRjb25zdCBzb3VyY2VURmlsZSA9IHZhdWx0LmdldEZpbGVCeVBhdGgodmF1bHRQYXRoICsgJy9zb3VyY2UuanNvbicpO1xyXG5cdFx0aWYgKHNvdXJjZVRGaWxlID09PSBudWxsKSB7XHJcblx0XHRcdG5ldyBOb3RpY2UoXCJTb3VyY2UgRmlsZSBjb3VsZCBub3QgYmUgZm91bmQgYXQgdGhlIHBhdGg6IFwiICsgdmF1bHRQYXRoICsgJy9zb3VyY2UuanNvbicpO1xyXG5cdFx0XHR0aHJvdyBFcnJvcihcIlNvdXJjZSBGaWxlIGNvdWxkIG5vdCBiZSBmb3VuZCBhdCB0aGUgcGF0aDogXCIgKyB2YXVsdFBhdGggKyAnL3NvdXJjZS5qc29uJyk7XHJcblx0XHR9XHJcblx0XHRjb25zdCBqc29uRGF0YSA9IGF3YWl0IHZhdWx0LmNhY2hlZFJlYWQoc291cmNlVEZpbGUpO1xyXG5cclxuXHRcdGNvbnN0IHBsYWluT2JqZWN0ID0gYXdhaXQgSlNPTi5wYXJzZShqc29uRGF0YSk7XHJcblx0XHRjb25zdCBuZXdTb3VyY2VGb2xkZXIgPSBPYmplY3QuYXNzaWduKG5ldyBTb3VyY2VGb2xkZXIoKSwgcGxhaW5PYmplY3QpO1xyXG5cdFx0bmV3U291cmNlRm9sZGVyLnZhdWx0UGF0aCA9IHZhdWx0UGF0aDtcclxuXHRcdGF3YWl0IFNvdXJjZUZvbGRlci5TYXZlKG5ldyBTb3VyY2VBbmRWYXVsdChuZXdTb3VyY2VGb2xkZXIsIHZhdWx0KSk7XHJcblx0XHRyZXR1cm4gbmV3U291cmNlRm9sZGVyO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2F2ZXMgdGhlIG5ldyBmaWxlIGNvdW50XHJcblx0ICovXHJcblx0c3RhdGljIGFzeW5jIFNhdmUoc291cmNlQW5kVmF1bHQ6IFNvdXJjZUFuZFZhdWx0KSB7XHJcblx0XHRjb25zdCBzb3VyY2VGb2xkZXIgPSBzb3VyY2VBbmRWYXVsdC5zb3VyY2VGb2xkZXI7XHJcblx0XHRjb25zdCB2YXVsdCA9IHNvdXJjZUFuZFZhdWx0LnZhdWx0O1xyXG5cclxuXHRcdC8vIEZpbmQgdGhlIGZpbGUgYW5kIGNoZWNrIHRoYXQgaXQgaXNuJ3QgbnVsbFxyXG5cdFx0Y29uc3QgdEZpbGUgPSB2YXVsdC5nZXRGaWxlQnlQYXRoKHNvdXJjZUZvbGRlci52YXVsdFBhdGggKyAnL3NvdXJjZS5qc29uJyk7XHJcblx0XHRpZiAodEZpbGUgPT09IG51bGwpIHtcclxuXHRcdFx0bmV3IE5vdGljZShcIlNvdXJjZSBGaWxlIGNvdWxkIG5vdCBiZSBmb3VuZCBhdCB0aGUgcGF0aDogXCIgKyBzb3VyY2VGb2xkZXIudmF1bHRQYXRoICsgJy9zb3VyY2UuanNvbicpO1xyXG5cdFx0XHR0aHJvdyBFcnJvcihcIlNvdXJjZSBGaWxlIGNvdWxkIG5vdCBiZSBmb3VuZCBhdCB0aGUgcGF0aDogXCIgKyBzb3VyY2VGb2xkZXIudmF1bHRQYXRoICsgJy9zb3VyY2UuanNvbicpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGpzb25EYXRhID0gSlNPTi5zdHJpbmdpZnkoc291cmNlRm9sZGVyKTtcclxuXHRcdGF3YWl0IHZhdWx0Lm1vZGlmeSh0RmlsZSwganNvbkRhdGEpO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgbm9ybWFsaXplUGF0aCB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBTb3VyY2VBbmRWYXVsdCB9IGZyb20gXCIuL3NudlwiO1xyXG5pbXBvcnQgeyBDRkVGaWxlSGFuZGxlciB9IGZyb20gXCIuL2NmZS1maWxlLWhhbmRsZXJcIjtcclxuaW1wb3J0IHsgU291cmNlRm9sZGVyIH0gZnJvbSBcIi4vc291cmNlLWZvbGRlclwiO1xyXG5pbXBvcnQgeyBGb2xkZXIgfSBmcm9tIFwiLi9mb2xkZXJcIjtcclxuXHJcbi8vI3JlZ2lvbiBGb3JtYXR0ZWQgRmlsZSBIYW5kbGVyXHJcbi8vI2VuZHJlZ2lvblxyXG5cclxuLy8jcmVnaW9uIEZpbGUgVHlwZXNcclxuLyoqXHJcbiAqIEFuIGludGVycHJldGF0aW9uIG9mIGpzb24gZmlsZXMgYXMgYSBcImZpbGVcIiBvZiBhIHNwZWNpZmljIFwiZmlsZSBmb3JtYXRcIlxyXG4gKiB0aGF0IGNhbiBiZSBpbnRlcnByZXRlZCBhbmQgZGlzcGxheWVkIGJ5IHRoZSBwbHVnaW4uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ0ZFRmlsZSB7XHJcblx0LyoqXHJcblx0ICogQSB1bmlxdWUgKHdpdGhpbiB0aGUgXCJzb3VyY2VcIiBvZiB0aGUgY3VycmVudCBleHBsb3JlcikgbnVtZXJpY2FsIGlkZW50aWZpZXIgZm9yIHRoZSBmaWxlXHJcblx0ICovXHJcblx0aWQ6IG51bWJlcjtcclxuXHJcblx0LyoqXHJcblx0ICogVGhlIHR5cGUgb2YgZmlsZVxyXG5cdCAqL1xyXG5cdGZpbGVUeXBlOiBzdHJpbmc7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRoZSBuYW1lIG9mIHRoZSBmaWxlIHdpdGhpbiB0aGUgc291cmNlXHJcblx0ICovXHJcblx0ZmlsZU5hbWU6IHN0cmluZztcclxuXHJcblx0LyoqXHJcblx0ICogVGhlIElEIG9mIHRoZSBwYXJlbnQgZm9sZGVyXHJcblx0ICovXHJcblx0cGFyZW50Rm9sZGVySUQ6IG51bWJlcjtcclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgRklMRV9OQU1FX0lOUFVUX0lOREVYID0gMDtcclxuXHRwcml2YXRlIHN0YXRpYyByZWFkb25seSBQQVJFTlRfRk9MREVSX0lEX0lOUFVUX0lOREVYID0gMTtcclxuXHJcblx0LyoqXHJcblx0ICogU0hPVUxEIE5PVCBCRSBDQUxMRUQgT1VUU0lERSBPRiBDRkVGaWxlSGFuZGxlci5cclxuXHQgKiBcclxuXHQgKiBVc2UgQ0ZFRmlsZUhhbmRsZXIuQ3JlYXRlTmV3KCkgaW5zdGVhZC5cclxuXHQgKiBcclxuXHQgKiBDSElMRCBDTEFTU0VTIFNIT1VMRCBOT1QgV1JJVEUgVE8gQSBGSUxFLiBUSElTIElTIERPTkUgSU5TSURFIE9GIENGRUZpbGVIYW5kbGVyXHJcblx0ICogXHJcblx0ICogQ0ZFRmlsZSBsYXllcjpcclxuXHQgKiBcclxuXHQgKiBzZXRzIHRoZSBzb3VyY2UsIGlkLCBmaWxlIHR5cGUsIGZpbGUgbmFtZSwgYW5kIHBhcmVudCBmb2xkZXIgaWQgb2YgdGhlIGZpbGUgb2JqZWN0LlxyXG5cdCAqL1xyXG5cdHN0YXRpYyBhc3luYyBDcmVhdGVOZXdGaWxlRm9yTGF5ZXIoc252OiBTb3VyY2VBbmRWYXVsdCwgZmlsZVR5cGU6IHN0cmluZywgcGFyZW50Rm9sZGVySUQ6IG51bWJlciwgbmFtZTogc3RyaW5nKTogUHJvbWlzZTxDRkVGaWxlPiB7XHJcblx0XHRjb25zdCBzb3VyY2VGb2xkZXIgPSBzbnYuc291cmNlRm9sZGVyO1xyXG5cclxuXHRcdC8vIFNldCB0aGUgdmFsdWVzIG9mIHRoZSB1bmZpbmlzaGVkIGZpbGVcclxuXHRcdGNvbnN0IHVuZmluaXNoZWRGaWxlID0gbmV3IENGRUZpbGUoKTtcclxuXHRcdHVuZmluaXNoZWRGaWxlLmlkID0gc291cmNlRm9sZGVyLmZpbGVDb3VudDtcclxuXHRcdHVuZmluaXNoZWRGaWxlLmZpbGVUeXBlID0gZmlsZVR5cGU7XHJcblx0XHR1bmZpbmlzaGVkRmlsZS5maWxlTmFtZSA9IG5hbWU7XHJcblx0XHR1bmZpbmlzaGVkRmlsZS5wYXJlbnRGb2xkZXJJRCA9IHBhcmVudEZvbGRlcklEO1xyXG5cdFx0XHJcblx0XHQvLyBVcGRhdGUgdGhlIGZpbGUgY291bnRcclxuXHRcdHNvdXJjZUZvbGRlci5maWxlQ291bnQrKztcclxuXHRcdGF3YWl0IFNvdXJjZUZvbGRlci5TYXZlKHNudik7XHJcblxyXG5cdFx0Ly8gRmluZCB0aGUgcGFyZW50IGZvbGRlciBhbmQgYWRkIHRoaXMgZmlsZSB0byBpdFxyXG5cdFx0aWYgKHVuZmluaXNoZWRGaWxlLmlkICE9PSB1bmZpbmlzaGVkRmlsZS5wYXJlbnRGb2xkZXJJRCkge1xyXG5cdFx0XHRjb25zdCBwYXJlbnRGb2xkZXIgPSA8Rm9sZGVyPiAoYXdhaXQgQ0ZFRmlsZUhhbmRsZXIuTG9hZEZpbGUoc252LCB1bmZpbmlzaGVkRmlsZS5wYXJlbnRGb2xkZXJJRCkpO1xyXG5cdFx0XHRwYXJlbnRGb2xkZXIuY29udGFpbmVkRmlsZUlEcy5wdXNoKHVuZmluaXNoZWRGaWxlLmlkKTtcclxuXHRcdFx0YXdhaXQgcGFyZW50Rm9sZGVyLlNhdmUoc252KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBSZXR1cm4gdGhlIHVuZmluaXNoZWQgZmlsZSBzbyB0aGUgbmV4dCBsYXllciBjYW4gYWRkIHRvIGl0XHJcblx0XHRyZXR1cm4gdW5maW5pc2hlZEZpbGU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTSE9VTEQgTk9UIEJFIENBTExFRCBPVVRTSURFIE9GIENGRUZpbGVIYW5kbGVyLlxyXG5cdCAqIFxyXG5cdCAqIFVzZSBDRkVGaWxlSGFuZGxlci5EaXNwbGF5VGh1bWJuYWlsKCkgaW5zdGVhZC5cclxuXHQgKiBcclxuXHQgKiBDRkVGaWxlIGxheWVyOlxyXG5cdCAqIFxyXG5cdCAqIHNldHMgdGhlIHRodW1ibmFpbCBjb250YWluZXIncyBjc3MgY2xhc3MgdG8gJ2NmZS10aHVtYm5haWwnXHJcblx0ICogYW5kIGZ1bGx5IGRpc3BsYXlzIHRoZSBmaWxlIGlmIHRoZSB0aHVtYm5haWwgaXMgY2xpY2tlZC5cclxuXHQgKi9cclxuXHRhc3luYyBEaXNwbGF5VGh1bWJuYWlsKHNvdXJjZUFuZFZhdWx0OiBTb3VyY2VBbmRWYXVsdCwgdGh1bWJuYWlsRGl2OiBIVE1MRGl2RWxlbWVudCwgZGlzcGxheURpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuXHRcdHRodW1ibmFpbERpdi5jbGFzc05hbWUgPSAnY2ZlLXRodW1ibmFpbCB2Ym94JztcclxuXHRcdHRodW1ibmFpbERpdi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRhd2FpdCB0aGlzLkRpc3BsYXkoc291cmNlQW5kVmF1bHQsIGRpc3BsYXlEaXYpO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgaWRUZXh0ID0gdGh1bWJuYWlsRGl2LmNyZWF0ZURpdignaGJveCcpO1xyXG5cdFx0aWRUZXh0LnRleHRDb250ZW50ID0gJ0lEOiAnICsgdGhpcy5pZDtcclxuXHRcdGlkVGV4dC5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdjZW50ZXInO1xyXG5cdFx0Y29uc3QgZmlsZVRleHQgPSB0aHVtYm5haWxEaXYuY3JlYXRlRGl2KCdoYm94Jyk7XHJcblx0XHRmaWxlVGV4dC50ZXh0Q29udGVudCA9ICdGaWxlIFR5cGU6ICcgKyB0aGlzLmZpbGVUeXBlO1xyXG5cdFx0ZmlsZVRleHQuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnY2VudGVyJztcclxuXHRcdGNvbnN0IG5hbWVUZXh0ID0gdGh1bWJuYWlsRGl2LmNyZWF0ZURpdignaGJveCcpO1xyXG5cdFx0bmFtZVRleHQudGV4dENvbnRlbnQgPSAnRmlsZSBOYW1lOiAnICsgdGhpcy5maWxlTmFtZTtcclxuXHRcdG5hbWVUZXh0LnN0eWxlLmp1c3RpZnlDb250ZW50ID0gJ2NlbnRlcic7XHJcblx0fVxyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIFNIT1VMRCBOT1QgQkUgQ0FMTEVEIE9VVFNJREUgT0YgQ0ZFRmlsZUhhbmRsZXIuXHJcblx0ICogXHJcblx0ICogVXNlIENGRUZpbGVIYW5kbGVyLkRpc3BsYXkoKSBpbnN0ZWFkLlxyXG5cdCAqIFxyXG5cdCAqIENGRUZpbGUgbGF5ZXI6XHJcblx0ICogXHJcblx0ICogZW1wdGllcyB0aGUgZGlzcGxheSBjb250YWluZXIgcHJvdmlkZWQuXHJcblx0ICovXHJcblx0YXN5bmMgRGlzcGxheShzbnY6IFNvdXJjZUFuZFZhdWx0LCBjb250YWluZXI6IEhUTUxEaXZFbGVtZW50KSB7XHJcblx0XHRjb250YWluZXIuZW1wdHkoKTtcclxuXHRcdGNvbnN0IGhlYWRlckNvbnRhaW5lciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ2hib3gnKTtcclxuXHRcdGNvbnN0IGJhY2tCdXR0b24gPSBoZWFkZXJDb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0JhY2sgdG8gcGFyZW50IGZvbGRlcicgfSApO1xyXG5cdFx0aGVhZGVyQ29udGFpbmVyLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnRmlsZSBJRDogJyArIHRoaXMuaWQgfSApXHJcblx0XHRoZWFkZXJDb250YWluZXIuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdGaWxlIE5hbWU6ICcgfSApXHJcblx0XHRjb25zdCBuYW1lSW5wdXQgPSBoZWFkZXJDb250YWluZXIuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLmZpbGVOYW1lIH0gKTtcclxuXHRcdGJhY2tCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0Y29uc3QgcGFyZW50Rm9sZGVyID0gYXdhaXQgQ0ZFRmlsZUhhbmRsZXIuTG9hZEZpbGUoc252LCB0aGlzLnBhcmVudEZvbGRlcklEKTtcclxuXHRcdFx0aWYgKHBhcmVudEZvbGRlciAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdGF3YWl0IHBhcmVudEZvbGRlci5EaXNwbGF5KHNudiwgY29udGFpbmVyKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0bmFtZUlucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmZpbGVOYW1lID0gbmFtZUlucHV0LnZhbHVlO1xyXG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNIT1VMRCBOT1QgQkUgQ0FMTEVEIE9VVFNJREUgT0YgQ0ZFRmlsZUhhbmRsZXIuXHJcblx0ICogXHJcblx0ICogKGl0IGlzIHVubGlrZWx5IHRoaXMgbWV0aG9kIHdpbGwgZXZlciBiZSBvdmVycmlkZW4gYnkgY2hpbGQgY2xhc3NlcywgYnV0IG1ha2luZyB0aGlzICdpbmFjY2Vzc2libGUnIGlzIGZvciBjb25zaXN0ZW5jeSlcclxuXHQgKiBcclxuXHQgKiBVc2UgQ0ZFRmlsZUhhbmRsZXIuU2F2ZUZpbGUoKSBpbnN0ZWFkLlxyXG5cdCAqIFxyXG5cdCAqIEZvcm1hdHRlZCBGaWxlIGxheWVyOlxyXG5cdCAqIFxyXG5cdCAqIERlbGV0ZXMgdGhpcyBmaWxlIElEIGZyb20gdGhlIG9yaWdpbmFsIHBhcmVudCBmb2xkZXIsIGFkZHMgdGhpcyBmaWxlIHRvIHRoZSBuZXcgcGFyZW50IGZvbGRlciwgYW5kIGNoYW5nZXMgdGhlIHBhcmVudCBmb2xkZXIgSURcclxuXHQgKi9cclxuXHRhc3luYyBNb3ZlRmlsZShzb3VyY2VBbmRWYXVsdDogU291cmNlQW5kVmF1bHQsIG5ld1BhcmVudEZvbGRlcklEOiBudW1iZXIpIHtcclxuXHRcdC8vIERlbGV0ZSB0aGlzIGZpbGUgaWQgZnJvbSB0aGUgb3JpZ2luYWwgcGFyZW50IGZvbGRlclxyXG5cdFx0Y29uc3Qgb2xkUGFyZW50Rm9sZGVyID0gPEZvbGRlcj4gKGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNvdXJjZUFuZFZhdWx0LCB0aGlzLnBhcmVudEZvbGRlcklEKSk7XHJcblx0XHRjb25zdCBpbmRleE9mRmlsZSA9IG9sZFBhcmVudEZvbGRlci5jb250YWluZWRGaWxlSURzLmluZGV4T2YodGhpcy5pZCk7XHJcblx0XHRvbGRQYXJlbnRGb2xkZXIuY29udGFpbmVkRmlsZUlEcy5zcGxpY2UoaW5kZXhPZkZpbGUsIDEpO1xyXG5cdFx0b2xkUGFyZW50Rm9sZGVyLlNhdmUoc291cmNlQW5kVmF1bHQpOyAvLyB0aGlzIGNhbiBiZSBkb25lIGFzeW5jaHJvbm91c2x5IHdpdGhvdXQgYWZmZWN0aW5nIHRoZSBvdGhlcnNcclxuXHJcblx0XHQvLyBBZGQgdGhpcyBmaWxlIHRvIHRoZSBuZXcgcGFyZW50IGZvbGRlclxyXG5cdFx0Y29uc3QgbmV3UGFyZW50Rm9sZGVyID0gPEZvbGRlcj4gKGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNvdXJjZUFuZFZhdWx0LCBuZXdQYXJlbnRGb2xkZXJJRCkpO1xyXG5cdFx0bmV3UGFyZW50Rm9sZGVyLmNvbnRhaW5lZEZpbGVJRHMucHVzaCh0aGlzLmlkKTtcclxuXHRcdG5ld1BhcmVudEZvbGRlci5TYXZlKHNvdXJjZUFuZFZhdWx0KTsgLy8gdGhpcyBjYW4gYmUgZG9uZSBhc3luY2hyb25vdXNseSB3aXRob3V0IGFmZmVjdGluZyB0aGUgb3RoZXJzXHJcblxyXG5cdFx0dGhpcy5wYXJlbnRGb2xkZXJJRCA9IG5ld1BhcmVudEZvbGRlcklEO1xyXG5cdFx0dGhpcy5TYXZlKHNvdXJjZUFuZFZhdWx0KTsgLy8gdGhpcyBjYW4gYmUgZG9uZSBhc3luY2hyb25vdXNseSB3aXRob3V0IGFmZmVjdGluZyB0aGUgb3RoZXJzXHJcblx0fVxyXG5cclxuXHRhc3luYyBTYXZlKHNvdXJjZUFuZFZhdWx0OiBTb3VyY2VBbmRWYXVsdCkge1xyXG5cdFx0Y29uc3Qgc291cmNlRm9sZGVyID0gc291cmNlQW5kVmF1bHQuc291cmNlRm9sZGVyO1xyXG5cdFx0Y29uc3QgdmF1bHQgPSBzb3VyY2VBbmRWYXVsdC52YXVsdDtcclxuXHRcdGNvbnN0IGZpbGVQYXRoID0gc291cmNlRm9sZGVyLnZhdWx0UGF0aCArICcvJyArIHRoaXMuaWQgKyAnLmpzb24nO1xyXG5cdFx0Y29uc3QganNvbkRhdGEgPSBKU09OLnN0cmluZ2lmeSh0aGlzKTtcclxuXHRcdGNvbnN0IHRGaWxlID0gdmF1bHQuZ2V0RmlsZUJ5UGF0aChmaWxlUGF0aCk7XHJcblx0XHRpZiAodEZpbGUgPT09IG51bGwpIHtcclxuXHRcdFx0Y29uc3Qgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVQYXRoKGZpbGVQYXRoKTtcclxuXHRcdFx0YXdhaXQgdmF1bHQuYWRhcHRlci53cml0ZShub3JtYWxpemVkUGF0aCwganNvbkRhdGEpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHRhd2FpdCB2YXVsdC5tb2RpZnkodEZpbGUsIGpzb25EYXRhKTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IG5vcm1hbGl6ZVBhdGgsIFRGaWxlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBTb3VyY2VBbmRWYXVsdCB9IGZyb20gXCIuL3NudlwiO1xuaW1wb3J0IHsgUmVhbEZpbGUgfSBmcm9tIFwiLi9yZWFsLWZpbGVcIjtcblxuZXhwb3J0IGNsYXNzIFNpbmdsZU1lZGlhRmlsZSBleHRlbmRzIFJlYWxGaWxlIHtcblx0XG5cdHByaXZhdGUgZXh0ZW5zaW9uTmFtZTogc3RyaW5nO1xuXHRcblx0Z2V0IG1lZGlhVHlwZSgpOiBzdHJpbmcge1xuXHRcdHN3aXRjaCAodGhpcy5leHRlbnNpb25OYW1lKSB7XG5cdFx0XHRjYXNlICdwbmcnOlxuXHRcdFx0Y2FzZSAnanBnJzpcblx0XHRcdGNhc2UgJ3dlYnAnOlxuXHRcdFx0Y2FzZSAnaGVpYyc6XG5cdFx0XHRjYXNlICdnaWYnOlxuXHRcdFx0XHRyZXR1cm4gJ0ltYWdlJztcblx0XHRcdGNhc2UgJ21wNCc6XG5cdFx0XHRjYXNlICdNUDQnOlxuXHRcdFx0Y2FzZSAnbW92Jzpcblx0XHRcdGNhc2UgJ01PVic6XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gJ1ZpZGVvJztcblx0XHR9XG5cdH1cblxuXHRvdmVycmlkZSBhc3luYyBnZXRTcmMoc252OiBTb3VyY2VBbmRWYXVsdCk6IFByb21pc2U8c3RyaW5nPiB7XG5cdFx0Y29uc3QgbWVkaWFGaWxlID0gYXdhaXQgdGhpcy5nZXRURmlsZShzbnYpO1xuXHRcdGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgc252LnZhdWx0LnJlYWRCaW5hcnkobWVkaWFGaWxlKTtcblx0XHRjb25zdCBibG9iID0gbmV3IEJsb2IoW2FycmF5QnVmZmVyXSk7XG5cdFx0Y29uc3QgbWVkaWFVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXHRcdHJldHVybiBtZWRpYVVybDtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgZ2V0VEZpbGUoc252OiBTb3VyY2VBbmRWYXVsdCk6IFByb21pc2U8VEZpbGU+IHtcblx0XHRjb25zdCBtZWRpYVBhdGggPSBhd2FpdCB0aGlzLmdldFBhdGgoc252KTtcblx0XHRsZXQgbWVkaWFGaWxlID0gc252LnZhdWx0LmdldEZpbGVCeVBhdGgobWVkaWFQYXRoKTtcblx0XHRpZiAobWVkaWFGaWxlID09PSBudWxsKSB7XG5cdFx0XHRtZWRpYUZpbGUgPSBzbnYudmF1bHQuZ2V0RmlsZUJ5UGF0aChtZWRpYVBhdGggKyAnLicgKyB0aGlzLmV4dGVuc2lvbk5hbWUpO1xuXHRcdFx0aWYgKG1lZGlhRmlsZSA9PT0gbnVsbCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignRmlsZSBub3QgZm91bmQgYXQgcGF0aDogJyArIG1lZGlhUGF0aCArICcgb3IgJyArIG1lZGlhUGF0aCArICcuJyArIHRoaXMuZXh0ZW5zaW9uTmFtZSk7XG5cdFx0XHR9XG5cdFx0XHRzbnYudmF1bHQucmVuYW1lKG1lZGlhRmlsZSwgbWVkaWFQYXRoKTtcblx0XHR9XG5cdFx0cmV0dXJuIG1lZGlhRmlsZTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgZ2V0UGF0aChzbnY6IFNvdXJjZUFuZFZhdWx0KTogUHJvbWlzZTxzdHJpbmc+IHtcblx0XHRjb25zdCBzb3VyY2VGb2xkZXIgPSBzbnYuc291cmNlRm9sZGVyO1xuXHRcdHJldHVybiBzb3VyY2VGb2xkZXIudmF1bHRQYXRoICsgJy8nICsgdGhpcy5pZCArICcgQWN0dWFsIEZpbGUnO1xuXHR9XG5cblx0c3RhdGljIG92ZXJyaWRlIGFzeW5jIENyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnY6IFNvdXJjZUFuZFZhdWx0LCBmaWxlVHlwZTogc3RyaW5nLCBwYXJlbnRGb2xkZXJJRDogbnVtYmVyLCBuYW1lOiBzdHJpbmcpOiBQcm9taXNlPFNpbmdsZU1lZGlhRmlsZT4ge1xuXHRcdGNvbnN0IG5ld01lZGlhRmlsZSA9IDxTaW5nbGVNZWRpYUZpbGU+IChhd2FpdCBzdXBlci5DcmVhdGVOZXdGaWxlRm9yTGF5ZXIoc252LCBmaWxlVHlwZSwgcGFyZW50Rm9sZGVySUQsIG5hbWUpKTtcblx0XHRuZXdNZWRpYUZpbGUuZXh0ZW5zaW9uTmFtZSA9ICcnO1xuXHRcdHJldHVybiBuZXdNZWRpYUZpbGU7XG5cdH1cblxuXHRvdmVycmlkZSBhc3luYyBEaXNwbGF5KHNudjogU291cmNlQW5kVmF1bHQsIGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQpIHtcblx0XHRhd2FpdCBzdXBlci5EaXNwbGF5KHNudiwgY29udGFpbmVyKTtcblxuXHRcdGNvbnN0IGltYWdlRGlzcGxheUNvbnRhaW5lciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ3Zib3gnKTtcblx0XHRpbWFnZURpc3BsYXlDb250YWluZXIuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdDaGFuZ2UgZmlsZScgfSApO1xuXHRcdGNvbnN0IG5ld0ZpbGVJbnB1dCA9IGltYWdlRGlzcGxheUNvbnRhaW5lci5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdmaWxlJyB9ICk7XG5cblx0XHRhd2FpdCB0aGlzLkRpc3BsYXlNZWRpYU9ubHkoaW1hZ2VEaXNwbGF5Q29udGFpbmVyLCBzbnYpO1xuXHRcdFxuXHRcdG5ld0ZpbGVJbnB1dC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IG9sZEZpbGUgPSBhd2FpdCB0aGlzLmdldFRGaWxlKHNudik7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0YXdhaXQgc252LnZhdWx0LmRlbGV0ZShvbGRGaWxlKTtcblx0XHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLlNhdmVOZXdGaWxlKHNudiwgbmV3RmlsZUlucHV0KTtcblx0XHRcdFx0XHR0aGlzLkRpc3BsYXkoc252LCBjb250YWluZXIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0Y29uc29sZS5sb2coKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIFNhdmVOZXdGaWxlKHNudjogU291cmNlQW5kVmF1bHQsIGZpbGVJbnB1dDogSFRNTElucHV0RWxlbWVudCkge1xuXHRcdGNvbnN0IGZpbGVBcnJheSA9IGZpbGVJbnB1dC5maWxlcztcblx0XHRpZiAoZmlsZUFycmF5ID09PSBudWxsKSB7XG5cdFx0XHR0aHJvdyBFcnJvcihcIm5vIGZpbGUgd2FzIHNlbGVjdGVkXCIpO1xuXHRcdH1cblx0XHRjb25zdCBtZWRpYUZpbGUgPSBmaWxlQXJyYXlbMF07XG5cdFx0YXdhaXQgdGhpcy5TZXRGaWxlVG8oc252LCBtZWRpYUZpbGUpO1xuXHR9XG5cblx0YXN5bmMgU2V0RmlsZVRvKHNudjogU291cmNlQW5kVmF1bHQsIG1lZGlhRmlsZTogRmlsZSkge1xuXHRcdGNvbnN0IHBhcnRzT2ZQYXRoID0gbWVkaWFGaWxlLm5hbWUuc3BsaXQoJy4nKTtcblx0XHRjb25zdCBleHRlbnNpb24gPSBwYXJ0c09mUGF0aFtwYXJ0c09mUGF0aC5sZW5ndGggLSAxXTtcblx0XHR0aGlzLmZpbGVOYW1lID0gcGFydHNPZlBhdGhbMF07XG5cdFx0dGhpcy5leHRlbnNpb25OYW1lID0gZXh0ZW5zaW9uO1xuXHRcdGNvbnN0IHBhdGggPSBzbnYuc291cmNlRm9sZGVyLnZhdWx0UGF0aCArICcvJyArIHRoaXMuaWQgKyAnIEFjdHVhbCBGaWxlJztcblx0XHRjb25zdCBub3JtYWxpemVkUGF0aCA9IG5vcm1hbGl6ZVBhdGgocGF0aCk7XG5cdFx0YXdhaXQgc252LnZhdWx0LmFkYXB0ZXIud3JpdGVCaW5hcnkobm9ybWFsaXplZFBhdGgsIGF3YWl0IG1lZGlhRmlsZS5hcnJheUJ1ZmZlcigpKTtcblx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0fVxuXG5cdGFzeW5jIERpc3BsYXlNZWRpYU9ubHkobWVkaWFEaXY6IEhUTUxEaXZFbGVtZW50LCBzbnY6IFNvdXJjZUFuZFZhdWx0KSB7XG5cdFx0YXdhaXQgc3VwZXIuRGlzcGxheU1lZGlhT25seShtZWRpYURpdiwgc252KTtcblx0XHRpZiAodGhpcy5tZWRpYVR5cGUgPT09ICdJbWFnZScpIHtcblx0XHRcdGNvbnN0IGltYWdlRWxlbWVudCA9IG1lZGlhRGl2LmNyZWF0ZUVsKCdpbWcnKTtcblx0XHRcdGltYWdlRWxlbWVudC5zcmMgPSBhd2FpdCB0aGlzLmdldFNyYyhzbnYpO1xuXHRcdFx0aW1hZ2VFbGVtZW50LnN0eWxlLm9iamVjdEZpdCA9ICdjb250YWluJztcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc3QgdmlkZW9FbGVtZW50ID0gbWVkaWFEaXYuY3JlYXRlRWwoJ3ZpZGVvJyk7XG5cdFx0XHR2aWRlb0VsZW1lbnQuc3JjID0gYXdhaXQgdGhpcy5nZXRTcmMoc252KTtcblx0XHRcdHZpZGVvRWxlbWVudC5jb250cm9scyA9IHRydWU7XG5cdFx0XHR2aWRlb0VsZW1lbnQubG9vcCA9IHRydWU7XG5cdFx0XHR2aWRlb0VsZW1lbnQuYXV0b3BsYXkgPSB0cnVlO1xuXHRcdFx0dmlkZW9FbGVtZW50LnN0eWxlLm9iamVjdEZpdCA9ICdjb250YWluJztcblx0XHR9XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBDRkVGaWxlIH0gZnJvbSBcIi4vY2ZlLWZpbGVcIjtcclxuaW1wb3J0IHsgU291cmNlQW5kVmF1bHQgfSBmcm9tIFwiLi9zbnZcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSZWFsRmlsZSBleHRlbmRzIENGRUZpbGUge1xyXG5cdGFic3RyYWN0IGdldFNyYyhzb3VyY2VBbmRWYXVsdDogU291cmNlQW5kVmF1bHQpOiBQcm9taXNlPHN0cmluZz47XHJcblx0YXN5bmMgRGlzcGxheU1lZGlhT25seShtZWRpYURpdjogSFRNTERpdkVsZW1lbnQsIHNudjogU291cmNlQW5kVmF1bHQpIHtcclxuXHRcdG1lZGlhRGl2LmVtcHR5KCk7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBDRkVGaWxlIH0gZnJvbSBcIi4vY2ZlLWZpbGVcIjtcclxuaW1wb3J0IHsgQ0ZFRmlsZUhhbmRsZXIgfSBmcm9tIFwiLi9jZmUtZmlsZS1oYW5kbGVyXCI7XHJcbmltcG9ydCB7IFNpbmdsZU1lZGlhRmlsZSB9IGZyb20gXCIuL3NpbmdsZS1tZWRpYS1maWxlXCI7XHJcbmltcG9ydCB7IFNvdXJjZUFuZFZhdWx0IH0gZnJvbSBcIi4vc252XCI7XHJcblxyXG4vKipcclxuICogQSBjaGlsZCBjbGFzcyBvZiB0aGUgQ0ZFRmlsZSBjbGFzcy4gUmVwcmVzZW50cyBhIGZvbGRlciB3aXRoaW4gdGhlIFNvdXJjZUZvbGRlci5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBGb2xkZXIgZXh0ZW5kcyBDRkVGaWxlIHtcclxuXHQvKipcclxuXHQgKiBUaGUgSURzIG9mIGZpbGVzIGNvbnRhaW5lZCBpbiB0aGlzIGZvbGRlclxyXG5cdCAqL1xyXG5cdGNvbnRhaW5lZEZpbGVJRHM6IG51bWJlcltdO1xyXG5cclxuXHQvKipcclxuXHQgKiBAb3ZlcnJpZGUgRm9sZGVyIGxheWVyOlxyXG5cdCAqIFxyXG5cdCAqIGluaXRpYWxpemVzIHRoZSBjb250YWluZWQgZmlsZSBpZHMgYXJyYXkgZm9yIHRoZSBmb2xkZXIgb2JqZWN0XHJcblx0ICovXHJcblx0c3RhdGljIG92ZXJyaWRlIGFzeW5jIENyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnY6IFNvdXJjZUFuZFZhdWx0LCBmaWxlVHlwZTogc3RyaW5nLCBwYXJlbnRGb2xkZXJJRDogbnVtYmVyLCBuYW1lOiBzdHJpbmcpOiBQcm9taXNlPEZvbGRlcj4ge1xyXG5cdFx0Y29uc3QgdW5maW5pc2hlZEZvbGRlciA9IDxGb2xkZXI+IChhd2FpdCBzdXBlci5DcmVhdGVOZXdGaWxlRm9yTGF5ZXIoc252LCBmaWxlVHlwZSwgcGFyZW50Rm9sZGVySUQsIG5hbWUpKTtcclxuXHRcdHVuZmluaXNoZWRGb2xkZXIuY29udGFpbmVkRmlsZUlEcyA9IFtdO1xyXG5cdFx0cmV0dXJuIHVuZmluaXNoZWRGb2xkZXI7XHJcblx0fVxyXG5cclxuXHRvdmVycmlkZSBhc3luYyBEaXNwbGF5KHNudjogU291cmNlQW5kVmF1bHQsIG1haW5EaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcblx0XHRhd2FpdCBzdXBlci5EaXNwbGF5KHNudiwgbWFpbkRpdik7XHJcblx0XHRjb25zdCBjcmVhdGVCdXR0b25zRGl2ID0gbWFpbkRpdi5jcmVhdGVEaXYoJ2hib3gnKTtcclxuXHRcdGNvbnN0IG5ld0ZpbGVCdXR0b24gPSBjcmVhdGVCdXR0b25zRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdDcmVhdGUgTmV3IEZpbGUnIH0gKTtcclxuXHRcdGNvbnN0IHBvcFVwQ29udGFpbmVyID0gbWFpbkRpdi5jcmVhdGVEaXYoKTtcclxuXHRcdG5ld0ZpbGVCdXR0b24ub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0dGhpcy5Mb2FkQ3JlYXRlRmlsZVVJKHNudiwgbWFpbkRpdiwgcG9wVXBDb250YWluZXIpO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgbWVkaWFGaWxlc0J1dHRvbiA9IGNyZWF0ZUJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1VwbG9hZCBNdWx0aXBsZSBJbWFnZXMgLyBWaWRlb3MnIH0gKTtcclxuXHRcdG1lZGlhRmlsZXNCdXR0b24ub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0dGhpcy5Mb2FkRmlsZVNlbGVjdGlvblVJKHNudiwgbWFpbkRpdiwgcG9wVXBDb250YWluZXIpO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgZm9sZGVyRGlzcGxheUNvbnRhaW5lciA9IG1haW5EaXYuY3JlYXRlRGl2KCdjZmUtZ3JpZCcpO1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbnRhaW5lZEZpbGVJRHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0Y29uc3QgY29udGFpbmVkRmlsZSA9IGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNudiwgdGhpcy5jb250YWluZWRGaWxlSURzW2ldKTtcclxuXHRcdFx0aWYgKGNvbnRhaW5lZEZpbGUgIT09IG51bGwpIHtcclxuXHRcdFx0XHRhd2FpdCBjb250YWluZWRGaWxlLkRpc3BsYXlUaHVtYm5haWwoc252LCBmb2xkZXJEaXNwbGF5Q29udGFpbmVyLmNyZWF0ZURpdigpLCBtYWluRGl2KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRwcml2YXRlIExvYWRDcmVhdGVGaWxlVUkoc252OiBTb3VyY2VBbmRWYXVsdCwgbWFpbkRpdjogSFRNTERpdkVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuXHRcdGRpdi5lbXB0eSgpO1xyXG5cdFx0Y29uc3QgcG9wdXBEaXYgPSBkaXYuY3JlYXRlRGl2KCdjZmUtcG9wdXAnKTtcclxuXHRcdGNvbnN0IHdyYXBwZXJEaXYgPSBwb3B1cERpdi5jcmVhdGVEaXYoKTtcclxuXHRcdHdyYXBwZXJEaXYuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG5cdFx0Y29uc3QgZXhpdEJ1dHRvbiA9IHdyYXBwZXJEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1gnLCBjbHM6ICdjZmUtcmVtb3ZlLWJ1dHRvbicgfSApO1xyXG5cdFx0ZXhpdEJ1dHRvbi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcblx0XHRleGl0QnV0dG9uLnN0eWxlLnRvcCA9ICcwJSc7XHJcblx0XHRleGl0QnV0dG9uLnN0eWxlLnJpZ2h0ID0gJzAlJztcclxuXHRcdFxyXG5cdFx0cG9wdXBEaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdDaG9vc2UgYSBGaWxlIFR5cGUgdG8gY3JlYXRlOicgfSApO1xyXG5cdFx0Y29uc3QgZmlsZVR5cGVEcm9wZG93biA9IHBvcHVwRGl2LmNyZWF0ZUVsKCdzZWxlY3QnKTtcclxuXHRcdHBvcHVwRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnRmlsZSBOYW1lOicgfSApO1xyXG5cdFx0Y29uc3QgbmFtZUlucHV0ID0gcG9wdXBEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiAnVW5uYW1lZCcgfSApO1xyXG5cdFx0cG9wdXBEaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdQYXJlbnQgRm9sZGVyIElEOicgfSApO1xyXG5cdFx0Y29uc3QgcGFyZW50Rm9sZGVySURJbnB1dCA9IHBvcHVwRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogJycgKyB0aGlzLmlkIH0gKTtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgQ0ZFRmlsZUhhbmRsZXIuS25vd25GaWxlVHlwZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0Y29uc3Qgb3B0aW9uID0gZmlsZVR5cGVEcm9wZG93bi5jcmVhdGVFbCgnb3B0aW9uJyk7XHJcblx0XHRcdG9wdGlvbi52YWx1ZSA9IENGRUZpbGVIYW5kbGVyLktub3duRmlsZVR5cGVzW2ldO1xyXG5cdFx0XHRvcHRpb24udGV4dCA9IENGRUZpbGVIYW5kbGVyLktub3duRmlsZVR5cGVzW2ldO1xyXG5cdFx0XHRmaWxlVHlwZURyb3Bkb3duLm9wdGlvbnMuYWRkKG9wdGlvbik7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc3VibWl0QnV0dG9uID0gcG9wdXBEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0NyZWF0ZScgfSApO1xyXG5cclxuXHRcdGNvbnN0IG9uRXhpdCA9ICgpID0+IHtcclxuXHRcdFx0cG9wdXBEaXYucmVtb3ZlKCk7XHJcblx0XHR9XHJcblx0XHRjb25zdCBvblN1Ym1pdCA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0YXdhaXQgQ0ZFRmlsZUhhbmRsZXIuQ3JlYXRlTmV3KHNudiwgZmlsZVR5cGVEcm9wZG93bi52YWx1ZSwgcGFyc2VJbnQocGFyZW50Rm9sZGVySURJbnB1dC52YWx1ZSksIG5hbWVJbnB1dC52YWx1ZSk7XHJcblx0XHRcdGV4aXRCdXR0b24uY2xpY2soKTtcclxuXHRcdFx0Y29uc3QgcmVzZXR0ZWRGb2xkZXIgPSBhd2FpdCBDRkVGaWxlSGFuZGxlci5Mb2FkRmlsZShzbnYsIHRoaXMuaWQpO1xyXG5cdFx0XHRhd2FpdCByZXNldHRlZEZvbGRlci5EaXNwbGF5KHNudiwgbWFpbkRpdik7XHJcblx0XHR9XHJcblx0XHRleGl0QnV0dG9uLm9uY2xpY2sgPSBvbkV4aXQ7XHJcblx0XHRzdWJtaXRCdXR0b24ub25jbGljayA9IG9uU3VibWl0O1xyXG5cclxuXHRcdHBvcHVwRGl2Lm9ua2V5ZG93biA9IGFzeW5jIChldmVudCkgPT4ge1xyXG5cdFx0XHRpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xyXG5cdFx0XHRcdG9uRXhpdCgpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJykge1xyXG5cdFx0XHRcdGF3YWl0IG9uU3VibWl0KCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgTG9hZEZpbGVTZWxlY3Rpb25VSShzbnY6IFNvdXJjZUFuZFZhdWx0LCBtYWluRGl2OiBIVE1MRGl2RWxlbWVudCwgZGl2OiBIVE1MRGl2RWxlbWVudCkge1xyXG5cdFx0ZGl2LmVtcHR5KCk7XHJcblx0XHRjb25zdCBwb3B1cERpdiA9IGRpdi5jcmVhdGVEaXYoJ2NmZS1wb3B1cCcpO1xyXG5cdFx0Y29uc3Qgd3JhcHBlckRpdiA9IHBvcHVwRGl2LmNyZWF0ZURpdigpO1xyXG5cdFx0d3JhcHBlckRpdi5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XHJcblx0XHRwb3B1cERpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0Nob29zZSB5b3VyIGZpbGVzJyB9ICk7XHJcblx0XHRjb25zdCBmaWxlSW5wdXQgPSBwb3B1cERpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdmaWxlJyB9ICk7XHJcblx0XHRmaWxlSW5wdXQubXVsdGlwbGUgPSB0cnVlO1xyXG5cdFx0cG9wdXBEaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdQYXJlbnQgRm9sZGVyIElEOiAnIH0gKTtcclxuXHRcdGNvbnN0IHBhcmVudEZvbGRlcklESW5wdXQgPSBwb3B1cERpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6ICcnICsgdGhpcy5pZCB9ICk7XHJcblx0XHRjb25zdCBleGl0QnV0dG9uID0gd3JhcHBlckRpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnWCcsIGNsczogJ2NmZS1yZW1vdmUtYnV0dG9uJyB9ICk7XHJcblx0XHRleGl0QnV0dG9uLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuXHRcdGV4aXRCdXR0b24uc3R5bGUudG9wID0gJzAlJztcclxuXHRcdGV4aXRCdXR0b24uc3R5bGUucmlnaHQgPSAnMCUnO1xyXG5cdFx0Y29uc3Qgc3VibWl0QnV0dG9uID0gcG9wdXBEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0NyZWF0ZScgfSApO1xyXG5cdFx0XHJcblx0XHRjb25zdCBvbkV4aXQgPSAoKSA9PiB7XHJcblx0XHRcdHBvcHVwRGl2LnJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3Qgb25TdWJtaXQgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdGNvbnN0IGZpbGVBcnJheSA9IGZpbGVJbnB1dC5maWxlcztcclxuXHRcdFx0Y29uc3QgcGFyZW50Rm9sZGVySUQgPSBwYXJzZUludChwYXJlbnRGb2xkZXJJRElucHV0LnZhbHVlKTtcclxuXHRcdFx0aWYgKGZpbGVBcnJheSAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZUFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0XHRjb25zdCBjZmVGaWxlID0gYXdhaXQgQ0ZFRmlsZUhhbmRsZXIuQ3JlYXRlTmV3KHNudiwgJ1NpbmdsZSBNZWRpYSBGaWxlJywgcGFyZW50Rm9sZGVySUQsIGZpbGVBcnJheVtpXS5uYW1lKTtcclxuXHRcdFx0XHRcdGNvbnN0IG1lZGlhRmlsZSA9IE9iamVjdC5hc3NpZ24obmV3IFNpbmdsZU1lZGlhRmlsZSgpLCBjZmVGaWxlKTtcclxuXHRcdFx0XHRcdGF3YWl0IG1lZGlhRmlsZS5TZXRGaWxlVG8oc252LCBmaWxlQXJyYXlbaV0pO1xyXG5cdFx0XHRcdFx0YXdhaXQgbWVkaWFGaWxlLlNhdmUoc252KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZXhpdEJ1dHRvbi5jbGljaygpO1xyXG5cdFx0XHRcdGNvbnN0IHJlc2V0dGVkRm9sZGVyID0gYXdhaXQgQ0ZFRmlsZUhhbmRsZXIuTG9hZEZpbGUoc252LCB0aGlzLmlkKTtcclxuXHRcdFx0XHRhd2FpdCByZXNldHRlZEZvbGRlci5EaXNwbGF5KHNudiwgbWFpbkRpdik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGV4aXRCdXR0b24ub25jbGljayA9IG9uRXhpdDtcclxuXHRcdHN1Ym1pdEJ1dHRvbi5vbmNsaWNrID0gb25TdWJtaXQ7XHJcblxyXG5cdFx0cG9wdXBEaXYub25rZXlkb3duID0gYXN5bmMgKGV2ZW50KSA9PiB7XHJcblx0XHRcdGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcblx0XHRcdFx0b25FeGl0KCk7XHJcblx0XHRcdH0gZWxzZSBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7XHJcblx0XHRcdFx0YXdhaXQgb25TdWJtaXQoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQ0ZFRmlsZSB9IGZyb20gXCIuL2NmZS1maWxlXCI7XHJcbmltcG9ydCB7IENGRUZpbGVIYW5kbGVyIH0gZnJvbSBcIi4vY2ZlLWZpbGUtaGFuZGxlclwiO1xyXG5pbXBvcnQgeyBSZWFsRmlsZSB9IGZyb20gXCIuL3JlYWwtZmlsZVwiO1xyXG5pbXBvcnQgeyBTb3VyY2VBbmRWYXVsdCB9IGZyb20gXCIuL3NudlwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXlsaXN0IGV4dGVuZHMgQ0ZFRmlsZSB7XHJcblx0cHJpdmF0ZSBjdXJyZW50VmlkZW9JbmRleDogbnVtYmVyO1xyXG5cdHZpZGVvSURzOiBudW1iZXJbXTtcclxuXHJcblx0cHJpdmF0ZSB2aWRlb09yZGVyOiBzdHJpbmc7XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIGdldE5leHRWaWRlb0lESW5PcmRlcihwbGF5bGlzdDogUGxheWxpc3QpIHtcclxuXHRcdGxldCBuZXh0VmlkZW9JbmRleCA9IHBsYXlsaXN0LmN1cnJlbnRWaWRlb0luZGV4ICsgMTtcclxuXHRcdGlmIChuZXh0VmlkZW9JbmRleCA+PSBwbGF5bGlzdC52aWRlb0lEcy5sZW5ndGgpIHtcclxuXHRcdFx0bmV4dFZpZGVvSW5kZXggPSAwO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG5leHRWaWRlb0luZGV4O1xyXG5cdH1cclxuXHRwcml2YXRlIHN0YXRpYyBnZXROZXh0VmlkZW9JRFNodWZmbGVkKHBsYXlsaXN0OiBQbGF5bGlzdCkge1xyXG5cdFx0bGV0IG5leHRWaWRlb0luZGV4ID0gTWF0aC5yYW5kb20oKSAqIHBsYXlsaXN0LnZpZGVvSURzLmxlbmd0aDtcclxuXHRcdG5leHRWaWRlb0luZGV4ID0gTWF0aC5mbG9vcihuZXh0VmlkZW9JbmRleCk7XHJcblx0XHRyZXR1cm4gbmV4dFZpZGVvSW5kZXg7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBhc3luYyBsb2FkTmV4dFZpZGVvKHNvdXJjZUFuZFZhdWx0OiBTb3VyY2VBbmRWYXVsdCwgcGxheWxpc3Q6IFBsYXlsaXN0LCB2aWRlb0VsZW1lbnQ6IEhUTUxWaWRlb0VsZW1lbnQpIHtcclxuXHRcdGlmIChwbGF5bGlzdC52aWRlb09yZGVyID09PSAnc2h1ZmZsZWQnKSB7XHJcblx0XHRcdHBsYXlsaXN0LmN1cnJlbnRWaWRlb0luZGV4ID0gUGxheWxpc3QuZ2V0TmV4dFZpZGVvSURTaHVmZmxlZChwbGF5bGlzdCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRwbGF5bGlzdC5jdXJyZW50VmlkZW9JbmRleCA9IFBsYXlsaXN0LmdldE5leHRWaWRlb0lESW5PcmRlcihwbGF5bGlzdCk7XHJcblx0XHR9XHJcblx0XHRjb25zdCBuZXh0VmlkZW8gPSA8UmVhbEZpbGU+IChhd2FpdCBDRkVGaWxlSGFuZGxlci5Mb2FkRmlsZShzb3VyY2VBbmRWYXVsdCwgcGxheWxpc3QudmlkZW9JRHNbcGxheWxpc3QuY3VycmVudFZpZGVvSW5kZXhdKSk7XHJcblxyXG5cdFx0dmlkZW9FbGVtZW50LnNyYyA9IGF3YWl0IG5leHRWaWRlby5nZXRTcmMoc291cmNlQW5kVmF1bHQpO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIG92ZXJyaWRlIGFzeW5jIENyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnY6IFNvdXJjZUFuZFZhdWx0LCBmaWxlVHlwZTogc3RyaW5nLCBwYXJlbnRGb2xkZXJJRDogbnVtYmVyLCBuYW1lOiBzdHJpbmcpOiBQcm9taXNlPFBsYXlsaXN0PiB7XHJcblx0XHRjb25zdCBuZXdQbGF5bGlzdEZpbGUgPSA8UGxheWxpc3Q+IChhd2FpdCBzdXBlci5DcmVhdGVOZXdGaWxlRm9yTGF5ZXIoc252LCBmaWxlVHlwZSwgcGFyZW50Rm9sZGVySUQsIG5hbWUpKTtcclxuXHRcdG5ld1BsYXlsaXN0RmlsZS52aWRlb0lEcyA9IFtdO1xyXG5cdFx0cmV0dXJuIG5ld1BsYXlsaXN0RmlsZTtcclxuXHR9XHJcblxyXG5cdG92ZXJyaWRlIGFzeW5jIERpc3BsYXkoc252OiBTb3VyY2VBbmRWYXVsdCwgY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCkge1xyXG5cdFx0YXdhaXQgc3VwZXIuRGlzcGxheShzbnYsIGNvbnRhaW5lcik7XHJcblx0XHR0aGlzLmN1cnJlbnRWaWRlb0luZGV4ID0gMDtcclxuXHRcdGNvbnN0IHZpZGVvRGlzcGxheUNvbnRhaW5lciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ2NmZS1kaXNwbGF5LXZpZGVvJyk7XHJcblx0XHRjb25zdCB2aWRlb0VsZW1lbnQgPSB2aWRlb0Rpc3BsYXlDb250YWluZXIuY3JlYXRlRWwoJ3ZpZGVvJyk7XHJcblx0XHRjb25zdCBidXR0b25zQ29udGFpbmVyID0gY29udGFpbmVyLmNyZWF0ZURpdignaGJveCcpO1xyXG5cdFx0Y29uc3QgaGlkZUJ1dHRvbiA9IGJ1dHRvbnNDb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ2hpZGUgdmlkZW8nIH0gKTtcclxuXHRcdGhpZGVCdXR0b24ub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0aWYgKGhpZGVCdXR0b24udGV4dENvbnRlbnQgPT09ICdoaWRlIHZpZGVvJykge1xyXG5cdFx0XHRcdGhpZGVCdXR0b24udGV4dENvbnRlbnQgPSAnc2hvdyB2aWRlbyc7XHJcblx0XHRcdFx0dmlkZW9FbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aGlkZUJ1dHRvbi50ZXh0Q29udGVudCA9ICdoaWRlIHZpZGVvJztcclxuXHRcdFx0XHR2aWRlb0VsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Y29uc3Qgc2h1ZmZsZUJ1dHRvbiA9IGJ1dHRvbnNDb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ3NodWZmbGUnIH0gKTtcclxuXHRcdHRoaXMudmlkZW9PcmRlciA9ICdpbiBvcmRlcic7XHJcblx0XHRzaHVmZmxlQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XHJcblx0XHRcdGlmIChzaHVmZmxlQnV0dG9uLnRleHRDb250ZW50ID09PSAnc2h1ZmZsZScpIHtcclxuXHRcdFx0XHRzaHVmZmxlQnV0dG9uLnRleHRDb250ZW50ID0gJ2dvIGluIG9yZGVyJztcclxuXHRcdFx0XHR0aGlzLnZpZGVvT3JkZXIgPSAnc2h1ZmZsZWQnO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHNodWZmbGVCdXR0b24udGV4dENvbnRlbnQgPSAnc2h1ZmZsZSc7XHJcblx0XHRcdFx0dGhpcy52aWRlb09yZGVyID0gJ2luIG9yZGVyJztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Y29uc3QgbmV4dEJ1dHRvbiA9IGJ1dHRvbnNDb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ25leHQgdmlkZW8nIH0gKTtcclxuXHRcdG5leHRCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0YXdhaXQgUGxheWxpc3QubG9hZE5leHRWaWRlbyhzbnYsIHRoaXMsIHZpZGVvRWxlbWVudCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgZmlyc3RWaWRlbyA9IDxSZWFsRmlsZT4gKGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNudiwgdGhpcy52aWRlb0lEc1t0aGlzLmN1cnJlbnRWaWRlb0luZGV4XSkpO1xyXG5cdFx0XHR2aWRlb0VsZW1lbnQuc3JjID0gYXdhaXQgZmlyc3RWaWRlby5nZXRTcmMoc252KTtcclxuXHRcdFx0dmlkZW9FbGVtZW50LmF1dG9wbGF5ID0gdHJ1ZTtcclxuXHRcdFx0dmlkZW9FbGVtZW50LmNvbnRyb2xzID0gdHJ1ZTtcclxuXHRcdFx0dmlkZW9FbGVtZW50Lm9udGltZXVwZGF0ZSA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRpZiAodmlkZW9FbGVtZW50LmVuZGVkKSB7XHJcblx0XHRcdFx0XHRhd2FpdCBQbGF5bGlzdC5sb2FkTmV4dFZpZGVvKHNudiwgdGhpcywgdmlkZW9FbGVtZW50KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdGNvbnRhaW5lci5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0NoYW5nZSBmaWxlcycgfSApO1xyXG5cdFx0XHRsZXQgY291bnQgPSAwO1xyXG5cdFx0XHRjb25zdCBtZWRpYUlESW5wdXREaXYgPSBjb250YWluZXIuY3JlYXRlRGl2KCd2Ym94Jyk7XHJcblx0XHRcdGNvbnN0IG5ld0ZpbGVCdXR0b24gPSBjb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0FkZCBGaWxlJyB9ICk7XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy52aWRlb0lEcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGNvbnN0IGN1cnJlbnRJbmRleCA9IGNvdW50O1xyXG5cdFx0XHRcdGNvdW50Kys7XHJcblx0XHRcdFx0Y29uc3QgbWVkaWFJRERpdiA9IG1lZGlhSURJbnB1dERpdi5jcmVhdGVEaXYoJ2hib3gnKTtcclxuXHRcdFx0XHRjb25zdCBpZElucHV0ID0gbWVkaWFJRERpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6ICcnICsgdGhpcy52aWRlb0lEc1tjdXJyZW50SW5kZXhdIH0gKTtcclxuXHRcdFx0XHRjb25zdCBkZWxldGVCdXR0b24gPSBtZWRpYUlERGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdkZWxldGUnIH0gKTtcclxuXHRcdFx0XHRkZWxldGVCdXR0b24ub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0XHRcdG1lZGlhSUREaXYucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHR0aGlzLnZpZGVvSURzLnNwbGljZShjdXJyZW50SW5kZXgsIDEpO1xyXG5cdFx0XHRcdFx0dGhpcy5EaXNwbGF5KHNudiwgY29udGFpbmVyKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWRJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMudmlkZW9JRHNbY3VycmVudEluZGV4XSA9IHBhcnNlSW50KGlkSW5wdXQudmFsdWUpO1xyXG5cdFx0XHRcdFx0dGhpcy5TYXZlKHNudik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdG5ld0ZpbGVCdXR0b24ub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0XHRjb25zdCBjdXJyZW50SW5kZXggPSBjb3VudDtcclxuXHRcdFx0XHRjb3VudCsrO1xyXG5cdFx0XHRcdGNvbnN0IG1lZGlhSUREaXYgPSBtZWRpYUlESW5wdXREaXYuY3JlYXRlRGl2KCdoYm94Jyk7XHJcblx0XHRcdFx0Y29uc3QgaWRJbnB1dCA9IG1lZGlhSUREaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcgfSApO1xyXG5cdFx0XHRcdGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IG1lZGlhSUREaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ2RlbGV0ZScgfSApO1xyXG5cdFx0XHRcdGRlbGV0ZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG5cdFx0XHRcdFx0bWVkaWFJRERpdi5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdHRoaXMudmlkZW9JRHMuc3BsaWNlKGN1cnJlbnRJbmRleCwgMSk7XHJcblx0XHRcdFx0XHR0aGlzLkRpc3BsYXkoc252LCBjb250YWluZXIpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZElucHV0Lm9uY2hhbmdlID0gKCkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy52aWRlb0lEc1tjdXJyZW50SW5kZXhdID0gcGFyc2VJbnQoaWRJbnB1dC52YWx1ZSk7XHJcblx0XHRcdFx0XHR0aGlzLlNhdmUoc252KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IENGRUZpbGVIYW5kbGVyIH0gZnJvbSBcIi4vY2ZlLWZpbGUtaGFuZGxlclwiO1xyXG5pbXBvcnQgeyBSZWFsRmlsZSB9IGZyb20gXCIuL3JlYWwtZmlsZVwiO1xyXG5pbXBvcnQgeyBTaW5nbGVNZWRpYUZpbGUgfSBmcm9tIFwiLi9zaW5nbGUtbWVkaWEtZmlsZVwiO1xyXG5pbXBvcnQgeyBTb3VyY2VBbmRWYXVsdCB9IGZyb20gXCIuL3NudlwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFZhcmlhbnRNZWRpYUZpbGUgZXh0ZW5kcyBSZWFsRmlsZSB7XHJcblxyXG5cdHByaXZhdGUgdmFyaWFudElEczogbnVtYmVyW107XHJcblxyXG5cdGFzeW5jIGdldFNyYyhzbnY6IFNvdXJjZUFuZFZhdWx0LCBpbmRleDogbnVtYmVyIHwgbnVsbCA9IG51bGwpOiBQcm9taXNlPHN0cmluZz4ge1xyXG5cdFx0aWYgKGluZGV4ID09PSBudWxsKSB7XHJcblx0XHRcdGluZGV4ID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSkgKiB0aGlzLnZhcmlhbnRJRHMubGVuZ3RoKTtcclxuXHRcdH1cclxuXHRcdGNvbnN0IGNvbnRhaW5lZE1lZGlhID0gPFNpbmdsZU1lZGlhRmlsZT4gYXdhaXQgQ0ZFRmlsZUhhbmRsZXIuTG9hZEZpbGUoc252LCB0aGlzLnZhcmlhbnRJRHNbaW5kZXhdKTtcclxuXHRcdHJldHVybiBhd2FpdCBjb250YWluZWRNZWRpYS5nZXRTcmMoc252KTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBvdmVycmlkZSBhc3luYyBDcmVhdGVOZXdGaWxlRm9yTGF5ZXIoc252OiBTb3VyY2VBbmRWYXVsdCwgZmlsZVR5cGU6IHN0cmluZywgcGFyZW50Rm9sZGVySUQ6IG51bWJlciwgbmFtZTogc3RyaW5nKTogUHJvbWlzZTxWYXJpYW50TWVkaWFGaWxlPiB7XHJcblx0XHRjb25zdCBuZXdNZWRpYUZpbGUgPSA8VmFyaWFudE1lZGlhRmlsZT4gKGF3YWl0IHN1cGVyLkNyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnYsIGZpbGVUeXBlLCBwYXJlbnRGb2xkZXJJRCwgbmFtZSkpO1xyXG5cdFx0bmV3TWVkaWFGaWxlLnZhcmlhbnRJRHMgPSBbXTtcclxuXHRcdHJldHVybiBuZXdNZWRpYUZpbGU7XHJcblx0fVxyXG5cclxuXHRvdmVycmlkZSBhc3luYyBEaXNwbGF5KHNudjogU291cmNlQW5kVmF1bHQsIGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQpIHtcclxuXHRcdGF3YWl0IHN1cGVyLkRpc3BsYXkoc252LCBjb250YWluZXIpO1xyXG5cclxuXHRcdGNvbnN0IGltYWdlRGlzcGxheUNvbnRhaW5lciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ3Zib3gnKTtcclxuXHRcdGltYWdlRGlzcGxheUNvbnRhaW5lci5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0NoYW5nZSBmaWxlcycgfSApO1xyXG5cdFx0Y29uc3QgbWVkaWFJRElucHV0RGl2ID0gaW1hZ2VEaXNwbGF5Q29udGFpbmVyLmNyZWF0ZURpdigndmJveCcpO1xyXG5cdFx0Y29uc3QgbmV3RmlsZUJ1dHRvbiA9IGltYWdlRGlzcGxheUNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQWRkIEZpbGUnIH0gKTtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy52YXJpYW50SURzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRJbmRleCA9IGk7XHJcblx0XHRcdGNvbnN0IG1lZGlhSUREaXYgPSBtZWRpYUlESW5wdXREaXYuY3JlYXRlRGl2KCdoYm94Jyk7XHJcblx0XHRcdGNvbnN0IGlkSW5wdXQgPSBtZWRpYUlERGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogJycgKyB0aGlzLnZhcmlhbnRJRHNbY3VycmVudEluZGV4XSB9ICk7XHJcblx0XHRcdGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IG1lZGlhSUREaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ2RlbGV0ZScgfSApO1xyXG5cdFx0XHRkZWxldGVCdXR0b24uY2xhc3NOYW1lID0gJ2NmZS1yZW1vdmUtYnV0dG9uJztcclxuXHRcdFx0ZGVsZXRlQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0bWVkaWFJRERpdi5yZW1vdmUoKTtcclxuXHRcdFx0XHR0aGlzLnZhcmlhbnRJRHMuc3BsaWNlKGN1cnJlbnRJbmRleCwgMSk7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5EaXNwbGF5KHNudiwgY29udGFpbmVyKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZElucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMudmFyaWFudElEc1tjdXJyZW50SW5kZXhdID0gcGFyc2VJbnQoaWRJbnB1dC52YWx1ZSk7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5EaXNwbGF5KHNudiwgY29udGFpbmVyKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0bmV3RmlsZUJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLnZhcmlhbnRJRHMucHVzaCgtMSk7XHJcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xyXG5cdFx0XHRhd2FpdCB0aGlzLkRpc3BsYXkoc252LCBjb250YWluZXIpO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgbWVkaWFEaXYgPSBpbWFnZURpc3BsYXlDb250YWluZXIuY3JlYXRlRGl2KCd2Ym94Jyk7XHJcblx0XHRcclxuXHRcdGF3YWl0IHRoaXMuRGlzcGxheU1lZGlhT25seShtZWRpYURpdiwgc252KTtcclxuXHR9XHJcblx0YXN5bmMgRGlzcGxheU1lZGlhT25seShtZWRpYURpdjogSFRNTERpdkVsZW1lbnQsIHNudjogU291cmNlQW5kVmF1bHQsIGluZGV4ID0gLTEpIHtcclxuXHRcdC8vIFRoaXMgY2FsbCBpcyBub3QgbmVlZGVkIGJlY2F1c2UgY29udGFpbmVkTWVkaWEuRGlzcGxheU1lZGlhT25seSgpIGNhbGxzIGl0IGFueXdheVxyXG5cdFx0Ly8gYXdhaXQgc3VwZXIuRGlzcGxheU1lZGlhT25seVxyXG5cdFx0aWYgKGluZGV4ID09PSAtMSkge1xyXG5cdFx0XHRpbmRleCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkpICogdGhpcy52YXJpYW50SURzLmxlbmd0aCk7XHJcblx0XHR9XHJcblx0XHRjb25zdCBjb250YWluZWRNZWRpYSA9IDxTaW5nbGVNZWRpYUZpbGU+IGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNudiwgdGhpcy52YXJpYW50SURzW2luZGV4XSk7XHJcblx0XHRhd2FpdCBjb250YWluZWRNZWRpYS5EaXNwbGF5TWVkaWFPbmx5KG1lZGlhRGl2LCBzbnYpO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQ0ZFRmlsZSB9IGZyb20gXCIuL2NmZS1maWxlXCI7XHJcbmltcG9ydCB7IFNvdXJjZUFuZFZhdWx0IH0gZnJvbSBcIi4vc252XCI7XHJcbmltcG9ydCB7IFNvdXJjZUZvbGRlciB9IGZyb20gXCIuL3NvdXJjZS1mb2xkZXJcIjtcclxuXHJcbi8qKlxyXG4gKiBBIGNoaWxkIGNsYXNzIG9mIHRoZSBDRkVGaWxlIGNsYXNzLiBSZXByZXNlbnRzIGEgZm9sZGVyIHdpdGhpbiB0aGUgU291cmNlRm9sZGVyLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFNvdXJjZUZvbGRlclNob3J0Y3V0IGV4dGVuZHMgQ0ZFRmlsZSB7XHJcblx0LyoqXHJcblx0ICogVGhlIElEcyBvZiBmaWxlcyBjb250YWluZWQgaW4gdGhpcyBmb2xkZXJcclxuXHQgKi9cclxuXHRwYXRoVG9PdGhlclNvdXJjZTogc3RyaW5nO1xyXG5cclxuXHQvKipcclxuXHQgKiBAb3ZlcnJpZGUgRm9sZGVyIGxheWVyOlxyXG5cdCAqIFxyXG5cdCAqIGluaXRpYWxpemVzIHRoZSBjb250YWluZWQgZmlsZSBpZHMgYXJyYXkgZm9yIHRoZSBmb2xkZXIgb2JqZWN0XHJcblx0ICovXHJcblx0c3RhdGljIG92ZXJyaWRlIGFzeW5jIENyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnY6IFNvdXJjZUFuZFZhdWx0LCBmaWxlVHlwZTogc3RyaW5nLCBwYXJlbnRGb2xkZXJJRDogbnVtYmVyLCBuYW1lOiBzdHJpbmcpOiBQcm9taXNlPFNvdXJjZUZvbGRlclNob3J0Y3V0PiB7XHJcblx0XHRjb25zdCB1bmZpbmlzaGVkRm9sZGVyID0gPFNvdXJjZUZvbGRlclNob3J0Y3V0PiAoYXdhaXQgc3VwZXIuQ3JlYXRlTmV3RmlsZUZvckxheWVyKHNudiwgZmlsZVR5cGUsIHBhcmVudEZvbGRlcklELCBuYW1lKSk7XHJcblx0XHR1bmZpbmlzaGVkRm9sZGVyLnBhdGhUb090aGVyU291cmNlID0gJyc7XHJcblx0XHRyZXR1cm4gdW5maW5pc2hlZEZvbGRlcjtcclxuXHR9XHJcblxyXG5cdG92ZXJyaWRlIGFzeW5jIERpc3BsYXkoc252OiBTb3VyY2VBbmRWYXVsdCwgbWFpbkRpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuXHRcdGF3YWl0IHN1cGVyLkRpc3BsYXkoc252LCBtYWluRGl2KTtcclxuXHRcdGNvbnN0IGlucHV0RGl2ID0gbWFpbkRpdi5jcmVhdGVEaXYoJ3Zib3gnKTtcclxuXHRcdGlucHV0RGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnUGF0aCB0byBPdGhlciBTb3VyY2UgRm9sZGVyJyB9ICk7XHJcblx0XHRjb25zdCBwYXRoSW5wdXQgPSBpbnB1dERpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JyB9ICk7XHJcblx0XHRjb25zdCBnb0J1dHRvbiA9IGlucHV0RGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdHbycgfSApO1xyXG5cdFx0cGF0aElucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLnBhdGhUb090aGVyU291cmNlID0gcGF0aElucHV0LnZhbHVlO1xyXG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcclxuXHRcdH1cclxuXHRcdGdvQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdGNvbnN0IG90aGVyU291cmNlID0gYXdhaXQgU291cmNlRm9sZGVyLkNyZWF0ZU9yTG9hZFNvdXJjZUZvbGRlcih0aGlzLnBhdGhUb090aGVyU291cmNlLCBzbnYudmF1bHQpO1xyXG5cdFx0XHRvdGhlclNvdXJjZS5EaXNwbGF5KG1haW5EaXYsIHNudi52YXVsdCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdH1cclxuIiwgImV4cG9ydCBjbGFzcyBMYW5ndWFnZSB7XG5cdHN0YXRpYyBDcmVhdGVPbmVMaW5lRWRpdG9yKGNsZWFuRGl2OiBIVE1MRGl2RWxlbWVudCwgZGl2OiBIVE1MRGl2RWxlbWVudCwgdmFsdWUgPSAnJywgZm9udFNpemUgPSAxNy41LCBpc1ZlcnRpY2FsID0gdHJ1ZSk6IENvbmxhbmdPbmVMaW5lRWRpdG9yIHtcblx0XHR0aHJvdyBFcnJvcignRG8gbm90IGNhbGwgdGhpcyBtZXRob2Qgb24gdGhlIExhbmd1YWdlIGNsYXNzIGl0c2VsZicpO1xuXHR9XG5cblx0c3RhdGljIENyZWF0ZU11bHRpTGluZUVkaXRvcihjbGVhbkRpdjogSFRNTERpdkVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQsIHZhbHVlID0gJycsIGZvbnRTaXplID0gMTcuNSwgaXNWZXJ0aWNhbCA9IHRydWUpOiBDb25sYW5nTXVsdGlMaW5lRWRpdG9yIHtcblx0XHR0aHJvdyBFcnJvcignRG8gbm90IGNhbGwgdGhpcyBtZXRob2Qgb24gdGhlIExhbmd1YWdlIGNsYXNzIGl0c2VsZicpO1xuXHR9XG5cblx0c3RhdGljIERpc3BsYXkoY2xlYW5EaXY6IEhUTUxEaXZFbGVtZW50LCBkaXY6IEhUTUxEaXZFbGVtZW50LCB2YWx1ZSA9ICcnLCBmb250U2l6ZSA9IDE3LjUsIGlzVmVydGljYWwgPSB0cnVlKTogQ29ubGFuZ0VsZW1lbnQge1xuXHRcdHRocm93IEVycm9yKCdEbyBub3QgY2FsbCB0aGlzIG1ldGhvZCBvbiB0aGUgTGFuZ3VhZ2UgY2xhc3MgaXRzZWxmJyk7XG5cdH1cblxuXHRzdGF0aWMgU3BlYWtPckFuaW1hdGUoY2xlYW5EaXY6IEhUTUxEaXZFbGVtZW50LCBkaXY6IEhUTUxEaXZFbGVtZW50LCB2YWx1ZSA9ICcnLCBmb250U2l6ZSA9IDE3LjUsIGlzVmVydGljYWwgPSB0cnVlKTogQ29ubGFuZ0VsZW1lbnQge1xuXHRcdHRocm93IEVycm9yKCdEbyBub3QgY2FsbCB0aGlzIG1ldGhvZCBvbiB0aGUgTGFuZ3VhZ2UgY2xhc3MgaXRzZWxmJyk7XG5cdH1cblxufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29ubGFuZ0VsZW1lbnQge1xuXHRyZWFsRm9udFNpemU6IG51bWJlcjtcblx0YWJzdHJhY3QgZ2V0IHN0eWxlKCk6IENTU1N0eWxlRGVjbGFyYXRpb247XG5cdGFic3RyYWN0IGdldCBjbGFzc05hbWUoKTogc3RyaW5nO1xuXHRhYnN0cmFjdCBzZXQgY2xhc3NOYW1lKG5ld1ZhbHVlOiBzdHJpbmcpO1xuXHRhYnN0cmFjdCBnZXQgY2xhc3NMaXN0KCk6IERPTVRva2VuTGlzdDtcblx0YWJzdHJhY3QgZ2V0IHZhbHVlKCk6IHN0cmluZztcblx0YWJzdHJhY3Qgc2V0IHZhbHVlKG5ld1ZhbHVlOiBzdHJpbmcpO1xuXHRhYnN0cmFjdCBnZXQgaXNWZXJ0aWNhbCgpOiBib29sZWFuO1xuXHRhYnN0cmFjdCBzZXQgaXNWZXJ0aWNhbChuZXdWYWx1ZTogYm9vbGVhbik7XG5cdGdldCBmb250U2l6ZSgpIHtcblx0XHRyZXR1cm4gdGhpcy5yZWFsRm9udFNpemU7XG5cdH1cblx0c2V0IGZvbnRTaXplKG5ld1ZhbHVlOiBudW1iZXIpIHtcblx0XHR0aGlzLnJlYWxGb250U2l6ZSA9IG5ld1ZhbHVlO1xuXHRcdHRoaXMuc3R5bGUuZm9udFNpemUgPSBuZXdWYWx1ZSArICdweCc7XG5cdH1cblx0b25jbGljazogKCkgPT4gUHJvbWlzZTx2b2lkPiB8IHZvaWQgPSAoKSA9PiB7XG5cdFx0cmV0dXJuO1xuXHR9XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDb25sYW5nT25lTGluZUVkaXRvciBleHRlbmRzIENvbmxhbmdFbGVtZW50IHtcblx0b25pbnB1dDogKCkgPT4gUHJvbWlzZTx2b2lkPiB8IHZvaWQgPSAoKSA9PiB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdG9uY2hhbmdlOiAoKSA9PiBQcm9taXNlPHZvaWQ+IHwgdm9pZCA9ICgpID0+IHtcblx0XHRyZXR1cm47XG5cdH1cbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbmxhbmdNdWx0aUxpbmVFZGl0b3IgZXh0ZW5kcyBDb25sYW5nRWxlbWVudCB7XG5cdG9uaW5wdXQ6ICgpID0+IFByb21pc2U8dm9pZD4gfCB2b2lkID0gKCkgPT4ge1xuXHRcdHJldHVybjtcblx0fVxuXHRvbmNoYW5nZTogKCkgPT4gUHJvbWlzZTx2b2lkPiB8IHZvaWQgPSAoKSA9PiB7XG5cdFx0cmV0dXJuO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgQ29ubGFuZ0VsZW1lbnQsIENvbmxhbmdNdWx0aUxpbmVFZGl0b3IsIENvbmxhbmdPbmVMaW5lRWRpdG9yLCBMYW5ndWFnZSB9IGZyb20gXCIuL2xhbmd1YWdlXCI7XG5cbmV4cG9ydCBjbGFzcyBId2F5dSBleHRlbmRzIExhbmd1YWdlIHtcblx0c3RhdGljIENyZWF0ZU9uZUxpbmVFZGl0b3IoY2xlYW5EaXY6IEhUTUxEaXZFbGVtZW50LCBkaXY6IEhUTUxEaXZFbGVtZW50LCB2YWx1ZSA9ICcnLCBmb250U2l6ZSA9IDE3LjUsIGlzVmVydGljYWwgPSB0cnVlKTogSHdheXVPbmVMaW5lRWRpdG9yIHtcblx0XHRjb25zdCB0ZXh0RWxlbWVudCA9IG5ldyBId2F5dU9uZUxpbmVFZGl0b3IoZGl2LCB2YWx1ZSwgZm9udFNpemUsIGlzVmVydGljYWwpO1xuXHRcdHJldHVybiB0ZXh0RWxlbWVudDtcblx0fVxuXG5cdHN0YXRpYyBDcmVhdGVNdWx0aUxpbmVFZGl0b3IoY2xlYW5EaXY6IEhUTUxEaXZFbGVtZW50LCBkaXY6IEhUTUxEaXZFbGVtZW50LCB2YWx1ZSA9ICcnLCBmb250U2l6ZSA9IDE3LjUsIGlzVmVydGljYWwgPSB0cnVlKTogSHdheXVNdWx0aUxpbmVFZGl0b3Ige1xuXHRcdGNvbnN0IHRleHRFbGVtZW50ID0gbmV3IEh3YXl1TXVsdGlMaW5lRWRpdG9yKGRpdiwgdmFsdWUsIGZvbnRTaXplLCBpc1ZlcnRpY2FsKTtcblx0XHRyZXR1cm4gdGV4dEVsZW1lbnQ7XG5cdH1cblxuXHRzdGF0aWMgRGlzcGxheShjbGVhbkRpdjogSFRNTERpdkVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQsIHZhbHVlID0gJycsIGZvbnRTaXplID0gMTcuNSwgaXNWZXJ0aWNhbCA9IHRydWUpOiBId2F5dUVsZW1lbnQge1xuXHRcdGNvbnN0IHRleHRFbGVtZW50ID0gbmV3IEh3YXl1RWxlbWVudChkaXYsIHZhbHVlLCBmb250U2l6ZSwgaXNWZXJ0aWNhbCk7XG5cdFx0cmV0dXJuIHRleHRFbGVtZW50O1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBId2F5dUVsZW1lbnQgZXh0ZW5kcyBDb25sYW5nRWxlbWVudCB7XG5cdHRleHRFbGVtZW50OiBIVE1MRGl2RWxlbWVudDtcblx0cmVhbElzVmVydGljYWw6IGJvb2xlYW47XG5cblx0Z2V0IHN0eWxlKCk6IENTU1N0eWxlRGVjbGFyYXRpb24ge1xuXHRcdHJldHVybiB0aGlzLnRleHRFbGVtZW50LnN0eWxlO1xuXHR9XG5cdGdldCB2YWx1ZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLnRleHRFbGVtZW50LnRleHRDb250ZW50ID8gdGhpcy50ZXh0RWxlbWVudC50ZXh0Q29udGVudCA6ICcnO1xuXHR9XG5cdHNldCB2YWx1ZShuZXdWYWx1ZTogc3RyaW5nKSB7XG5cdFx0dGhpcy50ZXh0RWxlbWVudC50ZXh0Q29udGVudCA9IG5ld1ZhbHVlO1xuXHR9XG5cdGdldCBjbGFzc05hbWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy50ZXh0RWxlbWVudC5jbGFzc05hbWU7XG5cdH1cblx0c2V0IGNsYXNzTmFtZShuZXdWYWx1ZTogc3RyaW5nKSB7XG5cdFx0dGhpcy50ZXh0RWxlbWVudC5jbGFzc05hbWUgPSBuZXdWYWx1ZTtcblx0fVxuXHRnZXQgY2xhc3NMaXN0KCk6IERPTVRva2VuTGlzdCB7XG5cdFx0cmV0dXJuIHRoaXMudGV4dEVsZW1lbnQuY2xhc3NMaXN0O1xuXHR9XG5cdGdldCBpc1ZlcnRpY2FsKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLnJlYWxJc1ZlcnRpY2FsO1xuXHR9XG5cdHNldCBpc1ZlcnRpY2FsKG5ld1ZhbHVlOiBib29sZWFuKSB7XG5cdFx0dGhpcy5yZWFsSXNWZXJ0aWNhbCA9IG5ld1ZhbHVlO1xuXHRcdHRoaXMuc3R5bGUuZm9udEZhbWlseSA9IG5ld1ZhbHVlID8gJ0h3YXl1UmVhbCcgOiAnSHdheXVIb3Jpem9udGFsJztcblx0XHRpZiAobmV3VmFsdWUpIHtcblx0XHRcdHRoaXMuc3R5bGUud3JpdGluZ01vZGUgPSAndmVydGljYWwtbHInO1xuXHRcdFx0dGhpcy5zdHlsZS50ZXh0T3JpZW50YXRpb24gPSAndXByaWdodCc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuc3R5bGUud3JpdGluZ01vZGUgPSAnaG9yaXpvbnRhbC10Yic7XG5cdFx0XHR0aGlzLnN0eWxlLnRleHRPcmllbnRhdGlvbiA9ICd1bnNldCc7XG5cdFx0fVxuXHR9XG5cblx0Y29uc3RydWN0b3IoZGl2OiBIVE1MRGl2RWxlbWVudCwgdmFsdWUgPSAnJywgZm9udFNpemUgPSAxNy41LCBpc1ZlcnRpY2FsID0gdHJ1ZSkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy50ZXh0RWxlbWVudCA9IGRpdi5jcmVhdGVEaXYoKTtcblx0XHR0aGlzLnZhbHVlID0gdmFsdWU7XG5cdFx0dGhpcy5mb250U2l6ZSA9IGZvbnRTaXplO1xuXHRcdHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XG5cdFx0dGhpcy50ZXh0RWxlbWVudC5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0YXdhaXQgdGhpcy5vbmNsaWNrKCk7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBId2F5dU9uZUxpbmVFZGl0b3IgZXh0ZW5kcyBDb25sYW5nT25lTGluZUVkaXRvciB7XG5cdGlucHV0RWxlbWVudDogSFRNTElucHV0RWxlbWVudDtcblx0cmVhbElzVmVydGljYWw6IGJvb2xlYW47XG5cblx0Z2V0IHN0eWxlKCk6IENTU1N0eWxlRGVjbGFyYXRpb24ge1xuXHRcdHJldHVybiB0aGlzLmlucHV0RWxlbWVudC5zdHlsZTtcblx0fVxuXHRnZXQgdmFsdWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5pbnB1dEVsZW1lbnQudmFsdWU7XG5cdH1cblx0c2V0IHZhbHVlKG5ld1ZhbHVlOiBzdHJpbmcpIHtcblx0XHR0aGlzLmlucHV0RWxlbWVudC52YWx1ZSA9IG5ld1ZhbHVlO1xuXHR9XG5cdGdldCBjbGFzc05hbWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5pbnB1dEVsZW1lbnQuY2xhc3NOYW1lO1xuXHR9XG5cdHNldCBjbGFzc05hbWUobmV3VmFsdWU6IHN0cmluZykge1xuXHRcdHRoaXMuaW5wdXRFbGVtZW50LmNsYXNzTmFtZSA9IG5ld1ZhbHVlO1xuXHR9XG5cdGdldCBjbGFzc0xpc3QoKTogRE9NVG9rZW5MaXN0IHtcblx0XHRyZXR1cm4gdGhpcy5pbnB1dEVsZW1lbnQuY2xhc3NMaXN0O1xuXHR9XG5cdGdldCBpc1ZlcnRpY2FsKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLnJlYWxJc1ZlcnRpY2FsO1xuXHR9XG5cdHNldCBpc1ZlcnRpY2FsKG5ld1ZhbHVlOiBib29sZWFuKSB7XG5cdFx0dGhpcy5yZWFsSXNWZXJ0aWNhbCA9IG5ld1ZhbHVlO1xuXHRcdHRoaXMuc3R5bGUuZm9udEZhbWlseSA9IG5ld1ZhbHVlID8gJ0h3YXl1UmVhbCcgOiAnSHdheXVIb3Jpem9udGFsJztcblx0XHRpZiAobmV3VmFsdWUpIHtcblx0XHRcdHRoaXMuc3R5bGUud3JpdGluZ01vZGUgPSAndmVydGljYWwtbHInO1xuXHRcdFx0dGhpcy5zdHlsZS50ZXh0T3JpZW50YXRpb24gPSAndXByaWdodCc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuc3R5bGUud3JpdGluZ01vZGUgPSAnaG9yaXpvbnRhbC10Yic7XG5cdFx0XHR0aGlzLnN0eWxlLnRleHRPcmllbnRhdGlvbiA9ICd1bnNldCc7XG5cdFx0fVxuXHR9XG5cblx0Y29uc3RydWN0b3IoZGl2OiBIVE1MRGl2RWxlbWVudCwgdmFsdWUgPSAnJywgZm9udFNpemUgPSAxNy41LCBpc1ZlcnRpY2FsID0gdHJ1ZSkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5pbnB1dEVsZW1lbnQgPSBkaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcgfSApO1xuXHRcdHRoaXMuaW5wdXRFbGVtZW50LnNwZWxsY2hlY2sgPSBmYWxzZTtcblx0XHR0aGlzLnZhbHVlID0gdmFsdWU7XG5cdFx0dGhpcy5mb250U2l6ZSA9IGZvbnRTaXplO1xuXHRcdHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XG5cdFx0dGhpcy5pbnB1dEVsZW1lbnQub25pbnB1dCA9IGFzeW5jICgpID0+IHtcblx0XHRcdHRoaXMudmFsdWUgPSB0aGlzLmlucHV0RWxlbWVudC52YWx1ZTtcblx0XHRcdGF3YWl0IHRoaXMub25pbnB1dCgpO1xuXHRcdH1cblx0XHR0aGlzLmlucHV0RWxlbWVudC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdHRoaXMudmFsdWUgPSB0aGlzLmlucHV0RWxlbWVudC52YWx1ZTtcblx0XHRcdGF3YWl0IHRoaXMub25jaGFuZ2UoKTtcblx0XHR9XG5cdFx0dGhpcy5pbnB1dEVsZW1lbnQub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdGF3YWl0IHRoaXMub25jbGljaygpO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgY2xhc3MgSHdheXVNdWx0aUxpbmVFZGl0b3IgZXh0ZW5kcyBDb25sYW5nTXVsdGlMaW5lRWRpdG9yIHtcblx0aW5wdXRFbGVtZW50OiBIVE1MVGV4dEFyZWFFbGVtZW50O1xuXHRyZWFsSXNWZXJ0aWNhbDogYm9vbGVhbjtcblxuXHRnZXQgc3R5bGUoKTogQ1NTU3R5bGVEZWNsYXJhdGlvbiB7XG5cdFx0cmV0dXJuIHRoaXMuaW5wdXRFbGVtZW50LnN0eWxlO1xuXHR9XG5cdGdldCB2YWx1ZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLmlucHV0RWxlbWVudC52YWx1ZTtcblx0fVxuXHRzZXQgdmFsdWUobmV3VmFsdWU6IHN0cmluZykge1xuXHRcdHRoaXMuaW5wdXRFbGVtZW50LnZhbHVlID0gbmV3VmFsdWU7XG5cdH1cblx0Z2V0IGNsYXNzTmFtZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLmlucHV0RWxlbWVudC5jbGFzc05hbWU7XG5cdH1cblx0c2V0IGNsYXNzTmFtZShuZXdWYWx1ZTogc3RyaW5nKSB7XG5cdFx0dGhpcy5pbnB1dEVsZW1lbnQuY2xhc3NOYW1lID0gbmV3VmFsdWU7XG5cdH1cblx0Z2V0IGNsYXNzTGlzdCgpOiBET01Ub2tlbkxpc3Qge1xuXHRcdHJldHVybiB0aGlzLmlucHV0RWxlbWVudC5jbGFzc0xpc3Q7XG5cdH1cblx0Z2V0IGlzVmVydGljYWwoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMucmVhbElzVmVydGljYWw7XG5cdH1cblx0c2V0IGlzVmVydGljYWwobmV3VmFsdWU6IGJvb2xlYW4pIHtcblx0XHR0aGlzLnJlYWxJc1ZlcnRpY2FsID0gbmV3VmFsdWU7XG5cdFx0dGhpcy5zdHlsZS5mb250RmFtaWx5ID0gbmV3VmFsdWUgPyAnSHdheXVSZWFsJyA6ICdId2F5dUhvcml6b250YWwnO1xuXHRcdGlmIChuZXdWYWx1ZSkge1xuXHRcdFx0dGhpcy5zdHlsZS53cml0aW5nTW9kZSA9ICd2ZXJ0aWNhbC1scic7XG5cdFx0XHR0aGlzLnN0eWxlLnRleHRPcmllbnRhdGlvbiA9ICd1cHJpZ2h0Jztcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5zdHlsZS53cml0aW5nTW9kZSA9ICdob3Jpem9udGFsLXRiJztcblx0XHRcdHRoaXMuc3R5bGUudGV4dE9yaWVudGF0aW9uID0gJ3Vuc2V0Jztcblx0XHR9XG5cdH1cblxuXHRjb25zdHJ1Y3RvcihkaXY6IEhUTUxEaXZFbGVtZW50LCB2YWx1ZSA9ICcnLCBmb250U2l6ZSA9IDE3LjUsIGlzVmVydGljYWwgPSB0cnVlKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLmlucHV0RWxlbWVudCA9IGRpdi5jcmVhdGVFbCgndGV4dGFyZWEnKTtcblx0XHR0aGlzLmlucHV0RWxlbWVudC5zcGVsbGNoZWNrID0gZmFsc2U7XG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlO1xuXHRcdHRoaXMuZm9udFNpemUgPSBmb250U2l6ZTtcblx0XHR0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xuXHRcdHRoaXMuaW5wdXRFbGVtZW50Lm9uaW5wdXQgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHR0aGlzLnZhbHVlID0gdGhpcy5pbnB1dEVsZW1lbnQudmFsdWU7XG5cdFx0XHRhd2FpdCB0aGlzLm9uaW5wdXQoKTtcblx0XHR9XG5cdFx0dGhpcy5pbnB1dEVsZW1lbnQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHR0aGlzLnZhbHVlID0gdGhpcy5pbnB1dEVsZW1lbnQudmFsdWU7XG5cdFx0XHRhd2FpdCB0aGlzLm9uY2hhbmdlKCk7XG5cdFx0fVxuXHRcdHRoaXMuaW5wdXRFbGVtZW50Lm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRhd2FpdCB0aGlzLm9uY2xpY2soKTtcblx0XHR9XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBDb25sYW5nRWxlbWVudCwgQ29ubGFuZ011bHRpTGluZUVkaXRvciwgQ29ubGFuZ09uZUxpbmVFZGl0b3IsIExhbmd1YWdlIH0gZnJvbSBcIi4vbGFuZ3VhZ2VcIjtcblxuZXhwb3J0IGNsYXNzIEVuZ2xpc2ggZXh0ZW5kcyBMYW5ndWFnZSB7XG5cdHN0YXRpYyBDcmVhdGVPbmVMaW5lRWRpdG9yKGNsZWFuRGl2OiBIVE1MRGl2RWxlbWVudCwgZGl2OiBIVE1MRGl2RWxlbWVudCwgdmFsdWUgPSAnJywgZm9udFNpemUgPSAxNy41LCBpc1ZlcnRpY2FsID0gdHJ1ZSk6IEVuZ2xpc2hPbmVMaW5lRWRpdG9yIHtcblx0XHRjb25zdCB0ZXh0RWxlbWVudCA9IG5ldyBFbmdsaXNoT25lTGluZUVkaXRvcihkaXYsIHZhbHVlLCBmb250U2l6ZSwgaXNWZXJ0aWNhbCk7XG5cdFx0cmV0dXJuIHRleHRFbGVtZW50O1xuXHR9XG5cblx0c3RhdGljIENyZWF0ZU11bHRpTGluZUVkaXRvcihjbGVhbkRpdjogSFRNTERpdkVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQsIHZhbHVlID0gJycsIGZvbnRTaXplID0gMTcuNSwgaXNWZXJ0aWNhbCA9IHRydWUpOiBFbmdsaXNoTXVsdGlMaW5lRWRpdG9yIHtcblx0XHRjb25zdCB0ZXh0RWxlbWVudCA9IG5ldyBFbmdsaXNoTXVsdGlMaW5lRWRpdG9yKGRpdiwgdmFsdWUsIGZvbnRTaXplLCBpc1ZlcnRpY2FsKTtcblx0XHRyZXR1cm4gdGV4dEVsZW1lbnQ7XG5cdH1cblxuXHRzdGF0aWMgRGlzcGxheShjbGVhbkRpdjogSFRNTERpdkVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQsIHZhbHVlID0gJycsIGZvbnRTaXplID0gMTcuNSwgaXNWZXJ0aWNhbCA9IGZhbHNlKTogRW5nbGlzaEVsZW1lbnQge1xuXHRcdGNvbnN0IHRleHRFbGVtZW50ID0gbmV3IEVuZ2xpc2hFbGVtZW50KGRpdiwgdmFsdWUsIGZvbnRTaXplLCBpc1ZlcnRpY2FsKTtcblx0XHRyZXR1cm4gdGV4dEVsZW1lbnQ7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIEVuZ2xpc2hFbGVtZW50IGV4dGVuZHMgQ29ubGFuZ0VsZW1lbnQge1xuXHR0ZXh0RWxlbWVudDogSFRNTERpdkVsZW1lbnQ7XG5cdHJlYWxJc1ZlcnRpY2FsOiBib29sZWFuO1xuXG5cdGdldCBzdHlsZSgpOiBDU1NTdHlsZURlY2xhcmF0aW9uIHtcblx0XHRyZXR1cm4gdGhpcy50ZXh0RWxlbWVudC5zdHlsZTtcblx0fVxuXHRnZXQgdmFsdWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy50ZXh0RWxlbWVudC50ZXh0Q29udGVudCA/IHRoaXMudGV4dEVsZW1lbnQudGV4dENvbnRlbnQgOiAnJztcblx0fVxuXHRzZXQgdmFsdWUobmV3VmFsdWU6IHN0cmluZykge1xuXHRcdHRoaXMudGV4dEVsZW1lbnQudGV4dENvbnRlbnQgPSBuZXdWYWx1ZTtcblx0fVxuXHRnZXQgY2xhc3NOYW1lKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMudGV4dEVsZW1lbnQuY2xhc3NOYW1lO1xuXHR9XG5cdHNldCBjbGFzc05hbWUobmV3VmFsdWU6IHN0cmluZykge1xuXHRcdHRoaXMudGV4dEVsZW1lbnQuY2xhc3NOYW1lID0gbmV3VmFsdWU7XG5cdH1cblx0Z2V0IGNsYXNzTGlzdCgpOiBET01Ub2tlbkxpc3Qge1xuXHRcdHJldHVybiB0aGlzLnRleHRFbGVtZW50LmNsYXNzTGlzdDtcblx0fVxuXHRnZXQgaXNWZXJ0aWNhbCgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5yZWFsSXNWZXJ0aWNhbDtcblx0fVxuXHRzZXQgaXNWZXJ0aWNhbChuZXdWYWx1ZTogYm9vbGVhbikge1xuXHRcdHRoaXMucmVhbElzVmVydGljYWwgPSBuZXdWYWx1ZTtcblx0XHRpZiAobmV3VmFsdWUpIHtcblx0XHRcdHRoaXMuc3R5bGUud3JpdGluZ01vZGUgPSAndmVydGljYWwtbHInO1xuXHRcdFx0dGhpcy5zdHlsZS50ZXh0T3JpZW50YXRpb24gPSAndXByaWdodCc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuc3R5bGUud3JpdGluZ01vZGUgPSAnaG9yaXpvbnRhbC10Yic7XG5cdFx0XHR0aGlzLnN0eWxlLnRleHRPcmllbnRhdGlvbiA9ICd1bnNldCc7XG5cdFx0fVxuXHR9XG5cblx0Y29uc3RydWN0b3IoZGl2OiBIVE1MRGl2RWxlbWVudCwgdmFsdWUgPSAnJywgZm9udFNpemUgPSAxNy41LCBpc1ZlcnRpY2FsID0gZmFsc2UpIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMudGV4dEVsZW1lbnQgPSBkaXYuY3JlYXRlRGl2KCk7XG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlO1xuXHRcdHRoaXMuZm9udFNpemUgPSBmb250U2l6ZTtcblx0XHR0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xuXHRcdHRoaXMudGV4dEVsZW1lbnQub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdGF3YWl0IHRoaXMub25jbGljaygpO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgY2xhc3MgRW5nbGlzaE9uZUxpbmVFZGl0b3IgZXh0ZW5kcyBDb25sYW5nT25lTGluZUVkaXRvciB7XG5cdGlucHV0RWxlbWVudDogSFRNTElucHV0RWxlbWVudDtcblx0cmVhbElzVmVydGljYWw6IGJvb2xlYW47XG5cblx0Z2V0IHN0eWxlKCk6IENTU1N0eWxlRGVjbGFyYXRpb24ge1xuXHRcdHJldHVybiB0aGlzLmlucHV0RWxlbWVudC5zdHlsZTtcblx0fVxuXHRnZXQgdmFsdWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5pbnB1dEVsZW1lbnQudmFsdWU7XG5cdH1cblx0c2V0IHZhbHVlKG5ld1ZhbHVlOiBzdHJpbmcpIHtcblx0XHR0aGlzLmlucHV0RWxlbWVudC52YWx1ZSA9IG5ld1ZhbHVlO1xuXHR9XG5cdGdldCBjbGFzc05hbWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5pbnB1dEVsZW1lbnQuY2xhc3NOYW1lO1xuXHR9XG5cdHNldCBjbGFzc05hbWUobmV3VmFsdWU6IHN0cmluZykge1xuXHRcdHRoaXMuaW5wdXRFbGVtZW50LmNsYXNzTmFtZSA9IG5ld1ZhbHVlO1xuXHR9XG5cdGdldCBjbGFzc0xpc3QoKTogRE9NVG9rZW5MaXN0IHtcblx0XHRyZXR1cm4gdGhpcy5pbnB1dEVsZW1lbnQuY2xhc3NMaXN0O1xuXHR9XG5cdGdldCBpc1ZlcnRpY2FsKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLnJlYWxJc1ZlcnRpY2FsO1xuXHR9XG5cdHNldCBpc1ZlcnRpY2FsKG5ld1ZhbHVlOiBib29sZWFuKSB7XG5cdFx0dGhpcy5yZWFsSXNWZXJ0aWNhbCA9IG5ld1ZhbHVlO1xuXHRcdGlmIChuZXdWYWx1ZSkge1xuXHRcdFx0dGhpcy5zdHlsZS53cml0aW5nTW9kZSA9ICd2ZXJ0aWNhbC1scic7XG5cdFx0XHR0aGlzLnN0eWxlLnRleHRPcmllbnRhdGlvbiA9ICd1cHJpZ2h0Jztcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5zdHlsZS53cml0aW5nTW9kZSA9ICdob3Jpem9udGFsLXRiJztcblx0XHRcdHRoaXMuc3R5bGUudGV4dE9yaWVudGF0aW9uID0gJ3Vuc2V0Jztcblx0XHR9XG5cdH1cblxuXHRjb25zdHJ1Y3RvcihkaXY6IEhUTUxEaXZFbGVtZW50LCB2YWx1ZSA9ICcnLCBmb250U2l6ZSA9IDE3LjUsIGlzVmVydGljYWwgPSBmYWxzZSkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5pbnB1dEVsZW1lbnQgPSBkaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcgfSApO1xuXHRcdHRoaXMudmFsdWUgPSB2YWx1ZTtcblx0XHR0aGlzLmZvbnRTaXplID0gZm9udFNpemU7XG5cdFx0dGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcblx0XHR0aGlzLmlucHV0RWxlbWVudC5vbmlucHV0ID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0dGhpcy52YWx1ZSA9IHRoaXMuaW5wdXRFbGVtZW50LnZhbHVlO1xuXHRcdFx0YXdhaXQgdGhpcy5vbmlucHV0KCk7XG5cdFx0fVxuXHRcdHRoaXMuaW5wdXRFbGVtZW50Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0dGhpcy52YWx1ZSA9IHRoaXMuaW5wdXRFbGVtZW50LnZhbHVlO1xuXHRcdFx0YXdhaXQgdGhpcy5vbmNoYW5nZSgpO1xuXHRcdH1cblx0XHR0aGlzLmlucHV0RWxlbWVudC5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0YXdhaXQgdGhpcy5vbmNsaWNrKCk7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBFbmdsaXNoTXVsdGlMaW5lRWRpdG9yIGV4dGVuZHMgQ29ubGFuZ011bHRpTGluZUVkaXRvciB7XG5cdGlucHV0RWxlbWVudDogSFRNTFRleHRBcmVhRWxlbWVudDtcblx0cmVhbElzVmVydGljYWw6IGJvb2xlYW47XG5cblx0Z2V0IHN0eWxlKCk6IENTU1N0eWxlRGVjbGFyYXRpb24ge1xuXHRcdHJldHVybiB0aGlzLmlucHV0RWxlbWVudC5zdHlsZTtcblx0fVxuXHRnZXQgdmFsdWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5pbnB1dEVsZW1lbnQudmFsdWU7XG5cdH1cblx0c2V0IHZhbHVlKG5ld1ZhbHVlOiBzdHJpbmcpIHtcblx0XHR0aGlzLmlucHV0RWxlbWVudC52YWx1ZSA9IG5ld1ZhbHVlO1xuXHR9XG5cdGdldCBjbGFzc05hbWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5pbnB1dEVsZW1lbnQuY2xhc3NOYW1lO1xuXHR9XG5cdHNldCBjbGFzc05hbWUobmV3VmFsdWU6IHN0cmluZykge1xuXHRcdHRoaXMuaW5wdXRFbGVtZW50LmNsYXNzTmFtZSA9IG5ld1ZhbHVlO1xuXHR9XG5cdGdldCBjbGFzc0xpc3QoKTogRE9NVG9rZW5MaXN0IHtcblx0XHRyZXR1cm4gdGhpcy5pbnB1dEVsZW1lbnQuY2xhc3NMaXN0O1xuXHR9XG5cdGdldCBpc1ZlcnRpY2FsKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLnJlYWxJc1ZlcnRpY2FsO1xuXHR9XG5cdHNldCBpc1ZlcnRpY2FsKG5ld1ZhbHVlOiBib29sZWFuKSB7XG5cdFx0dGhpcy5yZWFsSXNWZXJ0aWNhbCA9IG5ld1ZhbHVlO1xuXHRcdGlmIChuZXdWYWx1ZSkge1xuXHRcdFx0dGhpcy5zdHlsZS53cml0aW5nTW9kZSA9ICd2ZXJ0aWNhbC1scic7XG5cdFx0XHR0aGlzLnN0eWxlLnRleHRPcmllbnRhdGlvbiA9ICd1cHJpZ2h0Jztcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5zdHlsZS53cml0aW5nTW9kZSA9ICdob3Jpem9udGFsLXRiJztcblx0XHRcdHRoaXMuc3R5bGUudGV4dE9yaWVudGF0aW9uID0gJ3Vuc2V0Jztcblx0XHR9XG5cdH1cblxuXHRjb25zdHJ1Y3RvcihkaXY6IEhUTUxEaXZFbGVtZW50LCB2YWx1ZSA9ICcnLCBmb250U2l6ZSA9IDE3LjUsIGlzVmVydGljYWwgPSBmYWxzZSkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5pbnB1dEVsZW1lbnQgPSBkaXYuY3JlYXRlRWwoJ3RleHRhcmVhJyk7XG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlO1xuXHRcdHRoaXMuZm9udFNpemUgPSBmb250U2l6ZTtcblx0XHR0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xuXHRcdHRoaXMuaW5wdXRFbGVtZW50Lm9uaW5wdXQgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHR0aGlzLnZhbHVlID0gdGhpcy5pbnB1dEVsZW1lbnQudmFsdWU7XG5cdFx0XHRhd2FpdCB0aGlzLm9uaW5wdXQoKTtcblx0XHR9XG5cdFx0dGhpcy5pbnB1dEVsZW1lbnQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHR0aGlzLnZhbHVlID0gdGhpcy5pbnB1dEVsZW1lbnQudmFsdWU7XG5cdFx0XHRhd2FpdCB0aGlzLm9uY2hhbmdlKCk7XG5cdFx0fVxuXHRcdHRoaXMuaW5wdXRFbGVtZW50Lm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRhd2FpdCB0aGlzLm9uY2xpY2soKTtcblx0XHR9XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBDb25sYW5nRWxlbWVudCwgQ29ubGFuZ09uZUxpbmVFZGl0b3IsIExhbmd1YWdlIH0gZnJvbSBcIi4vbGFuZ3VhZ2VcIjtcblxuZXhwb3J0IGNsYXNzIENvbG9yTGFuZyBleHRlbmRzIExhbmd1YWdlIHtcblx0c3RhdGljIENyZWF0ZU9uZUxpbmVFZGl0b3IoY2xlYW5EaXY6IEhUTUxEaXZFbGVtZW50LCBkaXY6IEhUTUxEaXZFbGVtZW50LCB2YWx1ZSA9ICcnLCBmb250U2l6ZSA9IDE3LjUsIGlzVmVydGljYWwgPSB0cnVlKTogQ29sb3JMYW5nRWRpdG9yIHtcblx0XHRjb25zdCB0ZXh0RWxlbWVudCA9IG5ldyBDb2xvckxhbmdFZGl0b3IoY2xlYW5EaXYsIGRpdiwgdmFsdWUsIGZvbnRTaXplLCBpc1ZlcnRpY2FsKTtcblx0XHRyZXR1cm4gdGV4dEVsZW1lbnQ7XG5cdH1cblxuXHRzdGF0aWMgQ3JlYXRlTXVsdGlMaW5lRWRpdG9yKGNsZWFuRGl2OiBIVE1MRGl2RWxlbWVudCwgZGl2OiBIVE1MRGl2RWxlbWVudCwgdmFsdWUgPSAnJywgZm9udFNpemUgPSAxNy41LCBpc1ZlcnRpY2FsID0gdHJ1ZSk6IENvbG9yTGFuZ0VkaXRvciB7XG5cdFx0Y29uc3QgdGV4dEVsZW1lbnQgPSBuZXcgQ29sb3JMYW5nRWRpdG9yKGNsZWFuRGl2LCBkaXYsIHZhbHVlLCBmb250U2l6ZSwgaXNWZXJ0aWNhbCk7XG5cdFx0cmV0dXJuIHRleHRFbGVtZW50O1xuXHR9XG5cblx0c3RhdGljIERpc3BsYXkoY2xlYW5EaXY6IEhUTUxEaXZFbGVtZW50LCBkaXY6IEhUTUxEaXZFbGVtZW50LCB2YWx1ZSA9ICcnLCBmb250U2l6ZSA9IDE3LjUsIGlzVmVydGljYWwgPSB0cnVlKTogU3RhdGljQ29sb3JMYW5nRWxlbWVudCB7XG5cdFx0Y29uc3QgdGV4dEVsZW1lbnQgPSBuZXcgU3RhdGljQ29sb3JMYW5nRWxlbWVudChjbGVhbkRpdiwgZGl2LCB2YWx1ZSwgZm9udFNpemUsIGlzVmVydGljYWwpO1xuXHRcdHJldHVybiB0ZXh0RWxlbWVudDtcblx0fVxuXG5cdHN0YXRpYyBTcGVha09yQW5pbWF0ZShjbGVhbkRpdjogSFRNTERpdkVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQsIHZhbHVlID0gJycsIGZvbnRTaXplID0gMTcuNSwgaXNWZXJ0aWNhbCA9IHRydWUpOiBBbmltYXRlZENvbG9yTGFuZ0VsZW1lbnQge1xuXHRcdGNvbnN0IHRleHRFbGVtZW50ID0gbmV3IEFuaW1hdGVkQ29sb3JMYW5nRWxlbWVudChjbGVhbkRpdiwgZGl2LCB2YWx1ZSwgZm9udFNpemUsIGlzVmVydGljYWwpO1xuXHRcdHJldHVybiB0ZXh0RWxlbWVudDtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgQW5pbWF0ZWRDb2xvckxhbmdFbGVtZW50IGV4dGVuZHMgQ29ubGFuZ0VsZW1lbnQge1xuXHRjbGVhbkRpdjogSFRNTERpdkVsZW1lbnQ7XG5cdHdyYXBwZXJEaXY6IEhUTUxEaXZFbGVtZW50O1xuXHRjb250ZW50OiBDb2xvclBocmFzZTtcblx0cmVhbElzVmVydGljYWw6IGJvb2xlYW47XG5cblx0Z2V0IHN0eWxlKCk6IENTU1N0eWxlRGVjbGFyYXRpb24ge1xuXHRcdHJldHVybiB0aGlzLndyYXBwZXJEaXYuc3R5bGU7XG5cdH1cblx0Z2V0IHZhbHVlKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuY29udGVudCk7XG5cdH1cblx0c2V0IHZhbHVlKG5ld1ZhbHVlOiBzdHJpbmcpIHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgcGxhaW5QaHJhc2UgPSBKU09OLnBhcnNlKG5ld1ZhbHVlKTtcblx0XHRcdHRoaXMuY29udGVudCA9IE9iamVjdC5hc3NpZ24obmV3IENvbG9yUGhyYXNlKCksIHBsYWluUGhyYXNlKTtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb250ZW50LndvcmRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHRoaXMuY29udGVudC53b3Jkc1tpXSA9IE9iamVjdC5hc3NpZ24obmV3IENvbG9yV29yZCgpLCB0aGlzLmNvbnRlbnQud29yZHNbaV0pO1xuXHRcdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuY29udGVudC53b3Jkc1tpXS50cmFja3MubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHR0aGlzLmNvbnRlbnQud29yZHNbaV0udHJhY2tzW2pdID0gT2JqZWN0LmFzc2lnbihuZXcgQ29sb3JXb3JkVHJhY2soKSwgdGhpcy5jb250ZW50LndvcmRzW2ldLnRyYWNrc1tqXSk7XG5cdFx0XHRcdFx0Zm9yIChsZXQgayA9IDA7IGsgPCB0aGlzLmNvbnRlbnQud29yZHNbaV0udHJhY2tzW2pdLmdseXBocy5sZW5ndGg7IGsrKykge1xuXHRcdFx0XHRcdFx0dGhpcy5jb250ZW50LndvcmRzW2ldLnRyYWNrc1tqXS5nbHlwaHNba10gPSBPYmplY3QuYXNzaWduKG5ldyBDb2xvckdseXBoKCksIHRoaXMuY29udGVudC53b3Jkc1tpXS50cmFja3Nbal0uZ2x5cGhzW2tdKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjb25zb2xlLmxvZygnQ29sb3IgTGFuZyB0ZXh0IHdhcyBub3QgdmFsaWQnKTtcblx0XHR9XG5cdFx0dGhpcy5EaXNwbGF5KCk7XG5cdH1cblx0Z2V0IGNsYXNzTmFtZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLndyYXBwZXJEaXYuY2xhc3NOYW1lO1xuXHR9XG5cdHNldCBjbGFzc05hbWUobmV3VmFsdWU6IHN0cmluZykge1xuXHRcdHRoaXMud3JhcHBlckRpdi5jbGFzc05hbWUgPSBuZXdWYWx1ZTtcblx0fVxuXHRnZXQgY2xhc3NMaXN0KCk6IERPTVRva2VuTGlzdCB7XG5cdFx0cmV0dXJuIHRoaXMud3JhcHBlckRpdi5jbGFzc0xpc3Q7XG5cdH1cblx0Z2V0IGlzVmVydGljYWwoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMucmVhbElzVmVydGljYWw7XG5cdH1cblx0c2V0IGlzVmVydGljYWwobmV3VmFsdWU6IGJvb2xlYW4pIHtcblx0XHR0aGlzLnJlYWxJc1ZlcnRpY2FsID0gbmV3VmFsdWU7XG5cdFx0aWYgKG5ld1ZhbHVlKSB7XG5cdFx0XHR0aGlzLnN0eWxlLndyaXRpbmdNb2RlID0gJ3ZlcnRpY2FsLWxyJztcblx0XHRcdHRoaXMuc3R5bGUudGV4dE9yaWVudGF0aW9uID0gJ3VwcmlnaHQnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnN0eWxlLndyaXRpbmdNb2RlID0gJ2hvcml6b250YWwtdGInO1xuXHRcdFx0dGhpcy5zdHlsZS50ZXh0T3JpZW50YXRpb24gPSAndW5zZXQnO1xuXHRcdH1cblx0fVxuXG5cdGNvbnN0cnVjdG9yKGNsZWFuRGl2OiBIVE1MRGl2RWxlbWVudCwgZGl2OiBIVE1MRGl2RWxlbWVudCwgdmFsdWUgPSAnJywgZm9udFNpemUgPSAxMCwgaXNWZXJ0aWNhbCA9IGZhbHNlKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLmNsZWFuRGl2ID0gY2xlYW5EaXY7XG5cdFx0dGhpcy53cmFwcGVyRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xuXHRcdHRoaXMuY29udGVudCA9IG5ldyBDb2xvclBocmFzZSgpO1xuXHRcdHRoaXMuZm9udFNpemUgPSBmb250U2l6ZTtcblx0XHR0aGlzLnZhbHVlID0gdmFsdWU7XG5cdFx0dGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcblx0XHR0aGlzLndyYXBwZXJEaXYub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdGF3YWl0IHRoaXMub25jbGljaygpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgRGlzcGxheSgpIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29udGVudC53b3Jkcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3Qgd29yZCA9IHRoaXMuY29udGVudC53b3Jkc1tpXTtcblx0XHRcdGNvbnNvbGUubG9nKCdjJyArIHRoaXMuZm9udFNpemUpO1xuXHRcdFx0YXdhaXQgd29yZC5EaXNwbGF5T25jZSh0aGlzLndyYXBwZXJEaXYsIHRoaXMuZm9udFNpemUpO1xuXHRcdH1cblx0XHR0aGlzLndyYXBwZXJEaXYucmVtb3ZlKCk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0YXRpY0NvbG9yTGFuZ0VsZW1lbnQgZXh0ZW5kcyBDb25sYW5nRWxlbWVudCB7XG5cdGNsZWFuRGl2OiBIVE1MRGl2RWxlbWVudDtcblx0d3JhcHBlckRpdjogSFRNTERpdkVsZW1lbnQ7XG5cdGxpbmVEaXY6IEhUTUxEaXZFbGVtZW50O1xuXHRjb250ZW50OiBDb2xvclBocmFzZTtcblx0cmVhbElzVmVydGljYWw6IGJvb2xlYW47XG5cblx0Z2V0IHN0eWxlKCk6IENTU1N0eWxlRGVjbGFyYXRpb24ge1xuXHRcdHJldHVybiB0aGlzLndyYXBwZXJEaXYuc3R5bGU7XG5cdH1cblx0Z2V0IHZhbHVlKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuY29udGVudCk7XG5cdH1cblx0c2V0IHZhbHVlKG5ld1ZhbHVlOiBzdHJpbmcpIHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgcGxhaW5QaHJhc2UgPSBKU09OLnBhcnNlKG5ld1ZhbHVlKTtcblx0XHRcdHRoaXMuY29udGVudCA9IE9iamVjdC5hc3NpZ24obmV3IENvbG9yUGhyYXNlKCksIHBsYWluUGhyYXNlKTtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb250ZW50LndvcmRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHRoaXMuY29udGVudC53b3Jkc1tpXSA9IE9iamVjdC5hc3NpZ24obmV3IENvbG9yV29yZCgpLCB0aGlzLmNvbnRlbnQud29yZHNbaV0pO1xuXHRcdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuY29udGVudC53b3Jkc1tpXS50cmFja3MubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHR0aGlzLmNvbnRlbnQud29yZHNbaV0udHJhY2tzW2pdID0gT2JqZWN0LmFzc2lnbihuZXcgQ29sb3JXb3JkVHJhY2soKSwgdGhpcy5jb250ZW50LndvcmRzW2ldLnRyYWNrc1tqXSk7XG5cdFx0XHRcdFx0Zm9yIChsZXQgayA9IDA7IGsgPCB0aGlzLmNvbnRlbnQud29yZHNbaV0udHJhY2tzW2pdLmdseXBocy5sZW5ndGg7IGsrKykge1xuXHRcdFx0XHRcdFx0dGhpcy5jb250ZW50LndvcmRzW2ldLnRyYWNrc1tqXS5nbHlwaHNba10gPSBPYmplY3QuYXNzaWduKG5ldyBDb2xvckdseXBoKCksIHRoaXMuY29udGVudC53b3Jkc1tpXS50cmFja3Nbal0uZ2x5cGhzW2tdKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjb25zb2xlLmxvZygnQ29sb3IgTGFuZyB0ZXh0IHdhcyBub3QgdmFsaWQnKTtcblx0XHR9XG5cdFx0dGhpcy5EaXNwbGF5KCk7XG5cdH1cblx0Z2V0IGNsYXNzTmFtZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLndyYXBwZXJEaXYuY2xhc3NOYW1lO1xuXHR9XG5cdHNldCBjbGFzc05hbWUobmV3VmFsdWU6IHN0cmluZykge1xuXHRcdHRoaXMud3JhcHBlckRpdi5jbGFzc05hbWUgPSBuZXdWYWx1ZTtcblx0fVxuXHRnZXQgY2xhc3NMaXN0KCk6IERPTVRva2VuTGlzdCB7XG5cdFx0cmV0dXJuIHRoaXMud3JhcHBlckRpdi5jbGFzc0xpc3Q7XG5cdH1cblx0Z2V0IGlzVmVydGljYWwoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMucmVhbElzVmVydGljYWw7XG5cdH1cblx0c2V0IGlzVmVydGljYWwobmV3VmFsdWU6IGJvb2xlYW4pIHtcblx0XHR0aGlzLnJlYWxJc1ZlcnRpY2FsID0gbmV3VmFsdWU7XG5cdFx0aWYgKG5ld1ZhbHVlKSB7XG5cdFx0XHR0aGlzLnN0eWxlLndyaXRpbmdNb2RlID0gJ3ZlcnRpY2FsLWxyJztcblx0XHRcdHRoaXMuc3R5bGUudGV4dE9yaWVudGF0aW9uID0gJ3VwcmlnaHQnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnN0eWxlLndyaXRpbmdNb2RlID0gJ2hvcml6b250YWwtdGInO1xuXHRcdFx0dGhpcy5zdHlsZS50ZXh0T3JpZW50YXRpb24gPSAndW5zZXQnO1xuXHRcdH1cblx0fVxuXG5cdGNvbnN0cnVjdG9yKGNsZWFuRGl2OiBIVE1MRGl2RWxlbWVudCwgZGl2OiBIVE1MRGl2RWxlbWVudCwgdmFsdWUgPSAnJywgZm9udFNpemUgPSAxMCwgaXNWZXJ0aWNhbCA9IGZhbHNlKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLmNsZWFuRGl2ID0gY2xlYW5EaXY7XG5cdFx0dGhpcy53cmFwcGVyRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xuXHRcdHRoaXMubGluZURpdiA9IHRoaXMud3JhcHBlckRpdi5jcmVhdGVEaXYoKTtcblx0XHR0aGlzLmNvbnRlbnQgPSBuZXcgQ29sb3JQaHJhc2UoKTtcblx0XHR0aGlzLmZvbnRTaXplID0gZm9udFNpemU7XG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlO1xuXHRcdHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XG5cdFx0dGhpcy53cmFwcGVyRGl2Lm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRhd2FpdCB0aGlzLm9uY2xpY2soKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIERpc3BsYXkoKSB7XG5cdFx0dGhpcy5saW5lRGl2LnJlbW92ZSgpO1xuXHRcdHRoaXMubGluZURpdiA9IHRoaXMud3JhcHBlckRpdi5jcmVhdGVEaXYoKTtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb250ZW50LndvcmRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCB3b3JkID0gdGhpcy5jb250ZW50LndvcmRzW2ldO1xuXHRcdFx0d29yZC5EaXNwbGF5TG9vcCh0aGlzLmxpbmVEaXYsIHRoaXMuZm9udFNpemUpO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgY2xhc3MgQ29sb3JMYW5nRWRpdG9yIGV4dGVuZHMgQ29ubGFuZ09uZUxpbmVFZGl0b3Ige1xuXHRjbGVhbkRpdjogSFRNTERpdkVsZW1lbnQ7XG5cdHdyYXBwZXJEaXY6IEhUTUxEaXZFbGVtZW50O1xuXHRsaW5lRGl2OiBIVE1MRGl2RWxlbWVudDtcblx0Y29udGVudDogQ29sb3JQaHJhc2U7XG5cdHJlYWxJc1ZlcnRpY2FsOiBib29sZWFuO1xuXG5cdGdldCBzdHlsZSgpOiBDU1NTdHlsZURlY2xhcmF0aW9uIHtcblx0XHRyZXR1cm4gdGhpcy53cmFwcGVyRGl2LnN0eWxlO1xuXHR9XG5cdGdldCB2YWx1ZSgpOiBzdHJpbmcge1xuXHRcdGlmICh0aGlzLmNvbnRlbnQud29yZHMubGVuZ3RoID4gMCkge1xuXHRcdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuY29udGVudCk7XG5cdFx0fVxuXHRcdHJldHVybiAnJztcblx0fVxuXHRzZXQgdmFsdWUobmV3VmFsdWU6IHN0cmluZykge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBwbGFpblBocmFzZSA9IEpTT04ucGFyc2UobmV3VmFsdWUpO1xuXHRcdFx0dGhpcy5jb250ZW50ID0gT2JqZWN0LmFzc2lnbihuZXcgQ29sb3JQaHJhc2UoKSwgcGxhaW5QaHJhc2UpO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbnRlbnQud29yZHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dGhpcy5jb250ZW50LndvcmRzW2ldID0gT2JqZWN0LmFzc2lnbihuZXcgQ29sb3JXb3JkKCksIHRoaXMuY29udGVudC53b3Jkc1tpXSk7XG5cdFx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5jb250ZW50LndvcmRzW2ldLnRyYWNrcy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdHRoaXMuY29udGVudC53b3Jkc1tpXS50cmFja3Nbal0gPSBPYmplY3QuYXNzaWduKG5ldyBDb2xvcldvcmRUcmFjaygpLCB0aGlzLmNvbnRlbnQud29yZHNbaV0udHJhY2tzW2pdKTtcblx0XHRcdFx0XHRmb3IgKGxldCBrID0gMDsgayA8IHRoaXMuY29udGVudC53b3Jkc1tpXS50cmFja3Nbal0uZ2x5cGhzLmxlbmd0aDsgaysrKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmNvbnRlbnQud29yZHNbaV0udHJhY2tzW2pdLmdseXBoc1trXSA9IE9iamVjdC5hc3NpZ24obmV3IENvbG9yR2x5cGgoKSwgdGhpcy5jb250ZW50LndvcmRzW2ldLnRyYWNrc1tqXS5nbHlwaHNba10pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNvbnNvbGUubG9nKCdDb2xvciBMYW5nIHRleHQgd2FzIG5vdCB2YWxpZCcpO1xuXHRcdH1cblx0XHR0aGlzLm9uY2hhbmdlKCk7XG5cdFx0dGhpcy5EaXNwbGF5KCk7XG5cdH1cblx0Z2V0IGNsYXNzTmFtZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLndyYXBwZXJEaXYuY2xhc3NOYW1lO1xuXHR9XG5cdHNldCBjbGFzc05hbWUobmV3VmFsdWU6IHN0cmluZykge1xuXHRcdHRoaXMud3JhcHBlckRpdi5jbGFzc05hbWUgPSBuZXdWYWx1ZTtcblx0fVxuXHRnZXQgY2xhc3NMaXN0KCk6IERPTVRva2VuTGlzdCB7XG5cdFx0cmV0dXJuIHRoaXMud3JhcHBlckRpdi5jbGFzc0xpc3Q7XG5cdH1cblx0Z2V0IGlzVmVydGljYWwoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMucmVhbElzVmVydGljYWw7XG5cdH1cblx0c2V0IGlzVmVydGljYWwobmV3VmFsdWU6IGJvb2xlYW4pIHtcblx0XHR0aGlzLnJlYWxJc1ZlcnRpY2FsID0gbmV3VmFsdWU7XG5cdFx0aWYgKG5ld1ZhbHVlKSB7XG5cdFx0XHR0aGlzLnN0eWxlLndyaXRpbmdNb2RlID0gJ3ZlcnRpY2FsLWxyJztcblx0XHRcdHRoaXMuc3R5bGUudGV4dE9yaWVudGF0aW9uID0gJ3VwcmlnaHQnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnN0eWxlLndyaXRpbmdNb2RlID0gJ2hvcml6b250YWwtdGInO1xuXHRcdFx0dGhpcy5zdHlsZS50ZXh0T3JpZW50YXRpb24gPSAndW5zZXQnO1xuXHRcdH1cblx0fVxuXG5cdGNvbnN0cnVjdG9yKGNsZWFuRGl2OiBIVE1MRGl2RWxlbWVudCwgZGl2OiBIVE1MRGl2RWxlbWVudCwgdmFsdWUgPSAnJywgZm9udFNpemUgPSAxMCwgaXNWZXJ0aWNhbCA9IGZhbHNlKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLmNsZWFuRGl2ID0gY2xlYW5EaXY7XG5cdFx0dGhpcy53cmFwcGVyRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xuXHRcdHRoaXMubGluZURpdiA9IHRoaXMud3JhcHBlckRpdi5jcmVhdGVEaXYoKTtcblx0XHR0aGlzLmNvbnRlbnQgPSBuZXcgQ29sb3JQaHJhc2UoKTtcblx0XHR0aGlzLmZvbnRTaXplID0gZm9udFNpemU7XG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlO1xuXHRcdHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XG5cdFx0dGhpcy53cmFwcGVyRGl2Lm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRhd2FpdCB0aGlzLm9uY2xpY2soKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIERpc3BsYXkoKSB7XG5cdFx0dGhpcy53cmFwcGVyRGl2LmVtcHR5KCk7XG5cdFx0dGhpcy5saW5lRGl2ID0gdGhpcy53cmFwcGVyRGl2LmNyZWF0ZURpdih0aGlzLmlzVmVydGljYWwgPyAndmJveCcgOiAnaGJveCcpO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbnRlbnQud29yZHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGluZGV4ID0gaTtcblx0XHRcdGNvbnN0IHdvcmRDYXJkID0gdGhpcy5saW5lRGl2LmNyZWF0ZURpdih0aGlzLmlzVmVydGljYWwgPyAnaGJveCcgOiAndmJveCcpO1xuXHRcdFx0Y29uc3QgZGVsZXRlQnV0dG9uID0gd29yZENhcmQuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJy0nIH0gKTtcblx0XHRcdGRlbGV0ZUJ1dHRvbi5jbGFzc05hbWUgPSAnY2ZlLXJlbW92ZS1idXR0b24nO1xuXG5cdFx0XHRjb25zdCB3b3JkRGl2ID0gd29yZENhcmQuY3JlYXRlRGl2KCk7XG5cdFx0XHR3b3JkRGl2LmNsYXNzTGlzdC5hZGQoJ2NmZS1wb2ludGVyLWhvdmVyJyk7XG5cdFx0XHRjb25zdCB3b3JkID0gdGhpcy5jb250ZW50LndvcmRzW2ldO1xuXHRcdFx0d29yZC5EaXNwbGF5TG9vcCh3b3JkRGl2LCB0aGlzLmZvbnRTaXplKTtcblx0XHRcdHdvcmREaXYub25jbGljayA9ICgpID0+IHtcblx0XHRcdFx0d29yZC5EaXNwbGF5RWRpdG9yKHRoaXMuY2xlYW5EaXYuY3JlYXRlRGl2KCkpO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBmdWxsV29yZElucHV0ID0gd29yZENhcmQuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiBKU09OLnN0cmluZ2lmeSh3b3JkKSB9ICk7XG5cdFx0XHRmdWxsV29yZElucHV0Lm9uY2hhbmdlID0gKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBwbGFpbldvcmQgPSBKU09OLnBhcnNlKGZ1bGxXb3JkSW5wdXQudmFsdWUpO1xuXHRcdFx0XHR0aGlzLmNvbnRlbnQud29yZHNbaW5kZXhdID0gT2JqZWN0LmFzc2lnbihuZXcgQ29sb3JXb3JkKCksIHBsYWluV29yZCk7XG5cdFx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5jb250ZW50LndvcmRzW2luZGV4XS50cmFja3MubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHR0aGlzLmNvbnRlbnQud29yZHNbaW5kZXhdLnRyYWNrc1tqXSA9IE9iamVjdC5hc3NpZ24obmV3IENvbG9yV29yZFRyYWNrKCksIHRoaXMuY29udGVudC53b3Jkc1tpbmRleF0udHJhY2tzW2pdKTtcblx0XHRcdFx0XHRmb3IgKGxldCBrID0gMDsgayA8IHRoaXMuY29udGVudC53b3Jkc1tpbmRleF0udHJhY2tzW2pdLmdseXBocy5sZW5ndGg7IGsrKykge1xuXHRcdFx0XHRcdFx0dGhpcy5jb250ZW50LndvcmRzW2luZGV4XS50cmFja3Nbal0uZ2x5cGhzW2tdID0gT2JqZWN0LmFzc2lnbihuZXcgQ29sb3JHbHlwaCgpLCB0aGlzLmNvbnRlbnQud29yZHNbaW5kZXhdLnRyYWNrc1tqXS5nbHlwaHNba10pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0dGhpcy5pc1ZlcnRpY2FsID8gZnVsbFdvcmRJbnB1dC5zdHlsZS5oZWlnaHQgOiBmdWxsV29yZElucHV0LnN0eWxlLndpZHRoID0gKHRoaXMuZm9udFNpemUgKiAzLjI1KSArICdweCc7XG5cblx0XHRcdHRoaXMuaXNWZXJ0aWNhbCA/IGRlbGV0ZUJ1dHRvbi5zdHlsZS5oZWlnaHQgOiBkZWxldGVCdXR0b24uc3R5bGUud2lkdGggPSAodGhpcy5mb250U2l6ZSAqIDMuMjUpICsgJ3B4Jztcblx0XHRcdGRlbGV0ZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0XHR0aGlzLmNvbnRlbnQud29yZHMuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0dGhpcy52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuY29udGVudCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgYWRkQnV0dG9uID0gdGhpcy5saW5lRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICcrJyB9ICk7XG5cblx0XHRjb25zdCBmdWxsSW5wdXQgPSB0aGlzLmxpbmVEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLnZhbHVlIH0gKTtcblx0XHR0aGlzLmlzVmVydGljYWwgPyBmdWxsSW5wdXQuc3R5bGUuaGVpZ2h0IDogZnVsbElucHV0LnN0eWxlLndpZHRoID0gKHRoaXMuZm9udFNpemUgKiAzLjI1KSArICdweCc7XG5cblx0XHRjb25zdCBzYXZlQnV0dG9uID0gdGhpcy5saW5lRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdzYXZlJyB9ICk7XG5cblx0XHRhZGRCdXR0b24ub25jbGljayA9ICgpID0+IHtcblx0XHRcdHRoaXMuY29udGVudC53b3Jkcy5wdXNoKG5ldyBDb2xvcldvcmQoKSk7XG5cdFx0XHR0aGlzLkRpc3BsYXkoKTtcblx0XHR9XG5cdFx0ZnVsbElucHV0Lm9uY2hhbmdlID0gKCkgPT4ge1xuXHRcdFx0dGhpcy52YWx1ZSA9IGZ1bGxJbnB1dC52YWx1ZTtcblx0XHR9XG5cdFx0c2F2ZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0dGhpcy52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuY29udGVudCk7XG5cdFx0fVxuXHR9XG59XG5cbmNsYXNzIENvbG9yUGhyYXNlIHtcblx0d29yZHM6IENvbG9yV29yZFtdO1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMud29yZHMgPSBbXTtcblx0fVxuXG5cdGFzeW5jIERpc3BsYXlPbmNlKGRpdjogSFRNTERpdkVsZW1lbnQsIGZvbnRTaXplID0gMTcuNSkge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy53b3Jkcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0YXdhaXQgdGhpcy53b3Jkc1tpXS5EaXNwbGF5T25jZShkaXYsIGZvbnRTaXplKTtcblx0XHR9XG5cdH1cblxuXHRhc3luYyBEaXNwbGF5TG9vcChkaXY6IEhUTUxEaXZFbGVtZW50LCBmb250U2l6ZSA9IDE3LjUpIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMud29yZHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy53b3Jkcy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRhd2FpdCB0aGlzLndvcmRzW2pdLkRpc3BsYXlPbmNlKGRpdiwgZm9udFNpemUpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGkgPT09IHRoaXMud29yZHMubGVuZ3RoIC0gMSkge1xuXHRcdFx0XHRpID0gLTE7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbmNsYXNzIENvbG9yV29yZCB7XG5cdHRyYWNrczogQ29sb3JXb3JkVHJhY2tbXTtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLnRyYWNrcyA9IFtdO1xuXHRcdHRoaXMudHJhY2tzLnB1c2gobmV3IENvbG9yV29yZFRyYWNrKCkpO1xuXHR9XG5cblx0Z2V0IGR1cmF0aW9uKCkge1xuXHRcdGxldCBtYXggPSAwO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50cmFja3MubGVuZ3RoOyBpKyspIHtcblx0XHRcdGxldCBtcyA9IDA7XG5cdFx0XHRtcyArPSB0aGlzLnRyYWNrc1tpXS5kdXJhdGlvbjtcblx0XHRcdGlmIChtcyA+IG1heCkge1xuXHRcdFx0XHRtYXggPSBtcztcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG1heDtcblx0fVxuXG5cdGFzeW5jIERpc3BsYXlPbmNlKGRpdjogSFRNTERpdkVsZW1lbnQsIGZvbnRTaXplID0gMTcuNSkge1xuXHRcdGNvbnN0IHdvcmREaXYgPSBkaXYuY3JlYXRlRGl2KCk7XG5cdFx0d29yZERpdi5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG5cdFx0d29yZERpdi5zdHlsZS53aWR0aCA9IChmb250U2l6ZSAqIDMuMjUpICsgJ3B4Jztcblx0XHR3b3JkRGl2LnN0eWxlLmhlaWdodCA9IChmb250U2l6ZSAqIDMuMjUpICsgJ3B4JztcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50cmFja3MubGVuZ3RoOyBpKyspIHtcblx0XHRcdHRoaXMudHJhY2tzW2ldLkRpc3BsYXlPbmNlKHdvcmREaXYsIGZvbnRTaXplKTtcblx0XHR9XG5cdFx0YXdhaXQgc2xlZXAodGhpcy5kdXJhdGlvbik7XG5cblx0XHR3b3JkRGl2LnJlbW92ZSgpO1xuXHR9XG5cblx0YXN5bmMgRGlzcGxheVN0YXRpYyhkaXY6IEhUTUxEaXZFbGVtZW50LCBmb250U2l6ZSA9IDE3LjUpIHtcblx0XHRkaXYuZW1wdHkoKTtcblx0XHRjb25zdCB3b3JkRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xuXHRcdHdvcmREaXYuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuXHRcdHdvcmREaXYuc3R5bGUud2lkdGggPSAoZm9udFNpemUgKiAzLjI1KSArICdweCc7XG5cdFx0d29yZERpdi5zdHlsZS5oZWlnaHQgPSAoZm9udFNpemUgKiAzLjI1KSArICdweCc7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudHJhY2tzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCB0cmFjayA9IHRoaXMudHJhY2tzW2ldO1xuXHRcdFx0dHJhY2suRGlzcGxheVN0YXRpYyh3b3JkRGl2LCBmb250U2l6ZSk7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgRGlzcGxheUxvb3AoZGl2OiBIVE1MRGl2RWxlbWVudCwgZm9udFNpemUgPSAxNy41KSB7XG5cdFx0ZGl2LmVtcHR5KCk7XG5cdFx0Y29uc3Qgd29yZERpdiA9IGRpdi5jcmVhdGVEaXYoKTtcblx0XHR3b3JkRGl2LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcblx0XHR3b3JkRGl2LnN0eWxlLndpZHRoID0gKGZvbnRTaXplICogMy4yNSkgKyAncHgnO1xuXHRcdHdvcmREaXYuc3R5bGUuaGVpZ2h0ID0gKGZvbnRTaXplICogMy4yNSkgKyAncHgnO1xuXG5cdFx0bGV0IGRvTG9vcCA9IHRydWU7XG5cdFx0ZG9Mb29wID0gdHJ1ZTtcblx0XHR3aGlsZSAoZG9Mb29wKSB7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudHJhY2tzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGNvbnN0IHRyYWNrID0gdGhpcy50cmFja3NbaV07XG5cdFx0XHRcdHRyYWNrLkRpc3BsYXlPbmNlKHdvcmREaXYsIGZvbnRTaXplKTtcblx0XHRcdH1cblx0XHRcdGF3YWl0IHNsZWVwKHRoaXMuZHVyYXRpb24pO1xuXHRcdH1cblx0fVxuXG5cdERpc3BsYXlFZGl0b3IoZGl2OiBIVE1MRGl2RWxlbWVudCkge1xuXHRcdGRpdi5lbXB0eSgpO1xuXHRcdGNvbnN0IHBvcHVwID0gZGl2LmNyZWF0ZURpdignY2ZlLXBvcHVwJyk7XG5cdFx0XG5cdFx0Y29uc3QgZXhpdEJ1dHRvbkRpdiA9IHBvcHVwLmNyZWF0ZURpdigpO1xuXHRcdGV4aXRCdXR0b25EaXYuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuXG5cdFx0Y29uc3QgZXhpdEJ1dHRvbiA9IGV4aXRCdXR0b25EaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1gnIH0gKTtcblx0XHRleGl0QnV0dG9uLmNsYXNzTmFtZSA9ICdjZmUtcmVtb3ZlLWJ1dHRvbic7XG5cdFx0ZXhpdEJ1dHRvbi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG5cdFx0ZXhpdEJ1dHRvbi5zdHlsZS50b3AgPSAnMCUnO1xuXHRcdGV4aXRCdXR0b24uc3R5bGUucmlnaHQgPSAnMCUnO1xuXHRcdGV4aXRCdXR0b24ub25jbGljayA9ICgpID0+IHtcblx0XHRcdGRpdi5yZW1vdmUoKTtcblx0XHR9XG5cblx0XHRjb25zdCBoYWx2ZXMgPSBwb3B1cC5jcmVhdGVEaXYoJ2hib3gnKTtcblx0XHRoYWx2ZXMuc3R5bGUud2lkdGggPSAnMTAwJSc7XG5cdFx0aGFsdmVzLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcblx0XHRjb25zdCBsZWZ0U2lkZSA9IGhhbHZlcy5jcmVhdGVEaXYoJ3Zib3gnKTtcblx0XHRsZWZ0U2lkZS5zdHlsZS53aWR0aCA9ICc0MCUnO1xuXHRcdGNvbnN0IGdseXBoc0RpdiA9IGhhbHZlcy5jcmVhdGVEaXYoJ3Zib3gnKTtcblx0XHRnbHlwaHNEaXYuc3R5bGUud2lkdGggPSAnNjAlJztcblxuXHRcdGNvbnN0IHNwZWFrRGl2ID0gbGVmdFNpZGUuY3JlYXRlRGl2KCk7XG5cdFx0c3BlYWtEaXYuc3R5bGUuaGVpZ2h0ID0gJzUwJSc7XG5cdFx0dGhpcy5EaXNwbGF5TG9vcChzcGVha0RpdiwgMTAwKTtcblxuXHRcdGNvbnN0IHRyYWNrc0RpdiA9IGxlZnRTaWRlLmNyZWF0ZURpdigpO1xuXHRcdHRyYWNrc0Rpdi5zdHlsZS5oZWlnaHQgPSAnNTAlJztcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudHJhY2tzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBpbmRleCA9IGk7XG5cdFx0XHRjb25zdCB0cmFja0RpdiA9IHRyYWNrc0Rpdi5jcmVhdGVEaXYoJ2hib3gnKTtcblx0XHRcdHRyYWNrRGl2LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXHRcdFx0dHJhY2tEaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnc29saWQnO1xuXHRcdFx0dHJhY2tEaXYuc3R5bGUuYm9yZGVyQ29sb3IgPSAnI0ZGRkZGRic7XG5cdFx0XHRjb25zdCB0cmFja051bWJlciA9IHRyYWNrRGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICd0cmFjayAnICsgaSB9ICk7XG5cdFx0XHR0cmFja051bWJlci5zdHlsZS53aWR0aCA9ICcxMDAlJztcblx0XHRcdHRyYWNrTnVtYmVyLmNsYXNzTmFtZSA9ICdjZmUtcG9pbnRlci1ob3Zlcic7XG5cdFx0XHRjb25zdCBkZWxldGVCdXR0b24gPSB0cmFja0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnLScgfSApO1xuXHRcdFx0ZGVsZXRlQnV0dG9uLmNsYXNzTmFtZSA9ICdjZmUtcmVtb3ZlLWJ1dHRvbic7XG5cdFx0XHR0cmFja051bWJlci5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0XHR0aGlzLnRyYWNrc1tpbmRleF0uRGlzcGxheUVkaXRvcihnbHlwaHNEaXYpO1xuXHRcdFx0fVxuXHRcdFx0ZGVsZXRlQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHRcdHRoaXMudHJhY2tzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHRcdHRyYWNrRGl2LnJlbW92ZSgpO1xuXHRcdFx0XHR0aGlzLkRpc3BsYXlFZGl0b3IoZGl2KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBhZGRCdXR0b24gPSB0cmFja3NEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJysnIH0gKTtcblx0XHRhZGRCdXR0b24ub25jbGljayA9ICgpID0+IHtcblx0XHRcdHRoaXMudHJhY2tzLnB1c2gobmV3IENvbG9yV29yZFRyYWNrKCkpO1xuXHRcdFx0dGhpcy5EaXNwbGF5RWRpdG9yKGRpdik7XG5cdFx0fVxuXHR9XG59XG5cbmNsYXNzIENvbG9yV29yZFRyYWNrIHtcblx0Z2x5cGhzOiBDb2xvckdseXBoW107XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5nbHlwaHMgPSBbXTtcblx0XHR0aGlzLmdseXBocy5wdXNoKG5ldyBDb2xvckdseXBoKCkpO1xuXHR9XG5cdGdldCBkdXJhdGlvbigpIHtcblx0XHRsZXQgbXMgPSAwO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5nbHlwaHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdG1zICs9IHRoaXMuZ2x5cGhzW2ldLnRyYW5zaXRpb25UaW1lO1xuXHRcdFx0bXMgKz0gdGhpcy5nbHlwaHNbaV0uZHVyYXRpb247XG5cdFx0fVxuXHRcdHJldHVybiBtcztcblx0fVxuXG5cdERpc3BsYXlTdGF0aWMoZGl2OiBIVE1MRGl2RWxlbWVudCwgZm9udFNpemUgPSAxNy41KSB7XG5cdFx0aWYgKHRoaXMuZ2x5cGhzLmxlbmd0aCA8IDEpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y29uc3QgdHJhY2tEaXYgPSBkaXYuY3JlYXRlRGl2KCk7XG5cdFx0dHJhY2tEaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXG5cdFx0dHJhY2tEaXYuc3R5bGUuZm9udEZhbWlseSA9ICdDb2xvckxhbmcnO1xuXHRcdHRyYWNrRGl2LnN0eWxlLmZvbnRTaXplID0gZm9udFNpemUgKyAncHgnO1xuXHRcdHRyYWNrRGl2LnN0eWxlLnRyYW5zaXRpb25Qcm9wZXJ0eSA9ICdhbGwnO1xuXG5cdFx0dGhpcy5nbHlwaHNbMF0uRGlzcGxheVN0YXRpYyh0cmFja0RpdiwgZm9udFNpemUpO1xuXHR9XG5cblx0YXN5bmMgRGlzcGxheU9uY2UoZGl2OiBIVE1MRGl2RWxlbWVudCwgZm9udFNpemUgPSAxNy41KSB7XG5cdFx0Y29uc3QgdHJhY2tEaXYgPSBkaXYuY3JlYXRlRGl2KCk7XG5cdFx0dHJhY2tEaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXG5cdFx0dHJhY2tEaXYuc3R5bGUuZm9udEZhbWlseSA9ICdDb2xvckxhbmcnO1xuXHRcdHRyYWNrRGl2LnN0eWxlLmZvbnRTaXplID0gZm9udFNpemUgKyAncHgnO1xuXHRcdHRyYWNrRGl2LnN0eWxlLnRyYW5zaXRpb25Qcm9wZXJ0eSA9ICdhbGwnO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmdseXBocy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgZ2x5cGggPSB0aGlzLmdseXBoc1tpXTtcblx0XHRcdGF3YWl0IGdseXBoLkRpc3BsYXkodHJhY2tEaXYsIGZvbnRTaXplKTtcblx0XHR9XG5cblx0XHR0cmFja0Rpdi5yZW1vdmUoKTtcblx0fVxuXG5cdGFzeW5jIERpc3BsYXlMb29wKGRpdjogSFRNTERpdkVsZW1lbnQsIGZvbnRTaXplID0gMTcuNSkge1xuXHRcdGNvbnN0IHRyYWNrRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xuXHRcdHRyYWNrRGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcblxuXHRcdHRyYWNrRGl2LnN0eWxlLmZvbnRGYW1pbHkgPSAnQ29sb3JMYW5nJztcblx0XHR0cmFja0Rpdi5zdHlsZS5mb250U2l6ZSA9IGZvbnRTaXplICsgJ3B4Jztcblx0XHR0cmFja0Rpdi5zdHlsZS50cmFuc2l0aW9uUHJvcGVydHkgPSAnYWxsJztcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5nbHlwaHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGdseXBoID0gdGhpcy5nbHlwaHNbaV07XG5cblx0XHRcdGF3YWl0IGdseXBoLkRpc3BsYXkodHJhY2tEaXYsIGZvbnRTaXplKTtcblxuXHRcdFx0aWYgKGkgPT09IHRoaXMuZ2x5cGhzLmxlbmd0aCAtIDEpIHtcblx0XHRcdFx0aSA9IC0xO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRyYWNrRGl2LnJlbW92ZSgpO1xuXHR9XG5cblx0RGlzcGxheUVkaXRvcihnbHlwaHNEaXY6IEhUTUxEaXZFbGVtZW50KSB7XG5cdFx0Z2x5cGhzRGl2LmVtcHR5KCk7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmdseXBocy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgaW5kZXggPSBpO1xuXHRcdFx0Y29uc3QgZ2x5cGhEaXYgPSBnbHlwaHNEaXYuY3JlYXRlRGl2KCdoYm94Jyk7XG5cdFx0XHRnbHlwaERpdi5zdHlsZS53aWR0aCA9ICcxMDAlJztcblx0XHRcdHRoaXMuZ2x5cGhzW2ldLkRpc3BsYXlFZGl0b3IoZ2x5cGhEaXYpO1xuXHRcdFx0Y29uc3QgZGVsZXRlQnV0dG9uID0gZ2x5cGhEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJy0nIH0gKTtcblx0XHRcdGRlbGV0ZUJ1dHRvbi5jbGFzc05hbWUgPSAnY2ZlLXJlbW92ZS1idXR0b24nO1xuXHRcdFx0ZGVsZXRlQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHRcdGdseXBoRGl2LnJlbW92ZSgpO1xuXHRcdFx0XHR0aGlzLmdseXBocy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFx0XHR0aGlzLkRpc3BsYXlFZGl0b3IoZ2x5cGhzRGl2KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Y29uc3QgYWRkQnV0dG9uID0gZ2x5cGhzRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICcrJyB9ICk7XG5cdFx0YWRkQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHR0aGlzLmdseXBocy5wdXNoKG5ldyBDb2xvckdseXBoKCkpO1xuXHRcdFx0dGhpcy5EaXNwbGF5RWRpdG9yKGdseXBoc0Rpdik7XG5cdFx0fVxuXHR9XG59XG5cbmNsYXNzIENvbG9yR2x5cGgge1xuXHRzaGFwZTogc3RyaW5nO1xuXHRjb2xvcjogc3RyaW5nO1xuXHRvcGFjaXR5OiBudW1iZXI7XG5cdHRyYW5zaXRpb25UaW1lOiBudW1iZXI7XG5cdGR1cmF0aW9uOiBudW1iZXI7XG5cdHNpemU6IG51bWJlcjtcblx0eDogbnVtYmVyO1xuXHR5OiBudW1iZXI7XG5cdHo6IG51bWJlcjtcblx0cjogbnVtYmVyO1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMuc2hhcGUgPSAnbyc7XG5cdFx0dGhpcy5jb2xvciA9ICcjRkZGRkZGJztcblx0XHR0aGlzLm9wYWNpdHkgPSAxMDA7XG5cdFx0dGhpcy50cmFuc2l0aW9uVGltZSA9IDEwMDtcblx0XHR0aGlzLmR1cmF0aW9uID0gNTAwO1xuXHRcdHRoaXMuc2l6ZSA9IDEwMDtcblx0XHR0aGlzLnggPSAwO1xuXHRcdHRoaXMueSA9IDA7XG5cdFx0dGhpcy56ID0gMDtcblx0XHR0aGlzLnIgPSAwO1xuXHR9XG5cdFxuXHQvLyBGdWxsIGRpc2Nsb3N1cmUsIENoYXRHUFQgd3JvdGUgdGhpcyBvbmVcblx0cHJpdmF0ZSBoZXhUb1JHQkEoaGV4OiBzdHJpbmcsIG9wYWNpdHk6IG51bWJlcik6IHN0cmluZyB7XG5cdFx0Ly8gUmVtb3ZlICcjJyBpZiBwcmVzZW50XG5cdFx0aGV4ID0gaGV4LnJlcGxhY2UoJyMnLCAnJyk7XG5cblx0XHQvLyBQYXJzZSBoZXggY29tcG9uZW50c1xuXHRcdGNvbnN0IHIgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDAsIDIpLCAxNik7XG5cdFx0Y29uc3QgZyA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoMiwgNCksIDE2KTtcblx0XHRjb25zdCBiID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZyg0LCA2KSwgMTYpO1xuXG5cdFx0Ly8gQ29udmVydCBvcGFjaXR5IHBlcmNlbnRhZ2UgdG8gYSBmbG9hdCBiZXR3ZWVuIDAgYW5kIDFcblx0XHRjb25zdCBhbHBoYSA9IG9wYWNpdHkgLyAxMDA7XG5cblx0XHQvLyBDb25zdHJ1Y3QgUkdCQSBzdHJpbmdcblx0XHRyZXR1cm4gYHJnYmEoJHtyfSwgJHtnfSwgJHtifSwgJHthbHBoYX0pYDtcblx0fVxuXG5cdERpc3BsYXlTdGF0aWMoZGl2OiBIVE1MRGl2RWxlbWVudCwgZm9udFNpemU6IG51bWJlcikge1xuXHRcdGRpdi50ZXh0Q29udGVudCA9IHRoaXMuc2hhcGU7XG5cdFx0ZGl2LnN0eWxlLmNvbG9yID0gdGhpcy5oZXhUb1JHQkEodGhpcy5jb2xvciwgdGhpcy5vcGFjaXR5KTtcblx0XHRkaXYuc3R5bGUuZm9udFNpemUgPSAoZm9udFNpemUgKiB0aGlzLnNpemUgLyAxMDApICsgJ3B4Jztcblx0XHRkaXYuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgtNTAlLCA1MCUpIHJvdGF0ZSgnICsgdGhpcy5yICsgJ2RlZyknO1xuXHRcdGRpdi5zdHlsZS5sZWZ0ID0gKHRoaXMueCArIDUwKSArICclJztcblx0XHRkaXYuc3R5bGUuYm90dG9tID0gKHRoaXMueSArIDUwKSArICclJztcblx0XHRkaXYuc3R5bGUuekluZGV4ID0gdGhpcy56ICsgJyc7XG5cdH1cblxuXHRhc3luYyBEaXNwbGF5KGRpdjogSFRNTERpdkVsZW1lbnQsIGZvbnRTaXplOiBudW1iZXIpIHtcblx0XHRkaXYudGV4dENvbnRlbnQgPSB0aGlzLnNoYXBlO1xuXHRcdGRpdi5zdHlsZS5jb2xvciA9IHRoaXMuaGV4VG9SR0JBKHRoaXMuY29sb3IsIHRoaXMub3BhY2l0eSk7XG5cdFx0ZGl2LnN0eWxlLmZvbnRTaXplID0gKGZvbnRTaXplICogdGhpcy5zaXplIC8gMTAwKSArICdweCc7XG5cdFx0ZGl2LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoLTUwJSwgNTAlKSByb3RhdGUoJyArIHRoaXMuciArICdkZWcpJztcblx0XHRkaXYuc3R5bGUubGVmdCA9ICh0aGlzLnggKyA1MCkgKyAnJSc7XG5cdFx0ZGl2LnN0eWxlLmJvdHRvbSA9ICh0aGlzLnkgKyA1MCkgKyAnJSc7XG5cdFx0ZGl2LnN0eWxlLnpJbmRleCA9IHRoaXMueiArICcnO1xuXHRcdGRpdi5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSB0aGlzLnRyYW5zaXRpb25UaW1lICsgJ21zJztcblx0XHRhd2FpdCBzbGVlcCh0aGlzLmR1cmF0aW9uICsgdGhpcy50cmFuc2l0aW9uVGltZSk7XG5cdH1cblxuXHREaXNwbGF5RWRpdG9yKGRpdjogSFRNTERpdkVsZW1lbnQpIHtcblx0XHRjb25zdCBzaGFwZUlucHV0ID0gZGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy5zaGFwZSB9ICk7XG5cdFx0c2hhcGVJbnB1dC5zdHlsZS5mb250RmFtaWx5ID0gJ0NvbG9yTGFuZyc7XG5cdFx0c2hhcGVJbnB1dC5zdHlsZS53aWR0aCA9ICc1JSc7XG5cblx0XHRjb25zdCBjb2xvcklucHV0ID0gZGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ2NvbG9yJywgdmFsdWU6IHRoaXMuY29sb3IgfSApO1xuXHRcdFxuXHRcdGRpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnQWxwaGEnIH0gKTtcblx0XHRjb25zdCBvcGFjaXR5SW5wdXQgPSBkaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLm9wYWNpdHkgKyAnJyB9ICk7XG5cdFx0b3BhY2l0eUlucHV0LnN0eWxlLndpZHRoID0gJzclJztcblxuXHRcdGRpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnVFRpbWUnIH0gKTtcblx0XHRjb25zdCB0cmFuc2l0aW9uVGltZUlucHV0ID0gZGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy50cmFuc2l0aW9uVGltZSArICcnIH0gKTtcblx0XHR0cmFuc2l0aW9uVGltZUlucHV0LnN0eWxlLndpZHRoID0gJzglJztcblx0XHRcblx0XHRkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ0R1cmF0aW9uJyB9ICk7XG5cdFx0Y29uc3QgZHVyYXRpb25JbnB1dCA9IGRpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6IHRoaXMuZHVyYXRpb24gKyAnJyB9ICk7XG5cdFx0ZHVyYXRpb25JbnB1dC5zdHlsZS53aWR0aCA9ICc4JSc7XG5cblx0XHRkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ1NpemUnIH0gKTtcblx0XHRjb25zdCBzaXplSW5wdXQgPSBkaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLnNpemUgKyAnJyB9ICk7XG5cdFx0c2l6ZUlucHV0LnN0eWxlLndpZHRoID0gJzclJztcblx0XHRcblx0XHRkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ3gnIH0gKTtcblx0XHRjb25zdCB4SW5wdXQgPSBkaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLnggKyAnJyB9ICk7XG5cdFx0eElucHV0LnN0eWxlLndpZHRoID0gJzUlJztcblx0XHRcblx0XHRkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ3knIH0gKTtcblx0XHRjb25zdCB5SW5wdXQgPSBkaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLnkgKyAnJyB9ICk7XG5cdFx0eUlucHV0LnN0eWxlLndpZHRoID0gJzUlJztcblx0XHRcblx0XHRkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ3onIH0gKTtcblx0XHRjb25zdCB6SW5wdXQgPSBkaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLnogKyAnJyB9ICk7XG5cdFx0eklucHV0LnN0eWxlLndpZHRoID0gJzUlJztcblxuXHRcdGRpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAncicgfSApO1xuXHRcdGNvbnN0IHJJbnB1dCA9IGRpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6IHRoaXMuciArICcnIH0gKTtcblx0XHRySW5wdXQuc3R5bGUud2lkdGggPSAnNSUnO1xuXG5cdFx0c2hhcGVJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcblx0XHRcdHRoaXMuc2hhcGUgPSBzaGFwZUlucHV0LnZhbHVlO1xuXHRcdH1cblx0XHRjb2xvcklucHV0Lm9uY2hhbmdlID0gKCkgPT4ge1xuXHRcdFx0dGhpcy5jb2xvciA9IGNvbG9ySW5wdXQudmFsdWU7XG5cdFx0fVxuXHRcdG9wYWNpdHlJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcblx0XHRcdHRoaXMub3BhY2l0eSA9IHBhcnNlSW50KG9wYWNpdHlJbnB1dC52YWx1ZSk7XG5cdFx0fVxuXHRcdHRyYW5zaXRpb25UaW1lSW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XG5cdFx0XHR0aGlzLnRyYW5zaXRpb25UaW1lID0gcGFyc2VGbG9hdCh0cmFuc2l0aW9uVGltZUlucHV0LnZhbHVlKTtcblx0XHR9XG5cdFx0ZHVyYXRpb25JbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcblx0XHRcdHRoaXMuZHVyYXRpb24gPSBwYXJzZUZsb2F0KGR1cmF0aW9uSW5wdXQudmFsdWUpO1xuXHRcdH1cblx0XHRzaXplSW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XG5cdFx0XHR0aGlzLnNpemUgPSBwYXJzZUludChzaXplSW5wdXQudmFsdWUpO1xuXHRcdH1cblx0XHR4SW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XG5cdFx0XHR0aGlzLnggPSBwYXJzZUZsb2F0KHhJbnB1dC52YWx1ZSk7XG5cdFx0fVxuXHRcdHlJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcblx0XHRcdHRoaXMueSA9IHBhcnNlRmxvYXQoeUlucHV0LnZhbHVlKTtcblx0XHR9XG5cdFx0eklucHV0Lm9uY2hhbmdlID0gKCkgPT4ge1xuXHRcdFx0dGhpcy56ID0gcGFyc2VGbG9hdCh6SW5wdXQudmFsdWUpO1xuXHRcdH1cblx0XHRySW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XG5cdFx0XHR0aGlzLnIgPSBwYXJzZUZsb2F0KHJJbnB1dC52YWx1ZSk7XG5cdFx0fVxuXHR9XG59XG4iLCAiaW1wb3J0IHsgSHdheXUgfSBmcm9tIFwiLi9od2F5dVwiO1xuaW1wb3J0IHsgRW5nbGlzaCB9IGZyb20gXCIuL2VuZ2xpc2hcIjtcbmltcG9ydCB7IENvbmxhbmdFbGVtZW50LCBDb25sYW5nTXVsdGlMaW5lRWRpdG9yLCBDb25sYW5nT25lTGluZUVkaXRvciB9IGZyb20gXCIuL2xhbmd1YWdlXCI7XG5pbXBvcnQgeyBDb2xvckxhbmcgfSBmcm9tIFwiLi9jb2xvcmxhbmdcIjtcblxuZXhwb3J0IGNsYXNzIExhbmd1YWdlSGFuZGxlciB7XG5cdHN0YXRpYyBrbm93bkxhbmd1YWdlcyA9IFtcblx0XHQnRW5nbGlzaCcsXG5cdFx0J0h3YXl1Jyxcblx0XHQnQ29sb3IgTGFuZydcblx0XVxuXG5cdHN0YXRpYyBDcmVhdGVPbmVMaW5lRWRpdG9yKGNsZWFuRGl2OiBIVE1MRGl2RWxlbWVudCwgZGl2OiBIVE1MRGl2RWxlbWVudCwgbGFuZ3VhZ2U6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCwgZm9udFNpemU6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCwgaXNWZXJ0aWNhbDogYm9vbGVhbiB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCk6IENvbmxhbmdPbmVMaW5lRWRpdG9yIHtcblx0XHRzd2l0Y2gobGFuZ3VhZ2UpIHtcblx0XHRcdGNhc2UgJ0VuZ2xpc2gnOlxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuIEVuZ2xpc2guQ3JlYXRlT25lTGluZUVkaXRvcihjbGVhbkRpdiwgZGl2LCB2YWx1ZSwgZm9udFNpemUsIGlzVmVydGljYWwpO1xuXHRcdFx0Y2FzZSAnSHdheXUnOlxuXHRcdFx0XHRyZXR1cm4gSHdheXUuQ3JlYXRlT25lTGluZUVkaXRvcihjbGVhbkRpdiwgZGl2LCB2YWx1ZSwgZm9udFNpemUsIGlzVmVydGljYWwpO1xuXHRcdFx0Y2FzZSAnQ29sb3IgTGFuZyc6XG5cdFx0XHRcdHJldHVybiBDb2xvckxhbmcuQ3JlYXRlT25lTGluZUVkaXRvcihjbGVhbkRpdiwgZGl2LCB2YWx1ZSwgZm9udFNpemUsIGlzVmVydGljYWwpO1xuXHRcdH1cblx0fVxuXG5cdHN0YXRpYyBDcmVhdGVNdWx0aUxpbmVFZGl0b3IoY2xlYW5EaXY6IEhUTUxEaXZFbGVtZW50LCBkaXY6IEhUTUxEaXZFbGVtZW50LCBsYW5ndWFnZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLCBmb250U2l6ZTogbnVtYmVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLCBpc1ZlcnRpY2FsOiBib29sZWFuIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKTogQ29ubGFuZ011bHRpTGluZUVkaXRvciB7XG5cdFx0c3dpdGNoKGxhbmd1YWdlKSB7XG5cdFx0XHRjYXNlICdFbmdsaXNoJzpcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybiBFbmdsaXNoLkNyZWF0ZU11bHRpTGluZUVkaXRvcihjbGVhbkRpdiwgZGl2LCB2YWx1ZSwgZm9udFNpemUsIGlzVmVydGljYWwpO1xuXHRcdFx0Y2FzZSAnSHdheXUnOlxuXHRcdFx0XHRyZXR1cm4gSHdheXUuQ3JlYXRlTXVsdGlMaW5lRWRpdG9yKGNsZWFuRGl2LCBkaXYsIHZhbHVlLCBmb250U2l6ZSwgaXNWZXJ0aWNhbCk7XG5cdFx0XHRjYXNlICdDb2xvciBMYW5nJzpcblx0XHRcdFx0cmV0dXJuIENvbG9yTGFuZy5DcmVhdGVNdWx0aUxpbmVFZGl0b3IoY2xlYW5EaXYsIGRpdiwgdmFsdWUsIGZvbnRTaXplLCBpc1ZlcnRpY2FsKTtcblx0XHR9XG5cdH1cblxuXHRzdGF0aWMgRGlzcGxheShjbGVhbkRpdjogSFRNTERpdkVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQsIGxhbmd1YWdlOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsIGZvbnRTaXplOiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsIGlzVmVydGljYWw6IGJvb2xlYW4gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpOiBDb25sYW5nRWxlbWVudCB7XG5cdFx0c3dpdGNoKGxhbmd1YWdlKSB7XG5cdFx0XHRjYXNlICdFbmdsaXNoJzpcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybiBFbmdsaXNoLkRpc3BsYXkoY2xlYW5EaXYsIGRpdiwgdmFsdWUsIGZvbnRTaXplLCBpc1ZlcnRpY2FsKTtcblx0XHRcdGNhc2UgJ0h3YXl1Jzpcblx0XHRcdFx0cmV0dXJuIEh3YXl1LkRpc3BsYXkoY2xlYW5EaXYsIGRpdiwgdmFsdWUsIGZvbnRTaXplLCBpc1ZlcnRpY2FsKTtcblx0XHRcdGNhc2UgJ0NvbG9yIExhbmcnOlxuXHRcdFx0XHRyZXR1cm4gQ29sb3JMYW5nLkRpc3BsYXkoY2xlYW5EaXYsIGRpdiwgdmFsdWUsIGZvbnRTaXplLCBpc1ZlcnRpY2FsKTtcblx0XHR9XG5cdH1cblxuXHRzdGF0aWMgU3BlYWtPckFuaW1hdGUoY2xlYW5EaXY6IEhUTUxEaXZFbGVtZW50LCBkaXY6IEhUTUxEaXZFbGVtZW50LCBsYW5ndWFnZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLCBmb250U2l6ZTogbnVtYmVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLCBpc1ZlcnRpY2FsOiBib29sZWFuIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKTogQ29ubGFuZ0VsZW1lbnQge1xuXHRcdHN3aXRjaChsYW5ndWFnZSkge1xuXHRcdFx0Y2FzZSAnRW5nbGlzaCc6XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBFcnJvcignVGhpcyBsYW5ndWFnZSBkb2VzIG5vdCBoYXZlIGFuIGFuaW1hdGluZyBvciBzcGVha2luZyBmdW5jdGlvbicpO1xuXHRcdFx0Y2FzZSAnSHdheXUnOlxuXHRcdFx0XHR0aHJvdyBFcnJvcignVGhpcyBsYW5ndWFnZSBkb2VzIG5vdCBoYXZlIGFuIGFuaW1hdGluZyBvciBzcGVha2luZyBmdW5jdGlvbicpO1xuXHRcdFx0Y2FzZSAnQ29sb3IgTGFuZyc6XG5cdFx0XHRcdHJldHVybiBDb2xvckxhbmcuU3BlYWtPckFuaW1hdGUoY2xlYW5EaXYsIGRpdiwgdmFsdWUsIGZvbnRTaXplLCBpc1ZlcnRpY2FsKTtcblx0XHR9XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBDRkVGaWxlIH0gZnJvbSBcIi4vY2ZlLWZpbGVcIjtcbmltcG9ydCB7IExhbmd1YWdlSGFuZGxlciB9IGZyb20gXCIuL2NvbmxhbmdzL2xhbmd1YWdlLWhhbmRsZXJcIjtcbmltcG9ydCB7IFNvdXJjZUFuZFZhdWx0IH0gZnJvbSBcIi4vc252XCI7XG5cbmV4cG9ydCBjbGFzcyBDb25sYW5nRGljdGlvbmFyeSBleHRlbmRzIENGRUZpbGUge1xuXG5cdHRlcm1MYW5ndWFnZTogc3RyaW5nO1xuXHRkZWZpbml0aW9uTGFuZ3VhZ2U6IHN0cmluZztcblx0d29yZHM6IFtzdHJpbmcsIHN0cmluZ11bXTtcblx0c2VhcmNoVGVybTogc3RyaW5nO1xuXHRzZWFyY2hJbkNvbmxhbmc6IGJvb2xlYW47XG5cblx0c3RhdGljIG92ZXJyaWRlIGFzeW5jIENyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnY6IFNvdXJjZUFuZFZhdWx0LCBmaWxlVHlwZTogc3RyaW5nLCBwYXJlbnRGb2xkZXJJRDogbnVtYmVyLCBuYW1lOiBzdHJpbmcpOiBQcm9taXNlPENvbmxhbmdEaWN0aW9uYXJ5PiB7XG5cdFx0Y29uc3QgdW5maW5pc2hlZERpY3Rpb25hcnkgPSA8Q29ubGFuZ0RpY3Rpb25hcnk+IGF3YWl0IHN1cGVyLkNyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnYsIGZpbGVUeXBlLCBwYXJlbnRGb2xkZXJJRCwgbmFtZSk7XG5cdFx0dW5maW5pc2hlZERpY3Rpb25hcnkudGVybUxhbmd1YWdlID0gJ0VuZ2xpc2gnO1xuXHRcdHVuZmluaXNoZWREaWN0aW9uYXJ5LmRlZmluaXRpb25MYW5ndWFnZSA9ICdFbmdsaXNoJztcblx0XHR1bmZpbmlzaGVkRGljdGlvbmFyeS53b3JkcyA9IFtdO1xuXHRcdHVuZmluaXNoZWREaWN0aW9uYXJ5LnNlYXJjaFRlcm0gPSAnJztcblx0XHR1bmZpbmlzaGVkRGljdGlvbmFyeS5zZWFyY2hJbkNvbmxhbmcgPSBmYWxzZTtcblx0XHRyZXR1cm4gdW5maW5pc2hlZERpY3Rpb25hcnk7XG5cdH1cblxuXHRvdmVycmlkZSBhc3luYyBEaXNwbGF5KHNudjogU291cmNlQW5kVmF1bHQsIG1haW5EaXY6IEhUTUxEaXZFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0YXdhaXQgc3VwZXIuRGlzcGxheShzbnYsIG1haW5EaXYpO1xuXG5cdFx0bWFpbkRpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ1Rlcm0gTGFuZ3VhZ2UnIH0gKTtcblx0XHRjb25zdCB0ZXJtTGFuZ3VhZ2VEcm9wZG93biA9IG1haW5EaXYuY3JlYXRlRWwoJ3NlbGVjdCcpO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgTGFuZ3VhZ2VIYW5kbGVyLmtub3duTGFuZ3VhZ2VzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBjdXJyZW50TGFuZyA9IExhbmd1YWdlSGFuZGxlci5rbm93bkxhbmd1YWdlc1tpXTtcblx0XHRcdHRlcm1MYW5ndWFnZURyb3Bkb3duLmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6IGN1cnJlbnRMYW5nLCB2YWx1ZTogY3VycmVudExhbmcgfSApO1xuXHRcdH1cblx0XHR0ZXJtTGFuZ3VhZ2VEcm9wZG93bi52YWx1ZSA9IHRoaXMudGVybUxhbmd1YWdlO1xuXG5cdFx0bWFpbkRpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0RlZmluaXRpb24gTGFuZ3VhZ2UnIH0gKTtcblx0XHRjb25zdCBkZWZpbml0aW9uTGFuZ3VhZ2VEcm9wZG93biA9IG1haW5EaXYuY3JlYXRlRWwoJ3NlbGVjdCcpO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgTGFuZ3VhZ2VIYW5kbGVyLmtub3duTGFuZ3VhZ2VzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBjdXJyZW50TGFuZyA9IExhbmd1YWdlSGFuZGxlci5rbm93bkxhbmd1YWdlc1tpXTtcblx0XHRcdGRlZmluaXRpb25MYW5ndWFnZURyb3Bkb3duLmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6IGN1cnJlbnRMYW5nLCB2YWx1ZTogY3VycmVudExhbmcgfSApO1xuXHRcdH1cblx0XHRkZWZpbml0aW9uTGFuZ3VhZ2VEcm9wZG93bi52YWx1ZSA9IHRoaXMuZGVmaW5pdGlvbkxhbmd1YWdlO1xuXG5cdFx0Y29uc3QgYWRkV29yZERpdiA9IG1haW5EaXYuY3JlYXRlRGl2KCd2Ym94Jyk7XG5cdFx0YXdhaXQgdGhpcy5DcmVhdGVOZXdXb3JkRWRpdG9yKHNudiwgbWFpbkRpdiwgYWRkV29yZERpdik7XG5cblx0XHR0ZXJtTGFuZ3VhZ2VEcm9wZG93bi5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdHRoaXMudGVybUxhbmd1YWdlID0gdGVybUxhbmd1YWdlRHJvcGRvd24udmFsdWU7XG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdGF3YWl0IHRoaXMuRGlzcGxheShzbnYsIG1haW5EaXYpO1xuXHRcdH1cblx0XHRkZWZpbml0aW9uTGFuZ3VhZ2VEcm9wZG93bi5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdHRoaXMuZGVmaW5pdGlvbkxhbmd1YWdlID0gZGVmaW5pdGlvbkxhbmd1YWdlRHJvcGRvd24udmFsdWU7XG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdGF3YWl0IHRoaXMuRGlzcGxheShzbnYsIG1haW5EaXYpO1xuXHRcdH1cblxuXHRcdGF3YWl0IHRoaXMuRGlzcGxheUxpc3Qoc252LCBtYWluRGl2KTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgRGlzcGxheVdvcmQoc252OiBTb3VyY2VBbmRWYXVsdCwgbWFpbkRpdjogSFRNTERpdkVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQsIGluZGV4OiBudW1iZXIpIHtcblx0XHRkaXYuZW1wdHkoKTtcblxuXHRcdGNvbnN0IG1vZGVCdXR0b24gPSBkaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0VkaXQnIH0gKTtcblx0XHRtb2RlQnV0dG9uLnN0eWxlLnRvcCA9ICcwJztcblx0XHRtb2RlQnV0dG9uLnN0eWxlLnJpZ2h0ID0gJzAnO1xuXHRcdG1vZGVCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdGF3YWl0IHRoaXMuRWRpdFdvcmQoc252LCBtYWluRGl2LCBkaXYsIGluZGV4KTtcblx0XHR9XG5cblx0XHRjb25zdCB3b3JkRGl2ID0gZGl2LmNyZWF0ZURpdignaGJveCcpO1xuXHRcdHdvcmREaXYuc3R5bGUuZ2FwID0gJzElJztcblx0XHR3b3JkRGl2LnN0eWxlLmZvbnRTaXplID0gJzE3LjVweCc7XG5cdFx0Y29uc3QgY29ubGFuZ1dvcmQgPSB0aGlzLndvcmRzW2luZGV4XVswXTtcblx0XHRjb25zdCBkZWZpbml0aW9uID0gdGhpcy53b3Jkc1tpbmRleF1bMV07XG5cdFx0Y29uc3QgY29ubGFuZ1dvcmREaXYgPSBMYW5ndWFnZUhhbmRsZXIuRGlzcGxheShtYWluRGl2LCB3b3JkRGl2LCB0aGlzLnRlcm1MYW5ndWFnZSwgY29ubGFuZ1dvcmQsIDE3LjUpO1xuXHRcdGNvbmxhbmdXb3JkRGl2LmNsYXNzTGlzdC5hZGQoJ2NmZS1wb2ludGVyLWhvdmVyJyk7XG5cdFx0d29yZERpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnOicgfSApO1xuXHRcdExhbmd1YWdlSGFuZGxlci5EaXNwbGF5KG1haW5EaXYsIHdvcmREaXYsIHRoaXMuZGVmaW5pdGlvbkxhbmd1YWdlLCBkZWZpbml0aW9uLCAxNy41KTtcblxuXHRcdGNvbmxhbmdXb3JkRGl2Lm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChjb25sYW5nV29yZCk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNvcHkgdGV4dDogJywgZXJyKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIEVkaXRXb3JkKHNudjogU291cmNlQW5kVmF1bHQsIG1haW5EaXY6IEhUTUxEaXZFbGVtZW50LCBkaXY6IEhUTUxEaXZFbGVtZW50LCBpbmRleDogbnVtYmVyKSB7XG5cdFx0ZGl2LmVtcHR5KCk7XG5cdFx0Y29uc3QgYnV0dG9uc0RpdiA9IGRpdi5jcmVhdGVEaXYoJ2hib3gnKTtcblxuXHRcdGNvbnN0IG1vZGVCdXR0b24gPSBidXR0b25zRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdWaWV3JyB9ICk7XG5cdFx0bW9kZUJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0YXdhaXQgdGhpcy5EaXNwbGF5V29yZChzbnYsIG1haW5EaXYsIGRpdiwgaW5kZXgpO1xuXHRcdH1cblxuXHRcdGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0RlbGV0ZScgfSApO1xuXHRcdGRlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QgPSAnY2ZlLXJlbW92ZS1idXR0b24nO1xuXHRcdGRlbGV0ZUJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0dGhpcy53b3Jkcy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XG5cdFx0XHRhd2FpdCB0aGlzLkRpc3BsYXkoc252LCBtYWluRGl2KTtcblx0XHR9XG5cblx0XHRjb25zdCB3b3JkRGl2ID0gZGl2LmNyZWF0ZURpdigndmJveCcpO1xuXHRcdHdvcmREaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdXb3JkIGluICcgKyB0aGlzLnRlcm1MYW5ndWFnZSB9ICk7XG5cdFx0Y29uc3QgY29ubGFuZ1dvcmQgPSB0aGlzLndvcmRzW2luZGV4XVswXTtcblx0XHRjb25zdCBkZWZpbml0aW9uID0gdGhpcy53b3Jkc1tpbmRleF1bMV07XG5cdFx0Y29uc3QgbmV3V29yZElucHV0ID0gTGFuZ3VhZ2VIYW5kbGVyLkNyZWF0ZU9uZUxpbmVFZGl0b3IobWFpbkRpdiwgd29yZERpdiwgdGhpcy50ZXJtTGFuZ3VhZ2UsIGNvbmxhbmdXb3JkLCAxNy41LCBmYWxzZSk7XG5cblx0XHR3b3JkRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnRGVmaW5pdGlvbicgfSApO1xuXHRcdGNvbnN0IGRlZmluaXRpb25JbnB1dCA9IExhbmd1YWdlSGFuZGxlci5DcmVhdGVPbmVMaW5lRWRpdG9yKG1haW5EaXYsIHdvcmREaXYsIHRoaXMuZGVmaW5pdGlvbkxhbmd1YWdlLCBkZWZpbml0aW9uLCAxNy41LCBmYWxzZSk7XG5cblx0XHRjb25zdCBvblN1Ym1pdCA9IGFzeW5jICgpID0+IHtcblx0XHRcdHRoaXMud29yZHNbaW5kZXhdID0gW25ld1dvcmRJbnB1dC52YWx1ZSwgZGVmaW5pdGlvbklucHV0LnZhbHVlXTtcblx0XHRcdHRoaXMuUmVTb3J0KGluZGV4KTtcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xuXHRcdFx0YXdhaXQgdGhpcy5EaXNwbGF5KHNudiwgbWFpbkRpdik7XG5cdFx0fVxuXG5cdFx0ZGl2Lm9ua2V5ZG93biA9IGFzeW5jIChldmVudCkgPT4ge1xuXHRcdFx0aWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJykge1xuXHRcdFx0XHRhd2FpdCBvblN1Ym1pdCgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgQ3JlYXRlTmV3V29yZEVkaXRvcihzbnY6IFNvdXJjZUFuZFZhdWx0LCBtYWluRGl2OiBIVE1MRGl2RWxlbWVudCwgZGl2OiBIVE1MRGl2RWxlbWVudCkge1xuXHRcdGRpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0FkZCBOZXcgV29yZDonIH0gKTtcblx0XHRkaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdXb3JkIGluICcgKyB0aGlzLnRlcm1MYW5ndWFnZSB9ICk7XG5cdFx0Y29uc3QgbmV3V29yZElucHV0ID0gTGFuZ3VhZ2VIYW5kbGVyLkNyZWF0ZU9uZUxpbmVFZGl0b3IobWFpbkRpdiwgZGl2LCB0aGlzLnRlcm1MYW5ndWFnZSwgdW5kZWZpbmVkLCAxNy41LCBmYWxzZSk7XG5cblx0XHRkaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdEZWZpbml0aW9uJyB9ICk7XG5cdFx0Y29uc3QgZGVmaW5pdGlvbklucHV0ID0gTGFuZ3VhZ2VIYW5kbGVyLkNyZWF0ZU9uZUxpbmVFZGl0b3IobWFpbkRpdiwgZGl2LCB0aGlzLmRlZmluaXRpb25MYW5ndWFnZSwgdW5kZWZpbmVkLCAxNy41LCBmYWxzZSk7XG5cdFx0Y29uc3Qgc3VibWl0QnV0dG9uID0gZGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdzdWJtaXQnIH0gKTtcblxuXHRcdGNvbnN0IG9uU3VibWl0ID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0dGhpcy53b3Jkcy5wdXNoKFtuZXdXb3JkSW5wdXQudmFsdWUsIGRlZmluaXRpb25JbnB1dC52YWx1ZV0pO1xuXHRcdFx0dGhpcy5SZVNvcnQodGhpcy53b3Jkcy5sZW5ndGggLSAxKTtcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xuXHRcdFx0YXdhaXQgdGhpcy5EaXNwbGF5KHNudiwgbWFpbkRpdik7XG5cdFx0fVxuXG5cdFx0c3VibWl0QnV0dG9uLm9uY2xpY2sgPSBvblN1Ym1pdDtcblx0XHRkaXYub25rZXlkb3duID0gYXN5bmMgKGV2ZW50KSA9PiB7XG5cdFx0XHRpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7XG5cdFx0XHRcdGF3YWl0IG9uU3VibWl0KCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBEaXNwbGF5TGlzdChzbnY6IFNvdXJjZUFuZFZhdWx0LCBkaXY6IEhUTUxEaXZFbGVtZW50KSB7XG5cdFx0ZGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnU2VhcmNoIGluICcgKyB0aGlzLnRlcm1MYW5ndWFnZSArICc/JyB9ICk7XG5cdFx0XG5cdFx0Y29uc3QgY2hlY2tib3ggPSBkaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnY2hlY2tib3gnIH0gKTtcblx0XHRjaGVja2JveC5jaGVja2VkID0gdGhpcy5zZWFyY2hJbkNvbmxhbmc7XG5cblx0XHRkaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdTZWFyY2ggdGVybScgfSApO1xuXHRcdFxuXHRcdGNvbnN0IGNvbmxhbmdTZWFyY2ggPSBMYW5ndWFnZUhhbmRsZXIuQ3JlYXRlT25lTGluZUVkaXRvcihkaXYsIGRpdiwgdGhpcy50ZXJtTGFuZ3VhZ2UsIHRoaXMuc2VhcmNoVGVybSwgMTcuNSwgZmFsc2UpO1xuXHRcdGNvbnN0IGRlZmluaXRpb25TZWFyY2ggPSBMYW5ndWFnZUhhbmRsZXIuQ3JlYXRlT25lTGluZUVkaXRvcihkaXYsIGRpdiwgdGhpcy5kZWZpbml0aW9uTGFuZ3VhZ2UsIHRoaXMuc2VhcmNoVGVybSwgMTcuNSwgZmFsc2UpO1xuXHRcdFxuXHRcdGxldCBwcmV2RWxlbWVudCA9IGNoZWNrYm94LmNoZWNrZWQgPyBkZWZpbml0aW9uU2VhcmNoIDogY29ubGFuZ1NlYXJjaDtcblx0XHRsZXQgY3VycmVudEVsZW1lbnQgPSBjaGVja2JveC5jaGVja2VkID8gY29ubGFuZ1NlYXJjaCA6IGRlZmluaXRpb25TZWFyY2g7XG5cblx0XHRwcmV2RWxlbWVudC5zdHlsZS53aWR0aCA9ICcxMDAlJztcblx0XHRjdXJyZW50RWxlbWVudC5zdHlsZS53aWR0aCA9ICcxMDAlJztcblxuXHRcdHRoaXMuc2VhcmNoVGVybSA9IHByZXZFbGVtZW50LnZhbHVlO1xuXHRcdFxuXHRcdHByZXZFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0Y3VycmVudEVsZW1lbnQudmFsdWUgPSB0aGlzLnNlYXJjaFRlcm07XG5cdFx0Y3VycmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xuXHRcdFxuXHRcdGNvbnN0IHJlc3VsdHNEaXYgPSBkaXYuY3JlYXRlRGl2KCdjZmUtZGljdGlvbmFyeS1ncmlkJyk7XG5cdFx0XG5cdFx0Y29uc3QgcmVmcmVzaFJlc3VsdHMgPSAoKSA9PiB7XG5cdFx0XHR0aGlzLnNlYXJjaFRlcm0gPSBjdXJyZW50RWxlbWVudC52YWx1ZTtcblx0XHRcdHRoaXMuc2VhcmNoSW5Db25sYW5nID0gY2hlY2tib3guY2hlY2tlZDtcblx0XHRcdHJlc3VsdHNEaXYuZW1wdHkoKTtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy53b3Jkcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAodGhpcy53b3Jkc1tpXVtjaGVja2JveC5jaGVja2VkID8gMCA6IDFdLmNvbnRhaW5zKGN1cnJlbnRFbGVtZW50LnZhbHVlKSkge1xuXHRcdFx0XHRcdGNvbnN0IHdvcmREaXYgPSByZXN1bHRzRGl2LmNyZWF0ZURpdignY2ZlLWRpY3Rpb25hcnktd29yZCcpO1xuXHRcdFx0XHRcdHRoaXMuRGlzcGxheVdvcmQoc252LCBkaXYsIHdvcmREaXYsIGkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmVmcmVzaFJlc3VsdHMoKTtcblxuXHRcdGNvbmxhbmdTZWFyY2gub25pbnB1dCA9IHJlZnJlc2hSZXN1bHRzO1xuXHRcdGRlZmluaXRpb25TZWFyY2gub25pbnB1dCA9IHJlZnJlc2hSZXN1bHRzO1xuXG5cdFx0Y2hlY2tib3gub25jaGFuZ2UgPSAoKSA9PiB7XG5cdFx0XHRyZXN1bHRzRGl2LmVtcHR5KCk7XG5cblx0XHRcdHByZXZFbGVtZW50ID0gY2hlY2tib3guY2hlY2tlZCA/IGRlZmluaXRpb25TZWFyY2ggOiBjb25sYW5nU2VhcmNoO1xuXHRcdFx0Y3VycmVudEVsZW1lbnQgPSBjaGVja2JveC5jaGVja2VkID8gY29ubGFuZ1NlYXJjaCA6IGRlZmluaXRpb25TZWFyY2g7XG5cdFx0XHR0aGlzLnNlYXJjaFRlcm0gPSBwcmV2RWxlbWVudC52YWx1ZTtcblxuXHRcdFx0cHJldkVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHRcdGN1cnJlbnRFbGVtZW50LnZhbHVlID0gdGhpcy5zZWFyY2hUZXJtO1xuXHRcdFx0Y3VycmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xuXHRcdFx0XG5cdFx0XHRyZWZyZXNoUmVzdWx0cygpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgUmVTb3J0KGluZGV4T2ZDaGFuZ2VkV29yZDogbnVtYmVyKSB7XG5cdFx0Y29uc3QgY2hhbmdlZFdvcmQgPSB0aGlzLndvcmRzLnNwbGljZShpbmRleE9mQ2hhbmdlZFdvcmQsIDEpWzBdO1xuXHRcdGxldCBpID0gMDtcblx0XHRsZXQgbGVmdCA9IDA7XG5cdFx0bGV0IHJpZ2h0ID0gdGhpcy53b3Jkcy5sZW5ndGggLSAxO1xuXHRcdFxuXHRcdHdoaWxlIChsZWZ0IDw9IHJpZ2h0KSB7XG5cdFx0XHRjb25zdCBtaWQgPSBNYXRoLmZsb29yKChsZWZ0ICsgcmlnaHQpIC8gMik7XG5cdFx0XHRpZiAodGhpcy53b3Jkc1ttaWRdWzBdIDwgY2hhbmdlZFdvcmRbMF0pIHtcblx0XHRcdFx0bGVmdCA9IG1pZCArIDE7XG5cdFx0XHRcdGkgPSBsZWZ0O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmlnaHQgPSBtaWQgLSAxO1xuXHRcdFx0XHRpID0gbWlkO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMud29yZHMuc3BsaWNlKGksIDAsIGNoYW5nZWRXb3JkKTtcblx0fVxuXG59XG4iLCAiaW1wb3J0IHsgQ0ZFRmlsZSB9IGZyb20gXCIuL2NmZS1maWxlXCI7XG5pbXBvcnQgeyBDRkVGaWxlSGFuZGxlciB9IGZyb20gXCIuL2NmZS1maWxlLWhhbmRsZXJcIjtcbmltcG9ydCB7IExhbmd1YWdlSGFuZGxlciB9IGZyb20gXCIuL2NvbmxhbmdzL2xhbmd1YWdlLWhhbmRsZXJcIjtcbmltcG9ydCB7IFNpbmdsZU1lZGlhRmlsZSB9IGZyb20gXCIuL3NpbmdsZS1tZWRpYS1maWxlXCI7XG5pbXBvcnQgeyBTb3VyY2VBbmRWYXVsdCB9IGZyb20gXCIuL3NudlwiO1xuXG5leHBvcnQgY2xhc3MgU3RvcnkgZXh0ZW5kcyBDRkVGaWxlIHtcblx0cHJpdmF0ZSBjdXJyZW50UGFnZUluZGV4OiBudW1iZXI7XG5cdHByaXZhdGUgcGFnZXM6IFBhZ2VbXTtcblx0cHJpdmF0ZSBjaGFyYWN0ZXJzOiBDaGFyYWN0ZXJbXTtcblx0cHJpdmF0ZSBsYW5ndWFnZTogc3RyaW5nO1xuXHRwcml2YXRlIGRvVmVydGljYWw6IGJvb2xlYW47XG5cdHByaXZhdGUgZm9udFNpemU6IG51bWJlcjtcblxuXHRwcml2YXRlIE1ha2VWZXJ0aWNhbChlbDogSFRNTEVsZW1lbnQpIHtcblx0XHRlbC5zdHlsZS53cml0aW5nTW9kZSA9ICd2ZXJ0aWNhbC1scic7XG5cdFx0ZWwuc3R5bGUudGV4dE9yaWVudGF0aW9uID0gJ3VwcmlnaHQnO1xuXHR9XG5cblx0cHJpdmF0ZSBEaXNwbGF5TGluZUVkaXQobWFpbkRpdjogSFRNTERpdkVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQsIGxpbmU6IERpYWxvZ3VlTGluZSkge1xuXHRcdGNvbnN0IGlucHV0ID0gTGFuZ3VhZ2VIYW5kbGVyLkNyZWF0ZU11bHRpTGluZUVkaXRvcihtYWluRGl2LCBkaXYsIHRoaXMubGFuZ3VhZ2UsIGxpbmUuY29udGVudCk7XG5cdFx0Y29uc3Qgc3BlYWtlciA9IHRoaXMuY2hhcmFjdGVyc1tsaW5lLnNwZWFrZXJJbmRleF07XG5cdFx0aWYgKHRoaXMubGFuZ3VhZ2UgIT09ICdDb2xvciBMYW5nJykge1xuXHRcdFx0aW5wdXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gc3BlYWtlci5iYWNrZ3JvdW5kQ29sb3I7XG5cdFx0XHRpbnB1dC5zdHlsZS5jb2xvciA9IHNwZWFrZXIuY29sb3I7XG5cdFx0fVxuXHRcdGlucHV0LmlzVmVydGljYWwgPSB0aGlzLmRvVmVydGljYWw7XG5cdFx0cmV0dXJuIGlucHV0O1xuXHR9XG5cblx0c3RhdGljIG92ZXJyaWRlIGFzeW5jIENyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnY6IFNvdXJjZUFuZFZhdWx0LCBmaWxlVHlwZTogc3RyaW5nLCBwYXJlbnRGb2xkZXJJRDogbnVtYmVyLCBuYW1lOiBzdHJpbmcpOiBQcm9taXNlPFN0b3J5PiB7XG5cdFx0Y29uc3QgbmV3U3RvcnlGaWxlID0gPFN0b3J5PiAoYXdhaXQgc3VwZXIuQ3JlYXRlTmV3RmlsZUZvckxheWVyKHNudiwgZmlsZVR5cGUsIHBhcmVudEZvbGRlcklELCBuYW1lKSk7XG5cdFx0bmV3U3RvcnlGaWxlLmN1cnJlbnRQYWdlSW5kZXggPSAwO1xuXHRcdG5ld1N0b3J5RmlsZS5wYWdlcyA9IFtdO1xuXHRcdG5ld1N0b3J5RmlsZS5jaGFyYWN0ZXJzID0gW107XG5cdFx0bmV3U3RvcnlGaWxlLmxhbmd1YWdlID0gJ0VuZ2xpc2gnO1xuXHRcdG5ld1N0b3J5RmlsZS5kb1ZlcnRpY2FsID0gZmFsc2U7XG5cdFx0cmV0dXJuIG5ld1N0b3J5RmlsZTtcblx0fVxuXG5cdG92ZXJyaWRlIGFzeW5jIERpc3BsYXkoc252OiBTb3VyY2VBbmRWYXVsdCwgbWFpbkRpdjogSFRNTERpdkVsZW1lbnQpIHtcblx0XHRhd2FpdCBzdXBlci5EaXNwbGF5KHNudiwgbWFpbkRpdik7XG5cdFx0dGhpcy5Mb2FkU3RvcnlVSShzbnYsIG1haW5EaXYuY3JlYXRlRGl2KCd2Ym94JykpO1xuXHR9XG5cblx0cHJpdmF0ZSBMb2FkU3RvcnlVSShzbnY6IFNvdXJjZUFuZFZhdWx0LCBtYWluRGl2OiBIVE1MRGl2RWxlbWVudCkge1xuXHRcdG1haW5EaXYuZW1wdHkoKTtcblx0XHRtYWluRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnR28gdG8gcGFnZSBudW1iZXI6JyB9ICk7XG5cdFx0Y29uc3QgcGFnZVNlbGVjdERpdiA9IG1haW5EaXYuY3JlYXRlRGl2KCdoYm94Jyk7XG5cdFx0Y29uc3QgcGFnZU51bWJlcklucHV0ID0gcGFnZVNlbGVjdERpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6ICcnICsgKHRoaXMuY3VycmVudFBhZ2VJbmRleCArIDEpIH0gKTtcblx0XHRwYWdlU2VsZWN0RGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnJyArICcvJyArIHRoaXMucGFnZXMubGVuZ3RoIH0gKTtcblx0XHRjb25zdCBnb0J1dHRvbiA9IHBhZ2VTZWxlY3REaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0dvJyB9ICk7XG5cdFx0Z29CdXR0b24ub25jbGljayA9ICgpID0+IHtcblx0XHRcdHRoaXMuY3VycmVudFBhZ2VJbmRleCA9IHBhcnNlSW50KHBhZ2VOdW1iZXJJbnB1dC52YWx1ZSkgLSAxO1xuXHRcdFx0dGhpcy5Mb2FkQ3VycmVudFBhZ2VFZGl0KHNudiwgbWFpbkRpdik7XG5cdFx0fVxuXG5cdFx0bWFpbkRpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0ZvbnQgU2l6ZSAoaW4gcHgpOicgfSApO1xuXHRcdGNvbnN0IGZvbnRTaXplSW5wdXQgPSBtYWluRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnIH0gKTtcblx0XHRmb250U2l6ZUlucHV0LnZhbHVlID0gdGhpcy5mb250U2l6ZSA/ICcnICsgdGhpcy5mb250U2l6ZSA6ICcxNy41Jztcblx0XHRmb250U2l6ZUlucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0dGhpcy5mb250U2l6ZSA9IHBhcnNlRmxvYXQoZm9udFNpemVJbnB1dC52YWx1ZSk7XG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdHRoaXMuTG9hZFN0b3J5VUkoc252LCBtYWluRGl2KTtcblx0XHR9XG5cblx0XHRtYWluRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnTGFuZ3VhZ2U6JyB9ICk7XG5cdFx0Y29uc3QgbGFuZ3VhZ2VJbnB1dCA9IG1haW5EaXYuY3JlYXRlRWwoJ3NlbGVjdCcpO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgTGFuZ3VhZ2VIYW5kbGVyLmtub3duTGFuZ3VhZ2VzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRsYW5ndWFnZUlucHV0LmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6IExhbmd1YWdlSGFuZGxlci5rbm93bkxhbmd1YWdlc1tpXSwgdmFsdWU6IExhbmd1YWdlSGFuZGxlci5rbm93bkxhbmd1YWdlc1tpXSB9ICk7XG5cdFx0fVxuXHRcdGxhbmd1YWdlSW5wdXQudmFsdWUgPSB0aGlzLmxhbmd1YWdlO1xuXHRcdGxhbmd1YWdlSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHR0aGlzLmxhbmd1YWdlID0gbGFuZ3VhZ2VJbnB1dC52YWx1ZTtcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xuXHRcdFx0dGhpcy5Mb2FkU3RvcnlVSShzbnYsIG1haW5EaXYpO1xuXHRcdH1cblxuXHRcdG1haW5EaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdWZXJ0aWNhbCBUZXh0JyB9ICk7XG5cdFx0Y29uc3QgZG9WZXJ0aWNhbEJveCA9IG1haW5EaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnY2hlY2tib3gnIH0gKTtcblx0XHRkb1ZlcnRpY2FsQm94LmNoZWNrZWQgPSB0aGlzLmRvVmVydGljYWw7XG5cdFx0ZG9WZXJ0aWNhbEJveC5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0dGhpcy5kb1ZlcnRpY2FsID0gZG9WZXJ0aWNhbEJveC5jaGVja2VkO1xuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XG5cdFx0XHR0aGlzLkxvYWRTdG9yeVVJKHNudiwgbWFpbkRpdik7XG5cdFx0fVxuXG5cdFx0dGhpcy5Mb2FkQ2hhcmFjdGVyRWRpdG9yVUkoc252LCBtYWluRGl2KTtcblx0fVxuXG5cdHByaXZhdGUgTG9hZENoYXJhY3RlckVkaXRvclVJKHNudjogU291cmNlQW5kVmF1bHQsIGRpdjogSFRNTERpdkVsZW1lbnQpIHtcblx0XHRjb25zdCBjaGFyRWRpdG9yRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xuXHRcdGNoYXJFZGl0b3JEaXYuY2xhc3NOYW1lID0gdGhpcy5kb1ZlcnRpY2FsID8gJ2hib3gnIDogJ3Zib3gnO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGFyYWN0ZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBjdXJyZW50SW5kZXggPSBpO1xuXHRcdFx0Y29uc3QgY2hhckRpdiA9IGNoYXJFZGl0b3JEaXYuY3JlYXRlRGl2KCk7XG5cdFx0XHRjaGFyRGl2LmNsYXNzTmFtZSA9IHRoaXMuZG9WZXJ0aWNhbCA/ICd2Ym94JyA6ICdoYm94JztcblxuXHRcdFx0Y2hhckRpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ05hbWU6ICcgfSApO1xuXHRcdFx0Y29uc3QgbmFtZUlucHV0ID0gTGFuZ3VhZ2VIYW5kbGVyLkNyZWF0ZU9uZUxpbmVFZGl0b3IoZGl2LCBjaGFyRGl2LCB0aGlzLmxhbmd1YWdlLCB0aGlzLmNoYXJhY3RlcnNbY3VycmVudEluZGV4XS5uYW1lLCB0aGlzLmZvbnRTaXplLCB0aGlzLmRvVmVydGljYWwpO1xuXHRcdFx0aWYgKHRoaXMubGFuZ3VhZ2UgIT09ICdDb2xvciBMYW5nJykge1xuXHRcdFx0XHRuYW1lSW5wdXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRJbmRleF0uYmFja2dyb3VuZENvbG9yO1xuXHRcdFx0XHRuYW1lSW5wdXQuc3R5bGUuY29sb3IgPSB0aGlzLmNoYXJhY3RlcnNbY3VycmVudEluZGV4XS5jb2xvcjtcblx0XHRcdH1cblx0XHRcdG5hbWVJbnB1dC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0dGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRJbmRleF0ubmFtZSA9IG5hbWVJbnB1dC52YWx1ZTtcblx0XHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XG5cdFx0XHRcdHRoaXMuTG9hZFN0b3J5VUkoc252LCBkaXYpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRoaXMuZG9WZXJ0aWNhbCkge1xuXHRcdFx0XHRuYW1lSW5wdXQuc3R5bGUuaGVpZ2h0ID0gJ2ZpdC1jb250ZW50Jztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5hbWVJbnB1dC5zdHlsZS53aWR0aCA9ICdmaXQtY29udGVudCc7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5sYW5ndWFnZSAhPT0gJ0NvbG9yIExhbmcnKSB7XG5cdFx0XHRcdHRoaXMuTG9hZENoYXJhY3RlckNvbG9yU2VsZWN0aW9uVUkoc252LCBkaXYsIGNoYXJFZGl0b3JEaXYsIGN1cnJlbnRJbmRleCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNvbnN0IGFkZENoYXJCdXR0b24gPSBjaGFyRWRpdG9yRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdBZGQgQ2hhcmFjdGVyJyB9ICk7XG5cdFx0YWRkQ2hhckJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0dGhpcy5jaGFyYWN0ZXJzLnB1c2gobmV3IENoYXJhY3RlcigpKTtcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xuXHRcdFx0Y2hhckVkaXRvckRpdi5yZW1vdmUoKTtcblx0XHRcdHRoaXMuTG9hZENoYXJhY3RlckVkaXRvclVJKHNudiwgZGl2KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIExvYWRDaGFyYWN0ZXJDb2xvclNlbGVjdGlvblVJKHNudjogU291cmNlQW5kVmF1bHQsIGRpdjogSFRNTERpdkVsZW1lbnQsIGNoYXJFZGl0b3JEaXY6IEhUTUxEaXZFbGVtZW50LCBjdXJyZW50SW5kZXg6IG51bWJlcikge1xuXHRcdGNvbnN0IGNvbG9yRGl2ID0gY2hhckVkaXRvckRpdi5jcmVhdGVEaXYoKTtcblx0XHRjb2xvckRpdi5jbGFzc05hbWUgPSB0aGlzLmRvVmVydGljYWwgPyAndmJveCcgOiAnaGJveCc7XG5cblx0XHRjb2xvckRpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ1RleHQgQ29sb3I6JyB9ICk7XG5cdFx0Y29uc3QgY29sb3JJbnB1dCA9IGNvbG9yRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ2NvbG9yJywgdmFsdWU6IHRoaXMuY2hhcmFjdGVyc1tjdXJyZW50SW5kZXhdLmNvbG9yIH0gKTtcblx0XHRjb25zdCBzd2FwQnV0dG9uID0gY29sb3JEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1N3YXAnIH0gKTtcblx0XHRjb2xvcklucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0dGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRJbmRleF0uY29sb3IgPSBjb2xvcklucHV0LnZhbHVlO1xuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XG5cdFx0XHRjaGFyRWRpdG9yRGl2LnJlbW92ZSgpO1xuXHRcdFx0dGhpcy5Mb2FkQ2hhcmFjdGVyRWRpdG9yVUkoc252LCBkaXYpO1xuXHRcdH1cblx0XHRjb2xvckRpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0JhY2tncm91bmQgQ29sb3I6JyB9ICk7XG5cdFx0Y29uc3QgYmFja2dyb3VuZElucHV0ID0gY29sb3JEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnY29sb3InLCB2YWx1ZTogdGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRJbmRleF0uYmFja2dyb3VuZENvbG9yIH0gKTtcblx0XHRiYWNrZ3JvdW5kSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHR0aGlzLmNoYXJhY3RlcnNbY3VycmVudEluZGV4XS5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kSW5wdXQudmFsdWU7XG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdGNoYXJFZGl0b3JEaXYucmVtb3ZlKCk7XG5cdFx0XHR0aGlzLkxvYWRDaGFyYWN0ZXJFZGl0b3JVSShzbnYsIGRpdik7XG5cdFx0fVxuXHRcdHN3YXBCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdHRoaXMuY2hhcmFjdGVyc1tjdXJyZW50SW5kZXhdLmJhY2tncm91bmRDb2xvciA9IGNvbG9ySW5wdXQudmFsdWU7XG5cdFx0XHR0aGlzLmNoYXJhY3RlcnNbY3VycmVudEluZGV4XS5jb2xvciA9IGJhY2tncm91bmRJbnB1dC52YWx1ZTtcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xuXHRcdFx0Y2hhckVkaXRvckRpdi5yZW1vdmUoKTtcblx0XHRcdHRoaXMuTG9hZENoYXJhY3RlckVkaXRvclVJKHNudiwgZGl2KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIExvYWRQYWdlU2VsZWN0b3Ioc252OiBTb3VyY2VBbmRWYXVsdCwgbWFpbkRpdjogSFRNTERpdkVsZW1lbnQpIHtcblx0XHRjb25zdCBidXR0b25zRGl2ID0gbWFpbkRpdi5jcmVhdGVEaXYoJ2hib3gnKTtcblx0XHRjb25zdCBiYWNrQnV0dG9uID0gYnV0dG9uc0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnLScgfSApO1xuXHRcdGNvbnN0IHBhZ2VOdW1iZXJJbnB1dCA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiAnJyArICh0aGlzLmN1cnJlbnRQYWdlSW5kZXggKyAxKSB9ICk7XG5cdFx0YnV0dG9uc0Rpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJycgKyAnLycgKyB0aGlzLnBhZ2VzLmxlbmd0aCB9ICk7XG5cdFx0Y29uc3QgbmV4dEJ1dHRvbiA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJysnIH0gKTtcblx0XHRjb25zdCBkZWxldGVCdXR0b24gPSBidXR0b25zRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdEZWxldGUgUGFnZScgfSApO1xuXHRcdGRlbGV0ZUJ1dHRvbi5jbGFzc05hbWUgPSAnY2ZlLXJlbW92ZS1idXR0b24nO1xuXHRcdGNvbnN0IGFkZEJ1dHRvbiA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0FkZCBQYWdlJyB9ICk7XG5cdFx0Y29uc3QgZWRpdE1vZGVCdXR0b24gPSBidXR0b25zRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdFZGl0IE1vZGUnIH0gKTtcblx0XHRjb25zdCB2aWV3TW9kZUJ1dHRvbiA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1ZpZXcgTW9kZScgfSApO1xuXHRcdGNvbnN0IGhvbWVCdXR0b24gPSBidXR0b25zRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdSZXR1cm4gdG8gU3RvcnknIH0gKTtcblx0XHRob21lQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRhd2FpdCB0aGlzLkxvYWRTdG9yeVVJKHNudiwgbWFpbkRpdik7XG5cdFx0fVxuXHRcdGVkaXRNb2RlQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRhd2FpdCB0aGlzLkxvYWRDdXJyZW50UGFnZUVkaXQoc252LCBtYWluRGl2KTtcblx0XHR9XG5cdFx0dmlld01vZGVCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdGF3YWl0IHRoaXMuTG9hZEN1cnJlbnRQYWdlRGlzcGxheU9ubHkoc252LCBtYWluRGl2KTtcblx0XHR9XG5cdFx0YmFja0J1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKHRoaXMuY3VycmVudFBhZ2VJbmRleCA+IDApIHtcblx0XHRcdFx0dGhpcy5jdXJyZW50UGFnZUluZGV4LS07XG5cdFx0XHRcdGF3YWl0IHRoaXMuTG9hZEN1cnJlbnRQYWdlRWRpdChzbnYsIG1haW5EaXYpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRuZXh0QnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAodGhpcy5jdXJyZW50UGFnZUluZGV4IDwgdGhpcy5wYWdlcy5sZW5ndGgpIHtcblx0XHRcdFx0dGhpcy5jdXJyZW50UGFnZUluZGV4Kys7XG5cdFx0XHRcdGF3YWl0IHRoaXMuTG9hZEN1cnJlbnRQYWdlRWRpdChzbnYsIG1haW5EaXYpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRwYWdlTnVtYmVySW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHR0aGlzLmN1cnJlbnRQYWdlSW5kZXggPSBwYXJzZUludChwYWdlTnVtYmVySW5wdXQudmFsdWUpIC0gMTtcblx0XHRcdGF3YWl0IHRoaXMuTG9hZEN1cnJlbnRQYWdlRWRpdChzbnYsIG1haW5EaXYpO1xuXHRcdH1cblx0XHRkZWxldGVCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdHRoaXMucGFnZXMuc3BsaWNlKHRoaXMuY3VycmVudFBhZ2VJbmRleCwgMSk7XG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdGlmICh0aGlzLmN1cnJlbnRQYWdlSW5kZXggIT09IDApIHtcblx0XHRcdFx0dGhpcy5jdXJyZW50UGFnZUluZGV4LS07XG5cdFx0XHR9XG5cdFx0XHRhd2FpdCB0aGlzLkxvYWRDdXJyZW50UGFnZUVkaXQoc252LCBtYWluRGl2KTtcblx0XHR9XG5cdFx0YWRkQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRjb25zdCBkZWZhdWx0UGFnZSA9IG5ldyBQYWdlKCk7XG5cdFx0XHRjb25zdCB0aGlzUGFnZUZpbGVJRCA9IHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XS5tZWRpYUZpbGVJRDtcblx0XHRcdGlmICh0aGlzUGFnZUZpbGVJRCAhPT0gLTEgJiYgdGhpc1BhZ2VGaWxlSUQgPCBzbnYuc291cmNlRm9sZGVyLmZpbGVDb3VudCkge1xuXHRcdFx0XHRkZWZhdWx0UGFnZS5tZWRpYUZpbGVJRCA9IHRoaXNQYWdlRmlsZUlEO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5wYWdlcy5zcGxpY2UodGhpcy5jdXJyZW50UGFnZUluZGV4ICsgMSwgMCwgZGVmYXVsdFBhZ2UpO1xuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XG5cdFx0XHR0aGlzLmN1cnJlbnRQYWdlSW5kZXgrKztcblx0XHRcdGF3YWl0IHRoaXMuTG9hZEN1cnJlbnRQYWdlRWRpdChzbnYsIG1haW5EaXYpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgTG9hZEN1cnJlbnRQYWdlRWRpdChzbnY6IFNvdXJjZUFuZFZhdWx0LCBtYWluRGl2OiBIVE1MRGl2RWxlbWVudCkge1xuXHRcdG1haW5EaXYuZW1wdHkoKTtcblx0XHR0aGlzLkxvYWRQYWdlU2VsZWN0b3Ioc252LCBtYWluRGl2KTtcblxuXHRcdG1haW5EaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdNZWRpYSBGaWxlIElEOicgfSApO1xuXHRcdGNvbnN0IG1lZGlhRmlsZUlESW5wdXQgPSBtYWluRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnIH0gKTtcblx0XHRcblx0XHRjb25zdCBwYW5lbERpdiA9IG1haW5EaXYuY3JlYXRlRGl2KCdoYm94Jyk7XG5cdFx0Y29uc3Qgb3V0ZXJNZWRpYURpdiA9IHBhbmVsRGl2LmNyZWF0ZURpdigndmJveCcpO1xuXHRcdG91dGVyTWVkaWFEaXYuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuXHRcdGNvbnN0IGxpbmVzRGl2ID0gcGFuZWxEaXYuY3JlYXRlRGl2KCd2Ym94Jyk7XG5cblx0XHRjb25zdCBzcGVha0RpdiA9IG91dGVyTWVkaWFEaXYuY3JlYXRlRGl2KCk7XG5cdFx0c3BlYWtEaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXHRcdHNwZWFrRGl2LnN0eWxlLnRvcCA9ICcwcHgnO1xuXHRcdHNwZWFrRGl2LnN0eWxlLmxlZnQgPSAnMHB4JztcblxuXHRcdGNvbnN0IG1lZGlhV2lkdGhJbnB1dCA9IG91dGVyTWVkaWFEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcgfSApO1xuXHRcdG1lZGlhV2lkdGhJbnB1dC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdG91dGVyTWVkaWFEaXYuc3R5bGUud2lkdGggPSBtZWRpYVdpZHRoSW5wdXQudmFsdWUgKyAnJSc7XG5cdFx0XHRsaW5lc0Rpdi5zdHlsZS53aWR0aCA9IDEwMCAtIHBhcnNlSW50KG1lZGlhV2lkdGhJbnB1dC52YWx1ZSkgKyAnJSc7XG5cdFx0XHR0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF0ubWVkaWFTaXplUGVyY2VudGFnZSA9IHBhcnNlSW50KG1lZGlhV2lkdGhJbnB1dC52YWx1ZSk7XG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHR9XG5cblx0XHRjb25zdCBtZWRpYURpdiA9IG91dGVyTWVkaWFEaXYuY3JlYXRlRGl2KCd2Ym94Jyk7XG5cdFx0b3V0ZXJNZWRpYURpdi5zdHlsZS53aWR0aCA9ICc1MCUnO1xuXHRcdG1lZGlhRGl2LnN0eWxlLm9iamVjdEZpdCA9ICdjb250YWluJztcblx0XHRsaW5lc0Rpdi5zdHlsZS53aWR0aCA9ICc1MCUnO1xuXHRcdGxpbmVzRGl2LnN0eWxlLm1heEhlaWdodCA9ICc4MHZoJztcblx0XHRsaW5lc0Rpdi5zdHlsZS5wb3NpdGlvbiA9ICdzdGlja3knO1xuXHRcdGxpbmVzRGl2LnN0eWxlLnRvcCA9ICcwJSc7XG5cblx0XHRpZiAodGhpcy5jdXJyZW50UGFnZUluZGV4IDwgdGhpcy5wYWdlcy5sZW5ndGgpIHtcblx0XHRcdGNvbnN0IGN1cnJlbnRQYWdlID0gdGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdO1xuXHRcdFx0Y29uc3QgbWVkaWFGaWxlSUQgPSBjdXJyZW50UGFnZS5tZWRpYUZpbGVJRDtcblx0XHRcdG1lZGlhRmlsZUlESW5wdXQudmFsdWUgPSAnJyArIGN1cnJlbnRQYWdlLm1lZGlhRmlsZUlEO1xuXHRcdFx0aWYgKG1lZGlhRmlsZUlEID4gMCkge1xuXHRcdFx0XHRjb25zdCBtZWRpYUZpbGUgPSA8U2luZ2xlTWVkaWFGaWxlPiBhd2FpdCBDRkVGaWxlSGFuZGxlci5Mb2FkRmlsZShzbnYsIG1lZGlhRmlsZUlEKTtcblx0XHRcdFx0YXdhaXQgbWVkaWFGaWxlLkRpc3BsYXlNZWRpYU9ubHkobWVkaWFEaXYsIHNudik7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLm1lZGlhU2l6ZVBlcmNlbnRhZ2UpIHtcblx0XHRcdFx0bWVkaWFXaWR0aElucHV0LnZhbHVlID0gJycgKyB0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF0ubWVkaWFTaXplUGVyY2VudGFnZTtcblx0XHRcdFx0b3V0ZXJNZWRpYURpdi5zdHlsZS53aWR0aCA9IG1lZGlhV2lkdGhJbnB1dC52YWx1ZSArICclJztcblx0XHRcdFx0bGluZXNEaXYuc3R5bGUud2lkdGggPSAxMDAgLSBwYXJzZUludChtZWRpYVdpZHRoSW5wdXQudmFsdWUpICsgJyUnO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bWVkaWFXaWR0aElucHV0LnZhbHVlID0gJzUwJztcblx0XHRcdFx0dGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLm1lZGlhU2l6ZVBlcmNlbnRhZ2UgPSA1MDtcblx0XHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IGRlZmF1bHRQYWdlID0gbmV3IFBhZ2UoKTtcblx0XHRcdGNvbnN0IGxhc3RQYWdlID0gdGhpcy5jdXJyZW50UGFnZUluZGV4IC0gMTtcblx0XHRcdGlmIChsYXN0UGFnZSA+PSAwICYmIHRoaXMuY3VycmVudFBhZ2VJbmRleCAhPT0gMCkge1xuXHRcdFx0XHRjb25zdCBsYXN0UGFnZUZpbGVJRCA9IHRoaXMucGFnZXNbbGFzdFBhZ2VdLm1lZGlhRmlsZUlEO1xuXHRcdFx0XHRjb25zdCBsYXN0UGFnZVNpemUgPSB0aGlzLnBhZ2VzW2xhc3RQYWdlXS5tZWRpYVNpemVQZXJjZW50YWdlO1xuXHRcdFx0XHRkZWZhdWx0UGFnZS5tZWRpYVNpemVQZXJjZW50YWdlID0gbGFzdFBhZ2VTaXplO1xuXHRcdFx0XHRtZWRpYVdpZHRoSW5wdXQudmFsdWUgPSAnJyArIGxhc3RQYWdlU2l6ZTtcblx0XHRcdFx0b3V0ZXJNZWRpYURpdi5zdHlsZS53aWR0aCA9IG1lZGlhV2lkdGhJbnB1dC52YWx1ZSArICclJztcblx0XHRcdFx0bGluZXNEaXYuc3R5bGUud2lkdGggPSAxMDAgLSBwYXJzZUludChtZWRpYVdpZHRoSW5wdXQudmFsdWUpICsgJyUnO1xuXHRcdFx0XHRpZiAobGFzdFBhZ2VGaWxlSUQgIT09IC0xICYmIGxhc3RQYWdlRmlsZUlEIDwgc252LnNvdXJjZUZvbGRlci5maWxlQ291bnQpIHtcblx0XHRcdFx0XHRjb25zdCBtZWRpYUZpbGVJRCA9IGxhc3RQYWdlRmlsZUlEICsgMTtcblx0XHRcdFx0XHRkZWZhdWx0UGFnZS5tZWRpYUZpbGVJRCA9IG1lZGlhRmlsZUlEO1xuXHRcdFx0XHRcdG1lZGlhRmlsZUlESW5wdXQudmFsdWUgPSAnJyArIG1lZGlhRmlsZUlEO1xuXHRcdFx0XHRcdGlmIChtZWRpYUZpbGVJRCA+IDApIHtcblx0XHRcdFx0XHRcdGNvbnN0IG1lZGlhRmlsZSA9IDxTaW5nbGVNZWRpYUZpbGU+IGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNudiwgbWVkaWFGaWxlSUQpO1xuXHRcdFx0XHRcdFx0YXdhaXQgbWVkaWFGaWxlLkRpc3BsYXlNZWRpYU9ubHkobWVkaWFEaXYsIHNudik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnBhZ2VzLnB1c2goZGVmYXVsdFBhZ2UpO1xuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XG5cdFx0fVxuXHRcdGF3YWl0IHRoaXMuTG9hZERpYWxvZ3VlTGluZXNFZGl0KHNudiwgbGluZXNEaXYsIHNwZWFrRGl2LCBtYWluRGl2KTtcblx0XHRtZWRpYUZpbGVJRElucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0Y29uc3QgY3VycmVudFBhZ2UgPSB0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF07XG5cdFx0XHRjdXJyZW50UGFnZS5tZWRpYUZpbGVJRCA9IHBhcnNlSW50KG1lZGlhRmlsZUlESW5wdXQudmFsdWUpO1xuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XG5cdFx0XHRjb25zdCBtZWRpYUZpbGUgPSA8U2luZ2xlTWVkaWFGaWxlPiBhd2FpdCBDRkVGaWxlSGFuZGxlci5Mb2FkRmlsZShzbnYsIGN1cnJlbnRQYWdlLm1lZGlhRmlsZUlEKTtcblx0XHRcdGF3YWl0IG1lZGlhRmlsZS5EaXNwbGF5TWVkaWFPbmx5KG1lZGlhRGl2LCBzbnYpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgTG9hZEN1cnJlbnRQYWdlRGlzcGxheU9ubHkoc252OiBTb3VyY2VBbmRWYXVsdCwgbWFpbkRpdjogSFRNTERpdkVsZW1lbnQpIHtcblx0XHRtYWluRGl2LmVtcHR5KCk7XG5cblx0XHR0aGlzLkxvYWRQYWdlU2VsZWN0b3Ioc252LCBtYWluRGl2KTtcblx0XHRcblx0XHRjb25zdCBwYW5lbERpdiA9IG1haW5EaXYuY3JlYXRlRGl2KCdoYm94Jyk7XG5cdFx0Y29uc3Qgb3V0ZXJNZWRpYURpdiA9IHBhbmVsRGl2LmNyZWF0ZURpdigndmJveCcpO1xuXHRcdG91dGVyTWVkaWFEaXYuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuXHRcdGNvbnN0IGxpbmVzRGl2ID0gcGFuZWxEaXYuY3JlYXRlRGl2KCd2Ym94Jyk7XG5cdFx0XG5cdFx0Y29uc3Qgc3BlYWtEaXYgPSBvdXRlck1lZGlhRGl2LmNyZWF0ZURpdigpO1xuXHRcdHNwZWFrRGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcblx0XHRzcGVha0Rpdi5zdHlsZS50b3AgPSAnMHB4Jztcblx0XHRzcGVha0Rpdi5zdHlsZS5sZWZ0ID0gJzBweCc7XG5cblx0XHRjb25zdCBtZWRpYURpdiA9IG91dGVyTWVkaWFEaXYuY3JlYXRlRGl2KCd2Ym94Jyk7XG5cdFx0b3V0ZXJNZWRpYURpdi5zdHlsZS53aWR0aCA9ICc1MCUnO1xuXHRcdG1lZGlhRGl2LnN0eWxlLm9iamVjdEZpdCA9ICdjb250YWluJztcblx0XHRsaW5lc0Rpdi5zdHlsZS53aWR0aCA9ICc1MCUnO1xuXHRcdGxpbmVzRGl2LnN0eWxlLm1heEhlaWdodCA9ICc4MHZoJztcblx0XHRsaW5lc0Rpdi5zdHlsZS5wb3NpdGlvbiA9ICdzdGlja3knO1xuXHRcdGxpbmVzRGl2LnN0eWxlLnRvcCA9ICcwJSc7XG5cblx0XHRjb25zdCBjdXJyZW50UGFnZSA9IHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XTtcblx0XHRjb25zdCBtZWRpYUZpbGVJRCA9IGN1cnJlbnRQYWdlLm1lZGlhRmlsZUlEO1xuXHRcdGlmIChtZWRpYUZpbGVJRCA+IDApIHtcblx0XHRcdGNvbnN0IG1lZGlhRmlsZSA9IDxTaW5nbGVNZWRpYUZpbGU+IGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNudiwgbWVkaWFGaWxlSUQpO1xuXHRcdFx0YXdhaXQgbWVkaWFGaWxlLkRpc3BsYXlNZWRpYU9ubHkobWVkaWFEaXYsIHNudik7XG5cdFx0fVxuXHRcdGlmICh0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF0ubWVkaWFTaXplUGVyY2VudGFnZSkge1xuXHRcdFx0Y29uc3Qgd2lkdGggPSB0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF0ubWVkaWFTaXplUGVyY2VudGFnZTtcblx0XHRcdG91dGVyTWVkaWFEaXYuc3R5bGUud2lkdGggPSB3aWR0aCArICclJztcblx0XHRcdGxpbmVzRGl2LnN0eWxlLndpZHRoID0gMTAwIC0gd2lkdGggKyAnJSc7XG5cdFx0fVxuXHRcdGF3YWl0IHRoaXMuTG9hZERpYWxvZ3VlTGluZXNEaXNwbGF5T25seShsaW5lc0Rpdiwgc3BlYWtEaXYsIG1haW5EaXYpO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBMb2FkRGlhbG9ndWVMaW5lc0VkaXQoc252OiBTb3VyY2VBbmRWYXVsdCwgbGluZXNEaXY6IEhUTUxEaXZFbGVtZW50LCBzcGVha0RpdjogSFRNTERpdkVsZW1lbnQsIGNsZWFuRGl2OiBIVE1MRGl2RWxlbWVudCkge1xuXHRcdGxpbmVzRGl2LmVtcHR5KCk7XG5cblx0XHRjb25zdCBleGlzdGluZ0xpbmVzRGl2ID0gbGluZXNEaXYuY3JlYXRlRGl2KCk7XG5cdFx0ZXhpc3RpbmdMaW5lc0Rpdi5jbGFzc05hbWUgPSB0aGlzLmRvVmVydGljYWwgPyAnaGJveCcgOiAndmJveCc7XG5cdFx0aWYgKHRoaXMuZG9WZXJ0aWNhbCkge1xuXHRcdFx0ZXhpc3RpbmdMaW5lc0Rpdi5zdHlsZS5vdmVyZmxvd1ggPSAnc2Nyb2xsJztcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZXhpc3RpbmdMaW5lc0Rpdi5zdHlsZS5vdmVyZmxvd1kgPSAnc2Nyb2xsJztcblx0XHR9XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF0ubGluZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGN1cnJlbnRJbmRleCA9IGk7XG5cdFx0XHRjb25zdCBjdXJyZW50TGluZSA9IHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XS5saW5lc1tpXTtcblx0XHRcdGNvbnN0IHNwZWFrZXIgPSB0aGlzLmNoYXJhY3RlcnNbY3VycmVudExpbmUuc3BlYWtlckluZGV4XTtcblxuXHRcdFx0Y29uc3QgbGluZURpdiA9IGV4aXN0aW5nTGluZXNEaXYuY3JlYXRlRGl2KCk7XG5cdFx0XHRsaW5lRGl2LmNsYXNzTmFtZSA9IHRoaXMuZG9WZXJ0aWNhbCA/ICd2Ym94JyA6ICdoYm94JztcblxuXHRcdFx0Y29uc3QgZGVsZXRlQnV0dG9uID0gbGluZURpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnLScgfSApO1xuXHRcdFx0ZGVsZXRlQnV0dG9uLmNsYXNzTmFtZSA9ICdjZmUtcmVtb3ZlLWJ1dHRvbic7XG5cdFx0XHRkZWxldGVCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0dGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLmxpbmVzLnNwbGljZShjdXJyZW50SW5kZXgsIDEpO1xuXHRcdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdFx0YXdhaXQgdGhpcy5Mb2FkRGlhbG9ndWVMaW5lc0VkaXQoc252LCBsaW5lc0Rpdiwgc3BlYWtEaXYsIGNsZWFuRGl2KTtcblx0XHRcdH1cblx0XHRcdGlmICh0aGlzLmRvVmVydGljYWwpIHtcblx0XHRcdFx0dGhpcy5NYWtlVmVydGljYWwoZGVsZXRlQnV0dG9uKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgcGxheUJ1dHRvbiA9IGxpbmVEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1x1MjVCNycgfSApO1xuXHRcdFx0cGxheUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdExhbmd1YWdlSGFuZGxlci5TcGVha09yQW5pbWF0ZShjbGVhbkRpdiwgc3BlYWtEaXYsIHRoaXMubGFuZ3VhZ2UsIGN1cnJlbnRMaW5lLmNvbnRlbnQsIDE1MCwgdGhpcy5kb1ZlcnRpY2FsKTtcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdGUuY29uc29sZS5lcnJvcigpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGNvbnN0IGNoYXJEcm9wZG93bkJ1dHRvbiA9IGxpbmVEaXYuY3JlYXRlRGl2KCk7XG5cdFx0XHRjb25zdCBjaGFyRHJvcGRvd25EaXYgPSBjaGFyRHJvcGRvd25CdXR0b24uY3JlYXRlRGl2KCk7XG5cdFx0XHRjaGFyRHJvcGRvd25EaXYuc3R5bGUuaGVpZ2h0ID0gJ2ZpdC1jb250ZW50Jztcblx0XHRcdGNoYXJEcm9wZG93bkRpdi5zdHlsZS53aWR0aCA9ICdmaXQtY29udGVudCc7XG5cdFx0XHRjaGFyRHJvcGRvd25EaXYuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuXHRcdFx0Y2hhckRyb3Bkb3duQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IHNlbGVjdERpdiA9IGNoYXJEcm9wZG93bkRpdi5jcmVhdGVEaXYoKTtcblx0XHRcdFx0c2VsZWN0RGl2LmNsYXNzTmFtZSA9IHRoaXMuZG9WZXJ0aWNhbCA/ICdoYm94JyA6ICd2Ym94Jztcblx0XHRcdFx0c2VsZWN0RGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcblx0XHRcdFx0c2VsZWN0RGl2LnN0eWxlLnRvcCA9ICcwJSc7XG5cdFx0XHRcdHNlbGVjdERpdi5zdHlsZS5sZWZ0ID0gJzAlJztcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoYXJhY3RlcnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRjb25zdCBjdXJyZW50Q2hhckluZGV4ID0gaTtcblx0XHRcdFx0XHRjb25zdCBjdXJyZW50Q2hhciA9IHRoaXMuY2hhcmFjdGVyc1tjdXJyZW50Q2hhckluZGV4XTtcblx0XHRcdFx0XHRjb25zdCBjdXJyZW50T3B0aW9uID0gc2VsZWN0RGl2LmNyZWF0ZURpdigpO1xuXHRcdFx0XHRcdGlmICh0aGlzLmRvVmVydGljYWwpIHtcblx0XHRcdFx0XHRcdHRoaXMuTWFrZVZlcnRpY2FsKGN1cnJlbnRPcHRpb24pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAodGhpcy5sYW5ndWFnZSAhPT0gJ0NvbG9yIExhbmcnKSB7XG5cdFx0XHRcdFx0XHRjdXJyZW50T3B0aW9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGN1cnJlbnRDaGFyLmJhY2tncm91bmRDb2xvcjtcblx0XHRcdFx0XHRcdGN1cnJlbnRPcHRpb24uc3R5bGUuY29sb3IgPSBjdXJyZW50Q2hhci5jb2xvcjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y3VycmVudE9wdGlvbi5zdHlsZS56SW5kZXggPSAnMic7XG5cdFx0XHRcdFx0TGFuZ3VhZ2VIYW5kbGVyLkRpc3BsYXkoc3BlYWtEaXYsIGN1cnJlbnRPcHRpb24sIHRoaXMubGFuZ3VhZ2UsIGN1cnJlbnRDaGFyLm5hbWUsIHRoaXMuZm9udFNpemUsIHRoaXMuZG9WZXJ0aWNhbCk7XG5cdFx0XHRcdFx0Y3VycmVudE9wdGlvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLmxpbmVzW2N1cnJlbnRJbmRleF0uc3BlYWtlckluZGV4ID0gY3VycmVudENoYXJJbmRleDtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xuXHRcdFx0XHRcdFx0dGhpcy5Mb2FkRGlhbG9ndWVMaW5lc0VkaXQoc252LCBsaW5lc0Rpdiwgc3BlYWtEaXYsIGNsZWFuRGl2KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgbmFtZUVsID0gTGFuZ3VhZ2VIYW5kbGVyLkRpc3BsYXkoc3BlYWtEaXYsIGNoYXJEcm9wZG93bkRpdiwgdGhpcy5sYW5ndWFnZSwgdGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRMaW5lLnNwZWFrZXJJbmRleF0ubmFtZSwgdGhpcy5mb250U2l6ZSwgdGhpcy5kb1ZlcnRpY2FsKTtcblx0XHRcdGlmICh0aGlzLmxhbmd1YWdlICE9PSAnQ29sb3IgTGFuZycpIHtcblx0XHRcdFx0bmFtZUVsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHNwZWFrZXIuYmFja2dyb3VuZENvbG9yO1xuXHRcdFx0XHRuYW1lRWwuc3R5bGUuY29sb3IgPSBzcGVha2VyLmNvbG9yO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBsaW5lSW5wdXQgPSB0aGlzLkRpc3BsYXlMaW5lRWRpdChjbGVhbkRpdiwgbGluZURpdiwgY3VycmVudExpbmUpO1xuXHRcdFx0aWYgKHRoaXMuZG9WZXJ0aWNhbCkge1xuXHRcdFx0XHRsaW5lSW5wdXQuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bGluZUlucHV0LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXHRcdFx0fVxuXG5cdFx0XHRsaW5lSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdGN1cnJlbnRMaW5lLmNvbnRlbnQgPSBsaW5lSW5wdXQudmFsdWU7XG5cdFx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjb25zdCBhZGRCdXR0b24gPSBleGlzdGluZ0xpbmVzRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICcrJyB9ICk7XG5cdFx0YWRkQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHR0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF0ubGluZXMucHVzaChuZXcgRGlhbG9ndWVMaW5lKDApKTtcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xuXHRcdFx0YXdhaXQgdGhpcy5Mb2FkRGlhbG9ndWVMaW5lc0VkaXQoc252LCBsaW5lc0Rpdiwgc3BlYWtEaXYsIGNsZWFuRGl2KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIExvYWREaWFsb2d1ZUxpbmVzRGlzcGxheU9ubHkobGluZXNEaXY6IEhUTUxEaXZFbGVtZW50LCBzcGVha0RpdjogSFRNTERpdkVsZW1lbnQsIGNsZWFuRGl2OiBIVE1MRGl2RWxlbWVudCkge1xuXHRcdGxpbmVzRGl2LmVtcHR5KCk7XG5cblx0XHRjb25zdCBleGlzdGluZ0xpbmVzRGl2ID0gbGluZXNEaXYuY3JlYXRlRGl2KCk7XG5cdFx0ZXhpc3RpbmdMaW5lc0Rpdi5jbGFzc05hbWUgPSB0aGlzLmRvVmVydGljYWwgPyAnaGJveCcgOiAndmJveCcgO1xuXHRcdGlmICh0aGlzLmRvVmVydGljYWwpIHtcblx0XHRcdGV4aXN0aW5nTGluZXNEaXYuc3R5bGUub3ZlcmZsb3dYID0gJ3Njcm9sbCc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGV4aXN0aW5nTGluZXNEaXYuc3R5bGUub3ZlcmZsb3dZID0gJ3Njcm9sbCc7XG5cdFx0fVxuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF0ubGluZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGN1cnJlbnRMaW5lID0gdGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLmxpbmVzW2ldO1xuXHRcdFx0Y29uc3Qgc3BlYWtlciA9IHRoaXMuY2hhcmFjdGVyc1tjdXJyZW50TGluZS5zcGVha2VySW5kZXhdO1xuXHRcdFx0XG5cdFx0XHRjb25zdCBwbGF5QnV0dG9uID0gZXhpc3RpbmdMaW5lc0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnXHUyNUI3JyB9ICk7XG5cdFx0XHRjb25zdCBuYW1lRGl2ID0gZXhpc3RpbmdMaW5lc0Rpdi5jcmVhdGVEaXYoJycpO1xuXHRcdFx0Y29uc3QgbGluZURpdiA9IGV4aXN0aW5nTGluZXNEaXYuY3JlYXRlRGl2KCcnKTtcblxuXHRcdFx0Y29uc3QgbmFtZUVsID0gTGFuZ3VhZ2VIYW5kbGVyLkRpc3BsYXkoY2xlYW5EaXYsIG5hbWVEaXYsIHRoaXMubGFuZ3VhZ2UsIHNwZWFrZXIubmFtZSwgdGhpcy5mb250U2l6ZSwgdGhpcy5kb1ZlcnRpY2FsKTtcblx0XHRcdGlmICh0aGlzLmxhbmd1YWdlICE9PSAnQ29sb3IgTGFuZycpIHtcblx0XHRcdFx0bmFtZUVsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHNwZWFrZXIuYmFja2dyb3VuZENvbG9yO1xuXHRcdFx0XHRuYW1lRWwuc3R5bGUuY29sb3IgPSBzcGVha2VyLmNvbG9yO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBsaW5lRWwgPSBMYW5ndWFnZUhhbmRsZXIuRGlzcGxheShjbGVhbkRpdiwgbGluZURpdiwgdGhpcy5sYW5ndWFnZSwgY3VycmVudExpbmUuY29udGVudCwgdGhpcy5mb250U2l6ZSwgdGhpcy5kb1ZlcnRpY2FsKTtcblx0XHRcdGlmICh0aGlzLmxhbmd1YWdlICE9PSAnQ29sb3IgTGFuZycpIHtcblx0XHRcdFx0bGluZUVsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHNwZWFrZXIuYmFja2dyb3VuZENvbG9yO1xuXHRcdFx0XHRsaW5lRWwuc3R5bGUuY29sb3IgPSBzcGVha2VyLmNvbG9yO1xuXHRcdFx0fVxuXG5cdFx0XHRwbGF5QnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0TGFuZ3VhZ2VIYW5kbGVyLlNwZWFrT3JBbmltYXRlKGNsZWFuRGl2LCBzcGVha0RpdiwgdGhpcy5sYW5ndWFnZSwgY3VycmVudExpbmUuY29udGVudCwgMTUwLCB0aGlzLmRvVmVydGljYWwpO1xuXHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0ZS5jb25zb2xlLmVycm9yKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxufVxuXG5jbGFzcyBQYWdlIHtcblx0bWVkaWFGaWxlSUQ6IG51bWJlcjtcblx0bGluZXM6IERpYWxvZ3VlTGluZVtdO1xuXHRtZWRpYVNpemVQZXJjZW50YWdlOiBudW1iZXI7XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMubWVkaWFGaWxlSUQgPSAtMTtcblx0XHR0aGlzLmxpbmVzID0gW107XG5cdFx0dGhpcy5tZWRpYVNpemVQZXJjZW50YWdlID0gNTA7XG5cdH1cbn1cblxuY2xhc3MgRGlhbG9ndWVMaW5lIHtcblx0c3BlYWtlckluZGV4OiBudW1iZXI7XG5cdGNvbnRlbnQ6IHN0cmluZztcblx0Y29uc3RydWN0b3Ioc3BlYWtlckluZGV4OiBudW1iZXIpIHtcblx0XHR0aGlzLnNwZWFrZXJJbmRleCA9IHNwZWFrZXJJbmRleDtcblx0XHR0aGlzLmNvbnRlbnQgPSAnJztcblx0fVxufVxuXG5jbGFzcyBDaGFyYWN0ZXIge1xuXHRuYW1lOiBzdHJpbmc7XG5cdGNvbG9yOiBzdHJpbmc7XG5cdGJhY2tncm91bmRDb2xvcjogc3RyaW5nO1xuXHRjb25zdHJ1Y3RvcihuYW1lID0gJycsIGNvbG9yID0gJyNGRkZGRkYnLCBiYWNrZ3JvdW5kQ29sb3IgPSAnIzAwMDAwMCcpIHtcblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xuXHRcdHRoaXMuY29sb3IgPSBjb2xvcjtcblx0XHR0aGlzLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRDb2xvcjtcblx0fVxufVxuIiwgImltcG9ydCB7IENGRUZpbGUgfSBmcm9tIFwiLi9jZmUtZmlsZVwiO1xuaW1wb3J0IHsgRm9sZGVyIH0gZnJvbSBcIi4vZm9sZGVyXCI7XG5pbXBvcnQgeyBQbGF5bGlzdCB9IGZyb20gXCIuL3BsYXlsaXN0XCI7XG5pbXBvcnQgeyBTaW5nbGVNZWRpYUZpbGUgfSBmcm9tIFwiLi9zaW5nbGUtbWVkaWEtZmlsZVwiO1xuaW1wb3J0IHsgU291cmNlQW5kVmF1bHQgfSBmcm9tIFwiLi9zbnZcIjtcbmltcG9ydCB7IFZhcmlhbnRNZWRpYUZpbGUgfSBmcm9tIFwiLi92YXJpYW50LW1lZGlhLWZpbGVcIjtcbmltcG9ydCB7IFNvdXJjZUZvbGRlclNob3J0Y3V0IH0gZnJvbSBcIi4vc291cmNlLWZvbGRlci1zaG9ydGN1dFwiO1xuaW1wb3J0IHsgQ29ubGFuZ0RpY3Rpb25hcnkgfSBmcm9tIFwiLi9jb25sYW5nLWRpY3Rpb25hcnlcIjtcbmltcG9ydCB7IFN0b3J5IH0gZnJvbSBcIi4vc3RvcnlcIjtcblxuZXhwb3J0IGNsYXNzIENGRUZpbGVIYW5kbGVyIHtcblxuXHQvKipcblx0ICogQWxsIG9mIHRoZSBrbm93biBmaWxlIGZvcm1hdHNcblx0ICovXG5cdHN0YXRpYyBLbm93bkZpbGVUeXBlczogc3RyaW5nW10gPSBbXG5cdFx0J0ZvbGRlcicsXG5cdFx0J1NpbmdsZSBNZWRpYSBGaWxlJyxcblx0XHQnVmFyaWFudCBNZWRpYSBGaWxlJyxcblx0XHQnUGxheWxpc3QnLFxuXHRcdCdTdG9yeScsXG5cdFx0J1NvdXJjZSBGb2xkZXIgU2hvcnRjdXQnLFxuXHRcdCdDb25sYW5nIERpY3Rpb25hcnknXG5cdF1cblxuXHRzdGF0aWMgYXN5bmMgQ3JlYXRlTmV3KHNudjogU291cmNlQW5kVmF1bHQsIGZpbGVUeXBlOiBzdHJpbmcsIHBhcmVudEZvbGRlcklEOiBudW1iZXIsIG5hbWU6IHN0cmluZyk6IFByb21pc2U8Q0ZFRmlsZT4ge1xuXHRcdGxldCBuZXdGaWxlOiBDRkVGaWxlO1xuXHRcdHN3aXRjaChmaWxlVHlwZSkge1xuXHRcdFx0Y2FzZSAnRm9sZGVyJzpcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdG5ld0ZpbGUgPSBhd2FpdCBGb2xkZXIuQ3JlYXRlTmV3RmlsZUZvckxheWVyKHNudiwgZmlsZVR5cGUsIHBhcmVudEZvbGRlcklELCBuYW1lKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdTaW5nbGUgTWVkaWEgRmlsZSc6XG5cdFx0XHRcdG5ld0ZpbGUgPSBhd2FpdCBTaW5nbGVNZWRpYUZpbGUuQ3JlYXRlTmV3RmlsZUZvckxheWVyKHNudiwgZmlsZVR5cGUsIHBhcmVudEZvbGRlcklELCBuYW1lKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdWYXJpYW50IE1lZGlhIEZpbGUnOlxuXHRcdFx0XHRuZXdGaWxlID0gYXdhaXQgVmFyaWFudE1lZGlhRmlsZS5DcmVhdGVOZXdGaWxlRm9yTGF5ZXIoc252LCBmaWxlVHlwZSwgcGFyZW50Rm9sZGVySUQsIG5hbWUpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ1BsYXlsaXN0Jzpcblx0XHRcdFx0bmV3RmlsZSA9IGF3YWl0IFBsYXlsaXN0LkNyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnYsIGZpbGVUeXBlLCBwYXJlbnRGb2xkZXJJRCwgbmFtZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnU3RvcnknOlxuXHRcdFx0XHRuZXdGaWxlID0gYXdhaXQgU3RvcnkuQ3JlYXRlTmV3RmlsZUZvckxheWVyKHNudiwgZmlsZVR5cGUsIHBhcmVudEZvbGRlcklELCBuYW1lKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdTb3VyY2UgRm9sZGVyIFNob3J0Y3V0Jzpcblx0XHRcdFx0bmV3RmlsZSA9IGF3YWl0IFNvdXJjZUZvbGRlclNob3J0Y3V0LkNyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnYsIGZpbGVUeXBlLCBwYXJlbnRGb2xkZXJJRCwgbmFtZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnQ29ubGFuZyBEaWN0aW9uYXJ5Jzpcblx0XHRcdFx0bmV3RmlsZSA9IGF3YWl0IENvbmxhbmdEaWN0aW9uYXJ5LkNyZWF0ZU5ld0ZpbGVGb3JMYXllcihzbnYsIGZpbGVUeXBlLCBwYXJlbnRGb2xkZXJJRCwgbmFtZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblx0XHRhd2FpdCBuZXdGaWxlLlNhdmUoc252KTtcblx0XHRyZXR1cm4gbmV3RmlsZTtcblx0fVxuXG5cdHN0YXRpYyBhc3luYyBMb2FkRmlsZShzbnY6IFNvdXJjZUFuZFZhdWx0LCBmaWxlSUQ6IG51bWJlcik6IFByb21pc2U8Q0ZFRmlsZT4ge1xuXHRcdGNvbnN0IHNvdXJjZUZvbGRlciA9IHNudi5zb3VyY2VGb2xkZXI7XG5cdFx0Y29uc3QgdmF1bHQgPSBzbnYudmF1bHQ7XG5cblx0XHRjb25zdCB0RmlsZSA9IHZhdWx0LmdldEZpbGVCeVBhdGgoc291cmNlRm9sZGVyLnZhdWx0UGF0aCArICcvJyArIGZpbGVJRCArICcuanNvbicpO1xuXHRcdGlmICh0RmlsZSA9PT0gbnVsbCkge1xuXHRcdFx0dGhyb3cgRXJyb3IoXCJGaWxlIGNvdWxkIG5vdCBiZSBmb3VuZCBhdCB0aGUgcGF0aDogXCIgKyBzb3VyY2VGb2xkZXIudmF1bHRQYXRoICsgJy8nICsgZmlsZUlEICsgJy5qc29uJyk7XG5cdFx0fVxuXHRcdGNvbnN0IGpzb25EYXRhID0gYXdhaXQgdmF1bHQuY2FjaGVkUmVhZCh0RmlsZSk7XG5cdFx0Y29uc3QgcGxhaW5PYmplY3QgPSBKU09OLnBhcnNlKGpzb25EYXRhKTtcblx0XHRzd2l0Y2gocGxhaW5PYmplY3QuZmlsZVR5cGUpIHtcblx0XHRcdGNhc2UgJ0ZvbGRlcic6XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgRm9sZGVyKCksIHBsYWluT2JqZWN0KTtcblx0XHRcdGNhc2UgJ1NpbmdsZSBNZWRpYSBGaWxlJzpcblx0XHRcdFx0cmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IFNpbmdsZU1lZGlhRmlsZSgpLCBwbGFpbk9iamVjdCk7XG5cdFx0XHRjYXNlICdWYXJpYW50IE1lZGlhIEZpbGUnOlxuXHRcdFx0XHRyZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgVmFyaWFudE1lZGlhRmlsZSgpLCBwbGFpbk9iamVjdCk7XG5cdFx0XHRjYXNlICdQbGF5bGlzdCc6XG5cdFx0XHRcdHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBQbGF5bGlzdCgpLCBwbGFpbk9iamVjdCk7XG5cdFx0XHRjYXNlICdTdG9yeSc6XG5cdFx0XHRcdHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBTdG9yeSgpLCBwbGFpbk9iamVjdCk7XG5cdFx0XHRjYXNlICdTb3VyY2UgRm9sZGVyIFNob3J0Y3V0Jzpcblx0XHRcdFx0cmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IFNvdXJjZUZvbGRlclNob3J0Y3V0KCksIHBsYWluT2JqZWN0KTtcblx0XHRcdGNhc2UgJ0NvbmxhbmcgRGljdGlvbmFyeSc6XG5cdFx0XHRcdHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBDb25sYW5nRGljdGlvbmFyeSgpLCBwbGFpbk9iamVjdCk7XG5cdFx0fVxuXHR9XG59XG4iLCAiaW1wb3J0IHsgVmF1bHQgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IFNvdXJjZUZvbGRlciB9IGZyb20gXCIuL3NvdXJjZS1mb2xkZXJcIjtcblxuZXhwb3J0IGNsYXNzIFNvdXJjZUFuZFZhdWx0IHtcblx0c291cmNlRm9sZGVyOiBTb3VyY2VGb2xkZXI7XG5cdHZhdWx0OiBWYXVsdDtcblx0Y29uc3RydWN0b3Ioc291cmNlRm9sZGVyOiBTb3VyY2VGb2xkZXIsIHZhdWx0OiBWYXVsdCkge1xuXHRcdHRoaXMuc291cmNlRm9sZGVyID0gc291cmNlRm9sZGVyO1xuXHRcdHRoaXMudmF1bHQgPSB2YXVsdDtcblx0fVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7O0FDQUEsSUFBQUEsbUJBQXdDOzs7QUNBeEMsSUFBQUMsbUJBQTZDOzs7QUNBN0Msc0JBQThCO0FBY3ZCLElBQU0sV0FBTixNQUFjO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBbUNwQixhQUFhLHNCQUFzQixLQUFxQixVQUFrQixnQkFBd0IsTUFBZ0M7QUFDakksVUFBTSxlQUFlLElBQUk7QUFHekIsVUFBTSxpQkFBaUIsSUFBSSxTQUFRO0FBQ25DLG1CQUFlLEtBQUssYUFBYTtBQUNqQyxtQkFBZSxXQUFXO0FBQzFCLG1CQUFlLFdBQVc7QUFDMUIsbUJBQWUsaUJBQWlCO0FBR2hDLGlCQUFhO0FBQ2IsVUFBTSxhQUFhLEtBQUssR0FBRztBQUczQixRQUFJLGVBQWUsT0FBTyxlQUFlLGdCQUFnQjtBQUN4RCxZQUFNLGVBQXlCLE1BQU0sZUFBZSxTQUFTLEtBQUssZUFBZSxjQUFjO0FBQy9GLG1CQUFhLGlCQUFpQixLQUFLLGVBQWUsRUFBRTtBQUNwRCxZQUFNLGFBQWEsS0FBSyxHQUFHO0FBQUEsSUFDNUI7QUFHQSxXQUFPO0FBQUEsRUFDUjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFZQSxNQUFNLGlCQUFpQixnQkFBZ0MsY0FBOEIsWUFBNEI7QUFDaEgsaUJBQWEsWUFBWTtBQUN6QixpQkFBYSxVQUFVLFlBQVk7QUFDbEMsWUFBTSxLQUFLLFFBQVEs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QzlCLFFBQUksU0FBUyxNQUFNO0FBQ2xCLFVBQUksd0JBQU8sZ0RBQWdEO0FBQzNEO0FBQUEsSUFDRDtBQUNBLFVBQU0sS0FBSyxhQUFhLEVBQUUsTUFBTSxXQUFXLFFBQVEsS0FBSyxDQUFDO0FBR3pELGNBQVUsV0FBVyxJQUFJO0FBQUEsRUFDMUI7QUFDRDtBQUVBLElBQU0sbUJBQU4sY0FBK0Isa0NBQWlCO0FBQUEsRUFHL0MsWUFBWSxLQUFVLFFBQWE7QUFDbEMsVUFBTSxLQUFLLE1BQU07QUFDakIsU0FBSyxTQUFTO0FBQUEsRUFDZjtBQUFBLEVBRUEsVUFBZ0I7QUFDZixVQUFNLEVBQUMsWUFBVyxJQUFJO0FBRXRCLGdCQUFZLE1BQU07QUFFbEIsUUFBSSx5QkFBUSxXQUFXLEVBQ3JCLFFBQVEscUJBQXFCLEVBQzdCLFFBQVEsNkRBQTZELEVBQ3JFLFFBQVEsVUFBUSxLQUNmLGVBQWUscUJBQXFCLEVBQ3BDLFNBQVMsS0FBSyxPQUFPLFNBQVMsV0FBVyxFQUN6QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixXQUFLLE9BQU8sU0FBUyxjQUFjO0FBQ25DLFlBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxJQUNoQyxDQUFDLENBQUM7QUFBQSxFQUNMO0FBQ0Q7IiwKICAibmFtZXMiOiBbImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImkiLCAiaW1wb3J0X29ic2lkaWFuIl0KfQo=
