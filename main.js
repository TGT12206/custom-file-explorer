/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => CFE
});
module.exports = __toCommonJS(main_exports);

// classes/custom-explorer-view.ts
var import_obsidian5 = require("obsidian");

// classes/source-folder.ts
var import_obsidian4 = require("obsidian");

// classes/cfe-file-handler.ts
var import_obsidian3 = require("obsidian");

// classes/cfe-file.ts
var import_obsidian = require("obsidian");
var _CFEFile = class {
  /**
   * SHOULD NOT BE CALLED OUTSIDE OF CFEFileHandler.
   * 
   * Use CFEFileHandler.CreateNew() instead.
   * 
   * CHILD CLASSES SHOULD NOT WRITE TO A FILE. THIS IS DONE INSIDE OF CFEFileHandler
   * 
   * CFEFile layer:
   * 
   * sets the source, id, file type, file name, and parent folder id of the file object.
   */
  static async CreateNewFileForLayer(data) {
    const sourceAndVault = data.snv;
    const sourceFolder = sourceAndVault.sourceFolder;
    const unfinishedFile = new _CFEFile();
    unfinishedFile.id = sourceFolder.fileCount;
    unfinishedFile.fileType = data.fileType;
    unfinishedFile.fileName = "";
    unfinishedFile.parentFolderID = data.parentFolderID;
    sourceFolder.fileCount++;
    await SourceFolder.Save(sourceAndVault);
    if (unfinishedFile.id !== unfinishedFile.parentFolderID) {
      const parentFolder = await CFEFileHandler.LoadFile(sourceAndVault, unfinishedFile.parentFolderID);
      parentFolder.containedFileIDs.push(unfinishedFile.id);
      await parentFolder.Save(sourceAndVault);
    }
    return unfinishedFile;
  }
  /**
   * SHOULD NOT BE CALLED OUTSIDE OF CFEFileHandler.
   * 
   * Use CFEFileHandler.DisplayThumbnail() instead.
   * 
   * CFEFile layer:
   * 
   * sets the thumbnail container's css class to 'cfe-thumbnail'
   * and fully displays the file if the thumbnail is clicked.
   */
  async DisplayThumbnail(sourceAndVault, thumbnailDiv, displayDiv) {
    thumbnailDiv.className = "cfe-thumbnail vbox";
    thumbnailDiv.onclick = async () => {
      await this.Display(sourceAndVault, displayDiv);
    };
    const idText = thumbnailDiv.createDiv("hbox");
    idText.textContent = "ID: " + this.id;
    idText.style.justifyContent = "center";
    const fileText = thumbnailDiv.createDiv("hbox");
    fileText.textContent = "File Type: " + this.fileType;
    fileText.style.justifyContent = "center";
    const nameText = thumbnailDiv.createDiv("hbox");
    nameText.textContent = "File Name: " + this.fileName;
    nameText.style.justifyContent = "center";
  }
  /**
   * SHOULD NOT BE CALLED OUTSIDE OF CFEFileHandler.
   * 
   * Use CFEFileHandler.Display() instead.
   * 
   * CFEFile layer:
   * 
   * empties the display container provided.
   */
  async Display(snv, container) {
    container.empty();
    const headerContainer = container.createDiv("hbox");
    const backButton = headerContainer.createEl("button", { text: "Back to parent folder" });
    headerContainer.createEl("p", { text: "File ID: " + this.id });
    headerContainer.createEl("p", { text: "File Name: " });
    const nameInput = headerContainer.createEl("input", { type: "text", value: this.fileName });
    backButton.onclick = async () => {
      const parentFolder = await CFEFileHandler.LoadFile(snv, this.parentFolderID);
      if (parentFolder !== null) {
        await parentFolder.Display(snv, container);
      }
    };
    nameInput.onchange = async () => {
      this.fileName = nameInput.value;
      await this.Save(snv);
    };
  }
  /**
   * SHOULD NOT BE CALLED OUTSIDE OF CFEFileHandler.
   * 
   * (it is unlikely this method will ever be overriden by child classes, but making this 'inaccessible' is for consistency)
   * 
   * Use CFEFileHandler.SaveFile() instead.
   * 
   * Formatted File layer:
   * 
   * Deletes this file ID from the original parent folder, adds this file to the new parent folder, and changes the parent folder ID
   */
  async MoveFile(sourceAndVault, newParentFolderID) {
    const oldParentFolder = await CFEFileHandler.LoadFile(sourceAndVault, this.parentFolderID);
    const indexOfFile = oldParentFolder.containedFileIDs.indexOf(this.id);
    oldParentFolder.containedFileIDs.splice(indexOfFile, 1);
    oldParentFolder.Save(sourceAndVault);
    const newParentFolder = await CFEFileHandler.LoadFile(sourceAndVault, newParentFolderID);
    newParentFolder.containedFileIDs.push(this.id);
    newParentFolder.Save(sourceAndVault);
    this.parentFolderID = newParentFolderID;
    this.Save(sourceAndVault);
  }
  async Save(sourceAndVault) {
    const sourceFolder = sourceAndVault.sourceFolder;
    const vault = sourceAndVault.vault;
    const filePath = sourceFolder.vaultPath + "/" + this.id + ".json";
    const jsonData = JSON.stringify(this);
    const tFile = vault.getFileByPath(filePath);
    if (tFile === null) {
      const normalizedPath = (0, import_obsidian.normalizePath)(filePath);
      await vault.adapter.write(normalizedPath, jsonData);
      return;
    }
    await vault.modify(tFile, jsonData);
  }
};
var CFEFile = _CFEFile;
CFEFile.FILE_NAME_INPUT_INDEX = 0;
CFEFile.PARENT_FOLDER_ID_INPUT_INDEX = 1;

// classes/file-creation-data.ts
var FileCreationData = class {
  constructor(snv, fileType, parentFolderID) {
    this.snv = snv;
    this.fileType = fileType;
    this.parentFolderID = parentFolderID;
  }
};

// classes/single-media-file.ts
var import_obsidian2 = require("obsidian");

// classes/real-file.ts
var RealFile = class extends CFEFile {
  constructor() {
    super(...arguments);
    this.fileType = "Real File";
  }
  async DisplayMediaOnly(mediaDiv, snv) {
    mediaDiv.empty();
  }
};

// classes/single-media-file.ts
var SingleMediaFile = class extends RealFile {
  constructor() {
    super(...arguments);
    this.fileType = "Single Media File";
  }
  get mediaType() {
    switch (this.extensionName) {
      case "png":
      case "jpg":
      case "webp":
      case "heic":
      case "gif":
        return "Image";
      case "mp4":
      case "MP4":
      case "mov":
      case "MOV":
      default:
        return "Video";
    }
  }
  async getSrc(snv) {
    const mediaFile = await this.getTFile(snv);
    const arrayBuffer = await snv.vault.readBinary(mediaFile);
    const blob = new Blob([arrayBuffer]);
    const mediaUrl = URL.createObjectURL(blob);
    return mediaUrl;
  }
  async getTFile(snv) {
    const mediaPath = await this.getPath(snv);
    const mediaFile = snv.vault.getFileByPath(mediaPath);
    if (mediaFile === null) {
      throw Error("Image not found at path: " + mediaPath);
    }
    return mediaFile;
  }
  async getPath(snv) {
    const sourceFolder = snv.sourceFolder;
    return sourceFolder.vaultPath + "/" + this.id + " Actual File." + this.extensionName;
  }
  static async CreateNewFileForLayer(data) {
    const newMediaFile = await super.CreateNewFileForLayer(data);
    newMediaFile.extensionName = "";
    return newMediaFile;
  }
  async Display(snv, container) {
    await super.Display(snv, container);
    const imageDisplayContainer = container.createDiv("vbox");
    imageDisplayContainer.createEl("p", { text: "Change file" });
    const newFileInput = imageDisplayContainer.createEl("input", { type: "file" });
    await this.DisplayMediaOnly(imageDisplayContainer, snv);
    newFileInput.onchange = async () => {
      try {
        const oldFile = await this.getTFile(snv);
        try {
          await snv.vault.delete(oldFile);
        } finally {
          await this.SaveNewFile(snv, newFileInput);
          this.Display(snv, container);
        }
      } catch (e) {
        console.log();
      }
    };
  }
  async SaveNewFile(snv, fileInput) {
    const fileArray = fileInput.files;
    if (fileArray === null) {
      throw Error("no file was selected");
    }
    const mediaFile = fileArray[0];
    await this.SetFileTo(snv, mediaFile);
  }
  async SetFileTo(snv, mediaFile) {
    const partsOfPath = mediaFile.name.split(".");
    const extension = partsOfPath[partsOfPath.length - 1];
    this.fileName = partsOfPath[0];
    this.extensionName = extension;
    const path = snv.sourceFolder.vaultPath + "/" + this.id + " Actual File." + extension;
    const normalizedPath = (0, import_obsidian2.normalizePath)(path);
    await snv.vault.adapter.writeBinary(normalizedPath, await mediaFile.arrayBuffer());
    await this.Save(snv);
  }
  async DisplayMediaOnly(mediaDiv, snv) {
    await super.DisplayMediaOnly(mediaDiv, snv);
    if (this.mediaType === "Image") {
      const imageElement = mediaDiv.createEl("img");
      imageElement.src = await this.getSrc(snv);
      imageElement.style.objectFit = "contain";
    } else {
      const videoElement = mediaDiv.createEl("video");
      videoElement.src = await this.getSrc(snv);
      videoElement.controls = true;
      videoElement.loop = true;
      videoElement.autoplay = true;
      videoElement.style.objectFit = "contain";
    }
  }
};

// classes/folder.ts
var Folder = class extends CFEFile {
  /**
   * @override Folder layer:
   * 
   * initializes the contained file ids array for the folder object
   */
  static async CreateNewFileForLayer(data) {
    const unfinishedFolder = await super.CreateNewFileForLayer(data);
    unfinishedFolder.containedFileIDs = [];
    return unfinishedFolder;
  }
  async Display(snv, mainDiv) {
    await super.Display(snv, mainDiv);
    const createButtonsDiv = mainDiv.createDiv("hbox");
    const newFileButton = createButtonsDiv.createEl("button", { text: "Create New File" });
    newFileButton.onclick = () => {
      this.LoadCreateFileUI(snv, mainDiv);
    };
    const mediaFilesButton = createButtonsDiv.createEl("button", { text: "Upload Multiple Images / Videos" });
    mediaFilesButton.onclick = () => {
      this.LoadFileSelectionUI(snv, mainDiv);
    };
    const folderDisplayContainer = mainDiv.createDiv("cfe-grid");
    for (let i = 0; i < this.containedFileIDs.length; i++) {
      const containedFile = await CFEFileHandler.LoadFile(snv, this.containedFileIDs[i]);
      if (containedFile !== null) {
        await containedFile.DisplayThumbnail(snv, folderDisplayContainer.createDiv(), mainDiv);
      }
    }
  }
  LoadCreateFileUI(snv, mainDiv) {
    const data = new FileCreationData(snv, "Folder", 0);
    const popUpContainer = mainDiv.createDiv("vbox cfe-popup");
    popUpContainer.createEl("p", { text: "Choose a File Type to create: " });
    const fileTypeDropdown = popUpContainer.createEl("select");
    popUpContainer.createEl("p", { text: "Parent Folder ID: " });
    const parentFolderIDInput = popUpContainer.createEl("input", { type: "text", value: "" + this.id });
    for (let i = 0; i < CFEFileHandler.KnownFileTypes.length; i++) {
      const option = fileTypeDropdown.createEl("option");
      option.value = CFEFileHandler.KnownFileTypes[i];
      option.text = CFEFileHandler.KnownFileTypes[i];
      fileTypeDropdown.options.add(option);
    }
    const exitButton = popUpContainer.createEl("button", { text: "X", cls: "cfe-exit-button" });
    exitButton.onclick = () => {
      popUpContainer.remove();
    };
    const submitButton = popUpContainer.createEl("button", { text: "Create" });
    submitButton.onclick = async () => {
      data.fileType = fileTypeDropdown.value;
      data.parentFolderID = parseInt(parentFolderIDInput.value);
      await CFEFileHandler.CreateNew(data);
      exitButton.click();
      const resettedFolder = await CFEFileHandler.LoadFile(snv, this.id);
      await resettedFolder.Display(snv, mainDiv);
    };
  }
  LoadFileSelectionUI(snv, mainDiv) {
    const popUpContainer = mainDiv.createDiv("vbox cfe-popup");
    popUpContainer.createEl("p", { text: "Choose your files" });
    const fileInput = popUpContainer.createEl("input", { type: "file" });
    fileInput.multiple = true;
    popUpContainer.createEl("p", { text: "Parent Folder ID: " });
    const parentFolderIDInput = popUpContainer.createEl("input", { type: "text", value: "" + this.id });
    const exitButton = popUpContainer.createEl("button", { text: "X", cls: "cfe-exit-button" });
    exitButton.onclick = () => {
      popUpContainer.remove();
    };
    const submitButton = popUpContainer.createEl("button", { text: "Create" });
    submitButton.onclick = async () => {
      const fileArray = fileInput.files;
      const parentFolderID = parseInt(parentFolderIDInput.value);
      if (fileArray !== null) {
        for (let i = 0; i < fileArray.length; i++) {
          const data = new FileCreationData(snv, "Single Media File", parentFolderID);
          const cfeFile = await CFEFileHandler.CreateNew(data);
          const mediaFile = Object.assign(new SingleMediaFile(), cfeFile);
          await mediaFile.SetFileTo(snv, fileArray[i]);
          await mediaFile.Save(snv);
        }
        exitButton.click();
        const resettedFolder = await CFEFileHandler.LoadFile(snv, this.id);
        await resettedFolder.Display(snv, mainDiv);
      }
    };
  }
};

// classes/hwayu-story.ts
var HwayuStory = class extends CFEFile {
  constructor() {
    super(...arguments);
    this.fileType = "Hwayu Story";
  }
  get font() {
    return "HwayuReal";
  }
  static async CreateNewFileForLayer(data) {
    const newStoryFile = await super.CreateNewFileForLayer(data);
    newStoryFile.currentPageIndex = 0;
    newStoryFile.pages = [];
    newStoryFile.characters = [];
    return newStoryFile;
  }
  async Display(snv, mainDiv) {
    await super.Display(snv, mainDiv);
    await this.LoadStoryUI(snv, mainDiv.createDiv("vbox"));
  }
  async LoadStoryUI(snv, mainDiv) {
    mainDiv.empty();
    mainDiv.createEl("p", { text: "Go to page number:" });
    const pageSelectDiv = mainDiv.createDiv("hbox");
    const pageNumberInput = pageSelectDiv.createEl("input", { type: "text", value: "" + (this.currentPageIndex + 1) });
    pageSelectDiv.createEl("p", { text: "/" + this.pages.length });
    const goButton = pageSelectDiv.createEl("button", { text: "Go" });
    goButton.onclick = () => {
      this.currentPageIndex = parseInt(pageNumberInput.value) - 1;
      this.LoadCurrentPage(snv, mainDiv);
    };
    this.LoadCharacterEditorUI(snv, mainDiv);
  }
  LoadCharacterEditorUI(snv, mainDiv) {
    const editorDiv = mainDiv.createDiv("vbox");
    const addCharButton = mainDiv.createEl("button", { text: "Add Character" });
    let count = 0;
    for (let i = 0; i < this.characters.length; i++) {
      const currentIndex = count;
      count++;
      const charDiv = editorDiv.createDiv("vbox");
      const nameDiv = charDiv.createDiv("hbox");
      nameDiv.createEl("p", { text: "Name: " });
      const nameInput = nameDiv.createEl("input", { type: "text", value: this.characters[i].name });
      const colorDiv = editorDiv.createDiv("hbox");
      colorDiv.createEl("p", { text: "Text Color:" });
      const colorInput = colorDiv.createEl("input", { type: "color", value: this.characters[i].color });
      colorDiv.createEl("p", { text: "Background Color:" });
      const backgroundInput = colorDiv.createEl("input", { type: "color", value: this.characters[i].backgroundColor });
      const swapButton = colorDiv.createEl("button", { text: "Swap" });
      nameInput.onchange = async () => {
        this.characters[currentIndex].name = nameInput.value;
        await this.Save(snv);
      };
      colorInput.onchange = async () => {
        this.characters[currentIndex].color = colorInput.value;
        await this.Save(snv);
      };
      backgroundInput.onchange = async () => {
        this.characters[currentIndex].backgroundColor = backgroundInput.value;
        await this.Save(snv);
      };
      swapButton.onclick = async () => {
        this.characters[currentIndex].backgroundColor = colorInput.value;
        this.characters[currentIndex].color = backgroundInput.value;
        backgroundInput.value = this.characters[currentIndex].backgroundColor;
        colorInput.value = this.characters[currentIndex].color;
        await this.Save(snv);
      };
    }
    addCharButton.onclick = () => {
      const currentIndex = count;
      count++;
      this.characters.push(new Character("", "white", "black"));
      const charDiv = editorDiv.createDiv("vbox");
      const nameDiv = charDiv.createDiv("hbox");
      nameDiv.createEl("p", { text: "Name: " });
      const nameInput = nameDiv.createEl("input", { type: "text" });
      const colorDiv = editorDiv.createDiv("hbox");
      colorDiv.createEl("p", { text: "Text Color:" });
      const colorInput = colorDiv.createEl("input", { type: "color", value: this.characters[count - 1].color });
      colorDiv.createEl("p", { text: "Background Color:" });
      const backgroundInput = colorDiv.createEl("input", { type: "color", value: this.characters[count - 1].backgroundColor });
      const swapButton = colorDiv.createEl("button", { text: "Swap" });
      nameInput.onchange = () => {
        this.characters[currentIndex].name = nameInput.value;
        this.Save(snv);
      };
      colorInput.onchange = async () => {
        this.characters[currentIndex].color = colorInput.value;
        await this.Save(snv);
      };
      backgroundInput.onchange = async () => {
        this.characters[currentIndex].backgroundColor = backgroundInput.value;
        await this.Save(snv);
      };
      swapButton.onclick = async () => {
        this.characters[currentIndex].backgroundColor = colorInput.value;
        this.characters[currentIndex].color = backgroundInput.value;
        backgroundInput.value = this.characters[currentIndex].backgroundColor;
        colorInput.value = this.characters[currentIndex].color;
        await this.Save(snv);
      };
      this.Save(snv);
    };
  }
  LoadPageSelector(snv, mainDiv) {
    const buttonsDiv = mainDiv.createDiv("hbox");
    const backButton = buttonsDiv.createEl("button", { text: "-" });
    const pageNumberInput = buttonsDiv.createEl("input", { type: "text", value: "" + (this.currentPageIndex + 1) });
    buttonsDiv.createEl("p", { text: "/" + this.pages.length });
    const nextButton = buttonsDiv.createEl("button", { text: "+" });
    const deleteButton = buttonsDiv.createEl("button", { text: "Delete Page" });
    deleteButton.className = "cfe-remove-button";
    const addButton = buttonsDiv.createEl("button", { text: "Add Page" });
    backButton.onclick = async () => {
      if (this.currentPageIndex > 0) {
        this.currentPageIndex--;
        await this.LoadCurrentPage(snv, mainDiv);
      }
    };
    nextButton.onclick = async () => {
      if (this.currentPageIndex < this.pages.length) {
        this.currentPageIndex++;
        await this.LoadCurrentPage(snv, mainDiv);
      }
    };
    pageNumberInput.onchange = async () => {
      this.currentPageIndex = parseInt(pageNumberInput.value) - 1;
      await this.LoadCurrentPage(snv, mainDiv);
    };
    deleteButton.onclick = async () => {
      this.pages.splice(this.currentPageIndex, 1);
      await this.Save(snv);
      if (this.currentPageIndex !== 0) {
        this.currentPageIndex--;
      }
      await this.LoadCurrentPage(snv, mainDiv);
    };
    addButton.onclick = async () => {
      const defaultPage = new Page();
      const thisPageFileID = this.pages[this.currentPageIndex].mediaFileID;
      if (thisPageFileID !== -1 && thisPageFileID < snv.sourceFolder.fileCount) {
        defaultPage.mediaFileID = thisPageFileID;
      }
      this.pages.splice(this.currentPageIndex + 1, 0, defaultPage);
      await this.Save(snv);
      this.currentPageIndex++;
      await this.LoadCurrentPage(snv, mainDiv);
    };
  }
  async LoadCurrentPage(snv, mainDiv) {
    mainDiv.empty();
    const backButton = mainDiv.createEl("button", { text: "Return to Story" });
    backButton.onclick = async () => {
      await this.LoadStoryUI(snv, mainDiv);
    };
    this.LoadPageSelector(snv, mainDiv);
    mainDiv.createEl("p", { text: "Media File ID:" });
    const mediaFileIDInput = mainDiv.createEl("input", { type: "text" });
    const panelDiv = mainDiv.createDiv("hbox");
    const outerMediaDiv = panelDiv.createDiv("vbox");
    const linesDiv = panelDiv.createDiv("vbox");
    const mediaWidthInput = outerMediaDiv.createEl("input", { type: "text" });
    mediaWidthInput.onchange = async () => {
      outerMediaDiv.style.width = mediaWidthInput.value + "%";
      linesDiv.style.width = 100 - parseInt(mediaWidthInput.value) + "%";
      this.pages[this.currentPageIndex].mediaSizePercentage = parseInt(mediaWidthInput.value);
      await this.Save(snv);
    };
    const mediaDiv = outerMediaDiv.createDiv("vbox");
    outerMediaDiv.style.width = "50%";
    mediaDiv.style.objectFit = "contain";
    linesDiv.style.width = "50%";
    linesDiv.style.maxHeight = "80vh";
    linesDiv.style.position = "sticky";
    linesDiv.style.top = "0%";
    if (this.currentPageIndex < this.pages.length) {
      const currentPage = this.pages[this.currentPageIndex];
      const mediaFileID = currentPage.mediaFileID;
      mediaFileIDInput.value = "" + currentPage.mediaFileID;
      if (mediaFileID > 0) {
        const mediaFile = await CFEFileHandler.LoadFile(snv, mediaFileID);
        await mediaFile.DisplayMediaOnly(mediaDiv, snv);
      }
      if (this.pages[this.currentPageIndex].mediaSizePercentage) {
        mediaWidthInput.value = "" + this.pages[this.currentPageIndex].mediaSizePercentage;
        outerMediaDiv.style.width = mediaWidthInput.value + "%";
        linesDiv.style.width = 100 - parseInt(mediaWidthInput.value) + "%";
      } else {
        mediaWidthInput.value = "50";
        this.pages[this.currentPageIndex].mediaSizePercentage = 50;
        await this.Save(snv);
      }
    } else {
      const defaultPage = new Page();
      const lastPage = this.currentPageIndex - 1;
      if (lastPage >= 0 && this.currentPageIndex !== 0) {
        const lastPageFileID = this.pages[lastPage].mediaFileID;
        const lastPageSize = this.pages[lastPage].mediaSizePercentage;
        defaultPage.mediaSizePercentage = lastPageSize;
        mediaWidthInput.value = "" + lastPageSize;
        outerMediaDiv.style.width = mediaWidthInput.value + "%";
        linesDiv.style.width = 100 - parseInt(mediaWidthInput.value) + "%";
        if (lastPageFileID !== -1 && lastPageFileID < snv.sourceFolder.fileCount) {
          const mediaFileID = lastPageFileID + 1;
          defaultPage.mediaFileID = mediaFileID;
          mediaFileIDInput.value = "" + mediaFileID;
          if (mediaFileID > 0) {
            const mediaFile = await CFEFileHandler.LoadFile(snv, mediaFileID);
            await mediaFile.DisplayMediaOnly(mediaDiv, snv);
          }
        }
      }
      this.pages.push(defaultPage);
      await this.Save(snv);
    }
    await this.LoadDialogueLines(snv, linesDiv);
    mediaFileIDInput.onchange = async () => {
      const currentPage = this.pages[this.currentPageIndex];
      currentPage.mediaFileID = parseInt(mediaFileIDInput.value);
      await this.Save(snv);
      const mediaFile = await CFEFileHandler.LoadFile(snv, currentPage.mediaFileID);
      await mediaFile.DisplayMediaOnly(mediaDiv, snv);
    };
  }
  async LoadDialogueLines(snv, linesDiv) {
    const existingLinesDiv = linesDiv.createDiv("hbox");
    existingLinesDiv.style.overflowX = "scroll";
    const fontSize = "17.5px";
    for (let i = 0; i < this.pages[this.currentPageIndex].lines.length; i++) {
      const currentIndex = i;
      const currentLine = this.pages[this.currentPageIndex].lines[i];
      const speakerIndex = currentLine.speakerIndex;
      const currentSpeaker = this.characters[speakerIndex];
      const lineDiv = existingLinesDiv.createDiv("vbox");
      const deleteButton = lineDiv.createEl("button", { text: "-" });
      deleteButton.className = "cfe-remove-button";
      deleteButton.style.writingMode = "vertical-lr";
      deleteButton.style.textOrientation = "upright";
      deleteButton.onclick = async () => {
        this.pages[this.currentPageIndex].lines.splice(currentIndex, 1);
        await this.Save(snv);
        await this.LoadDialogueLines(snv, linesDiv);
      };
      const indexElement = lineDiv.createEl("p", { text: "" + currentIndex });
      indexElement.style.color = currentSpeaker.color;
      indexElement.style.fontFamily = this.font;
      indexElement.style.writingMode = "vertical-lr";
      indexElement.style.textOrientation = "upright";
      const charDropdownDiv = lineDiv.createDiv();
      charDropdownDiv.style.position = "relative";
      const charDropdown = charDropdownDiv.createEl("button");
      charDropdown.style.height = "fit-content";
      charDropdown.onclick = () => {
        const selectDiv = charDropdownDiv.createDiv("hbox");
        selectDiv.style.position = "absolute";
        selectDiv.style.top = "0%";
        selectDiv.style.left = "0%";
        for (let i2 = 0; i2 < this.characters.length; i2++) {
          const currentCharIndex = i2;
          const currentChar = this.characters[currentCharIndex];
          const currentOption = selectDiv.createEl("button", { text: currentChar.name, value: "" + i2 });
          currentOption.style.color = currentChar.color;
          currentOption.style.fontFamily = this.font;
          currentOption.style.backgroundColor = currentChar.backgroundColor;
          currentOption.style.writingMode = "vertical-lr";
          currentOption.style.textOrientation = "upright";
          currentOption.style.height = "fit-content";
          currentOption.style.zIndex = "2";
          currentOption.onclick = async () => {
            this.pages[this.currentPageIndex].lines[currentIndex].speakerIndex = currentCharIndex;
            const newSpeakerColor = this.characters[currentCharIndex].color;
            const newBackgroundColor = this.characters[currentCharIndex].backgroundColor;
            charDropdown.style.color = newSpeakerColor;
            charDropdown.style.backgroundColor = newBackgroundColor;
            charDropdown.textContent = this.characters[currentCharIndex].name;
            lineInput.style.color = newSpeakerColor;
            lineInput.style.backgroundColor = newBackgroundColor;
            indexElement.style.color = newSpeakerColor;
            await this.Save(snv);
            selectDiv.remove();
          };
        }
      };
      charDropdown.textContent = this.characters[currentLine.speakerIndex].name;
      charDropdown.style.color = currentSpeaker.color;
      charDropdown.style.backgroundColor = currentSpeaker.backgroundColor;
      charDropdown.style.fontFamily = this.font;
      charDropdown.style.writingMode = "vertical-lr";
      charDropdown.style.textOrientation = "upright";
      const lineInput = lineDiv.createEl("textarea");
      lineInput.spellcheck = false;
      lineInput.style.overflowX = "scroll";
      lineInput.style.writingMode = "vertical-lr";
      lineInput.style.textOrientation = "upright";
      lineInput.defaultValue = currentLine.line;
      lineInput.style.color = currentSpeaker.color;
      lineInput.style.backgroundColor = currentSpeaker.backgroundColor;
      lineInput.style.fontFamily = this.font;
      lineInput.style.fontSize = fontSize;
      lineInput.style.height = "100%";
      lineInput.onchange = async () => {
        this.pages[this.currentPageIndex].lines[currentIndex].line = lineInput.value;
        await this.Save(snv);
      };
    }
    const addButton = existingLinesDiv.createEl("button", { text: "+" });
    addButton.style.height = "100%";
    addButton.onclick = async () => {
      this.pages[this.currentPageIndex].lines.push(new DialogueLine(0, ""));
      await this.Save(snv);
      await this.LoadDialogueLines(snv, linesDiv);
    };
  }
};
var Page = class {
  constructor() {
    this.mediaFileID = -1;
    this.lines = [];
    this.mediaSizePercentage = 50;
  }
};
var DialogueLine = class {
  constructor(speakerIndex, line) {
    this.speakerIndex = speakerIndex;
    this.line = line;
  }
};
var Character = class {
  constructor(name, color, backgroundColor) {
    this.name = name;
    this.color = color;
    this.backgroundColor = backgroundColor;
  }
};

// classes/playlist.ts
var Playlist = class extends CFEFile {
  static getNextVideoIDInOrder(playlist) {
    let nextVideoIndex = playlist.currentVideoIndex + 1;
    if (nextVideoIndex >= playlist.videoIDs.length) {
      nextVideoIndex = 0;
    }
    return nextVideoIndex;
  }
  static getNextVideoIDShuffled(playlist) {
    let nextVideoIndex = Math.random() * playlist.videoIDs.length;
    nextVideoIndex = Math.floor(nextVideoIndex);
    return nextVideoIndex;
  }
  static async loadNextVideo(sourceAndVault, playlist, videoElement) {
    if (playlist.videoOrder === "shuffled") {
      playlist.currentVideoIndex = Playlist.getNextVideoIDShuffled(playlist);
    } else {
      playlist.currentVideoIndex = Playlist.getNextVideoIDInOrder(playlist);
    }
    const nextVideo = await CFEFileHandler.LoadFile(sourceAndVault, playlist.videoIDs[playlist.currentVideoIndex]);
    videoElement.src = await nextVideo.getSrc(sourceAndVault);
  }
  static async CreateNewFileForLayer(data) {
    const newPlaylistFile = await super.CreateNewFileForLayer(data);
    newPlaylistFile.videoIDs = [];
    return newPlaylistFile;
  }
  async Display(snv, container) {
    await super.Display(snv, container);
    this.currentVideoIndex = 0;
    const videoDisplayContainer = container.createDiv("cfe-display-video");
    const videoElement = videoDisplayContainer.createEl("video");
    const buttonsContainer = container.createDiv("hbox");
    const hideButton = buttonsContainer.createEl("button", { text: "hide video" });
    hideButton.onclick = () => {
      if (hideButton.textContent === "hide video") {
        hideButton.textContent = "show video";
        videoElement.style.display = "none";
      } else {
        hideButton.textContent = "hide video";
        videoElement.style.display = "flex";
      }
    };
    const shuffleButton = buttonsContainer.createEl("button", { text: "shuffle" });
    this.videoOrder = "in order";
    shuffleButton.onclick = () => {
      if (shuffleButton.textContent === "shuffle") {
        shuffleButton.textContent = "go in order";
        this.videoOrder = "shuffled";
      } else {
        shuffleButton.textContent = "shuffle";
        this.videoOrder = "in order";
      }
    };
    const nextButton = buttonsContainer.createEl("button", { text: "next video" });
    nextButton.onclick = async () => {
      await Playlist.loadNextVideo(snv, this, videoElement);
    };
    try {
      const firstVideo = await CFEFileHandler.LoadFile(snv, this.videoIDs[this.currentVideoIndex]);
      videoElement.src = await firstVideo.getSrc(snv);
      videoElement.autoplay = true;
      videoElement.controls = true;
      videoElement.ontimeupdate = async () => {
        if (videoElement.ended) {
          await Playlist.loadNextVideo(snv, this, videoElement);
        }
      };
    } finally {
      container.createEl("p", { text: "Change files" });
      let count = 0;
      const mediaIDInputDiv = container.createDiv("vbox");
      const newFileButton = container.createEl("button", { text: "Add File" });
      for (let i = 0; i < this.videoIDs.length; i++) {
        const currentIndex = count;
        count++;
        const mediaIDDiv = mediaIDInputDiv.createDiv("hbox");
        const idInput = mediaIDDiv.createEl("input", { type: "text", value: "" + this.videoIDs[currentIndex] });
        const deleteButton = mediaIDDiv.createEl("button", { text: "delete" });
        deleteButton.onclick = () => {
          mediaIDDiv.remove();
          this.videoIDs.splice(currentIndex, 1);
          this.Display(snv, container);
        };
        idInput.onchange = () => {
          this.videoIDs[currentIndex] = parseInt(idInput.value);
          this.Save(snv);
        };
      }
      newFileButton.onclick = () => {
        const currentIndex = count;
        count++;
        const mediaIDDiv = mediaIDInputDiv.createDiv("hbox");
        const idInput = mediaIDDiv.createEl("input", { type: "text" });
        const deleteButton = mediaIDDiv.createEl("button", { text: "delete" });
        deleteButton.onclick = () => {
          mediaIDDiv.remove();
          this.videoIDs.splice(currentIndex, 1);
          this.Display(snv, container);
        };
        idInput.onchange = () => {
          this.videoIDs[currentIndex] = parseInt(idInput.value);
          this.Save(snv);
        };
      };
    }
  }
};

// classes/variant-media-file.ts
var VariantMediaFile = class extends RealFile {
  constructor() {
    super(...arguments);
    this.fileType = "Variant Media File";
  }
  async getSrc(snv, index = null) {
    if (index === null) {
      index = Math.floor(Math.random() * this.variantIDs.length);
    }
    const containedMedia = await CFEFileHandler.LoadFile(snv, this.variantIDs[index]);
    return await containedMedia.getSrc(snv);
  }
  static async CreateNewFileForLayer(data) {
    const newMediaFile = await super.CreateNewFileForLayer(data);
    newMediaFile.variantIDs = [];
    return newMediaFile;
  }
  async Display(snv, container) {
    await super.Display(snv, container);
    const imageDisplayContainer = container.createDiv("vbox");
    imageDisplayContainer.createEl("p", { text: "Change files" });
    const mediaIDInputDiv = imageDisplayContainer.createDiv("vbox");
    const newFileButton = imageDisplayContainer.createEl("button", { text: "Add File" });
    for (let i = 0; i < this.variantIDs.length; i++) {
      const currentIndex = i;
      const mediaIDDiv = mediaIDInputDiv.createDiv("hbox");
      const idInput = mediaIDDiv.createEl("input", { type: "text", value: "" + this.variantIDs[currentIndex] });
      const deleteButton = mediaIDDiv.createEl("button", { text: "delete" });
      deleteButton.className = "cfe-remove-button";
      deleteButton.onclick = async () => {
        mediaIDDiv.remove();
        this.variantIDs.splice(currentIndex, 1);
        await this.Save(snv);
        await this.Display(snv, container);
      };
      idInput.onchange = async () => {
        this.variantIDs[currentIndex] = parseInt(idInput.value);
        await this.Save(snv);
        await this.Display(snv, container);
      };
    }
    newFileButton.onclick = async () => {
      this.variantIDs.push(-1);
      await this.Save(snv);
      await this.Display(snv, container);
    };
    const mediaDiv = imageDisplayContainer.createDiv("vbox");
    await this.DisplayMediaOnly(mediaDiv, snv);
  }
  async DisplayMediaOnly(mediaDiv, snv, index = -1) {
    if (index === -1) {
      index = Math.floor(Math.random() * this.variantIDs.length);
    }
    const containedMedia = await CFEFileHandler.LoadFile(snv, this.variantIDs[index]);
    await containedMedia.DisplayMediaOnly(mediaDiv, snv);
  }
};

// classes/source-folder-shortcut.ts
var SourceFolderShortcut = class extends CFEFile {
  /**
   * @override Folder layer:
   * 
   * initializes the contained file ids array for the folder object
   */
  static async CreateNewFileForLayer(data) {
    const unfinishedFolder = await super.CreateNewFileForLayer(data);
    unfinishedFolder.pathToOtherSource = "";
    return unfinishedFolder;
  }
  async Display(snv, mainDiv) {
    await super.Display(snv, mainDiv);
    const inputDiv = mainDiv.createDiv("vbox");
    inputDiv.createEl("p", { text: "Path to Other Source Folder" });
    const pathInput = inputDiv.createEl("input", { type: "text" });
    const goButton = inputDiv.createEl("button", { text: "Go" });
    pathInput.onchange = async () => {
      this.pathToOtherSource = pathInput.value;
      await this.Save(snv);
    };
    goButton.onclick = async () => {
      const otherSource = await SourceFolder.CreateOrLoadSourceFolder(this.pathToOtherSource, snv.vault);
      otherSource.Display(mainDiv, snv.vault);
    };
  }
};

// classes/conlangs/photolang-text.ts
var PhotoLang = class {
  static async Display(div, text = "", fontSize = 10, moveSpeeds = null, durations = null, doLoop = false) {
    const line = new PhotoLine(text);
    if (!moveSpeeds) {
      moveSpeeds = [100, 250, 500];
    }
    if (!durations) {
      durations = [0, 500];
    }
    await line.Speak(div, fontSize, moveSpeeds, durations, doLoop);
  }
  static DisplayEditor(div, existingText = "", fontSize = 17.5) {
    const textArea = div.createEl("textarea", { value: existingText });
    textArea.style.fontSize = fontSize + "px";
    return textArea;
  }
};
var PhotoLine = class {
  constructor(textContent = "") {
    this.glyphs = [];
    const textArray = textContent.split("   ").filter((c) => c !== "");
    for (let i = 0; i < textArray.length; i++) {
      const newGlyph = new PhotoGlyph();
      const glyphText = textArray[i];
      let j = 0;
      let skipNext = false;
      switch (glyphText[j]) {
        case ".":
          newGlyph.moveSpeed = 0;
          break;
        case "-":
          newGlyph.moveSpeed = 1;
          break;
        case "=":
          newGlyph.moveSpeed = 2;
          break;
      }
      j++;
      switch (glyphText[j]) {
        case ".":
          newGlyph.duration = 0;
          break;
        case "-":
          newGlyph.duration = 1;
          break;
      }
      j++;
      newGlyph.shape = glyphText[j];
      j++;
      let hue1 = 0;
      switch (glyphText[j]) {
        case "r":
          hue1 = 0;
          break;
        case "o":
          hue1 = 40;
          break;
        case "y":
          hue1 = 60;
          break;
        case "g":
          hue1 = 120;
          break;
        case "c":
          hue1 = 180;
          break;
        case "b":
          hue1 = 240;
          break;
        case "p":
          hue1 = 270;
          break;
        case ".":
          newGlyph.hue = 0;
          newGlyph.saturation = 0;
          skipNext = true;
          break;
      }
      j++;
      if (!skipNext) {
        let hue2 = 0;
        switch (glyphText[j]) {
          case "r":
            hue2 = 0;
            break;
          case "o":
            hue2 = 40;
            break;
          case "y":
            hue2 = 60;
            break;
          case "g":
            hue2 = 120;
            break;
          case "c":
            hue2 = 180;
            break;
          case "b":
            hue2 = 240;
            break;
          case "p":
            hue2 = 270;
            break;
          default:
            newGlyph.hue = hue1;
            skipNext = true;
            break;
        }
        if (!skipNext) {
          if (hue1 === 0 && hue2 === 270 || hue1 === 270 && hue2 === 0) {
            newGlyph.hue = 315;
          } else {
            newGlyph.hue = (hue1 + hue2) / 2;
          }
          j++;
        }
      }
      skipNext = false;
      const saturationText = glyphText[j];
      switch (saturationText) {
        case "0":
          newGlyph.saturation = 0;
          break;
        case "1":
          newGlyph.saturation = 0.25;
          break;
        case "2":
          newGlyph.saturation = 0.5;
          break;
        case "3":
          newGlyph.saturation = 0.75;
          break;
        case "4":
          newGlyph.saturation = 1;
          break;
      }
      j++;
      const valueText = glyphText[j];
      switch (valueText) {
        case "0":
          newGlyph.value = 0;
          break;
        case "1":
          newGlyph.value = 0.1;
          break;
        case "2":
          newGlyph.value = 0.2;
          break;
        case "3":
          newGlyph.value = 0.5;
          break;
        case "4":
          newGlyph.value = 1;
          break;
      }
      j++;
      const opacityText = glyphText[j];
      switch (opacityText) {
        case ".":
          newGlyph.opacity = 0;
          break;
        case "-":
          newGlyph.opacity = 0.5;
          break;
        case "=":
          newGlyph.opacity = 1;
          break;
      }
      j++;
      if (glyphText.contains("<")) {
        newGlyph.x = 0;
      } else if (glyphText.contains(">")) {
        newGlyph.x = 2;
      } else {
        newGlyph.x = 1;
      }
      if (glyphText.contains("v")) {
        newGlyph.y = 0;
      } else if (glyphText.contains("^")) {
        newGlyph.y = 2;
      } else {
        newGlyph.y = 1;
      }
      this.glyphs.push(newGlyph);
    }
  }
  async Speak(div, textSize, moveSpeeds, durations, doLoop = false) {
    div.style.fontSize = textSize + "px";
    div.style.fontFamily = "Photolang";
    div.style.position = "relative";
    div.style.height = textSize * 3.25 + "px";
    div.style.width = textSize * 3.25 + "px";
    const textDiv = div.createDiv();
    textDiv.style.position = "absolute";
    textDiv.style.bottom = textSize + "px";
    textDiv.style.transitionProperty = "bottom, left, color";
    for (let i = 0; i < this.glyphs.length; i++) {
      const photoGlyph = this.glyphs[i];
      textDiv.textContent = photoGlyph.shape;
      textDiv.style.left = photoGlyph.x * textSize + "px";
      textDiv.style.bottom = photoGlyph.y * textSize + "px";
      textDiv.style.color = photoGlyph.color;
      if (doLoop && i === this.glyphs.length - 1) {
        i = -1;
      }
      textDiv.style.transition = moveSpeeds[photoGlyph.moveSpeed] + "ms";
      await sleep(moveSpeeds[photoGlyph.moveSpeed] + durations[photoGlyph.duration]);
    }
    div.remove();
  }
  async DisplayStatic(div, textSize) {
    const lineDiv = div.createDiv("cfe-photolang-line");
    lineDiv.style.gridTemplateColumns = "repeat(10, " + textSize * 3.25 + "px)";
    lineDiv.style.gridTemplateRows = "repeat(10, " + textSize * 3.25 + "px)";
    for (let i = 0; i < this.glyphs.length; i++) {
      this.glyphs[i] = Object.assign(new PhotoGlyph(), this.glyphs[i]);
      this.glyphs[i].DisplayStatic(lineDiv.createDiv(), textSize);
    }
  }
};
var PhotoGlyph = class {
  get color() {
    let lightness = (2 - this.saturation) * this.value / 2;
    let newS = this.saturation * this.value / (lightness < 1 ? lightness * 2 : 2 - lightness * 2);
    if (lightness === 0 || lightness === 1) {
      newS = 0;
    }
    lightness *= 100;
    newS *= 100;
    return "hsla(" + this.hue + "," + newS + "%," + lightness + "%," + this.opacity + ")";
  }
  DisplayStatic(div, textSize) {
    const outerDiv = div.createDiv();
    outerDiv.style.position = "relative";
    outerDiv.style.width = textSize * 3.25 + "px";
    outerDiv.style.height = textSize * 3.25 + "px";
    outerDiv.className = "cfe-photoglyph";
    const glyphDiv = outerDiv.createDiv();
    glyphDiv.style.position = "absolute";
    glyphDiv.textContent = this.shape;
    glyphDiv.style.left = this.x * textSize + "px";
    glyphDiv.style.bottom = this.y * textSize + "px";
    glyphDiv.style.color = this.color;
  }
};

// classes/photolang-story.ts
var PhotolangStory = class extends CFEFile {
  constructor() {
    super(...arguments);
    this.fileType = "Photolang Story";
  }
  static async CreateNewFileForLayer(data) {
    const newStoryFile = await super.CreateNewFileForLayer(data);
    newStoryFile.currentPageIndex = 0;
    newStoryFile.pages = [];
    newStoryFile.characters = [];
    return newStoryFile;
  }
  async Display(snv, mainDiv) {
    await super.Display(snv, mainDiv);
    await this.LoadStoryUI(snv, mainDiv.createDiv("vbox"));
  }
  async LoadStoryUI(snv, mainDiv) {
    mainDiv.empty();
    mainDiv.createEl("p", { text: "Go to page number:" });
    const pageSelectDiv = mainDiv.createDiv("hbox");
    const pageNumberInput = pageSelectDiv.createEl("input", { type: "text", value: "" + (this.currentPageIndex + 1) });
    pageSelectDiv.createEl("p", { text: "/" + this.pages.length });
    const goButton = pageSelectDiv.createEl("button", { text: "Go" });
    goButton.onclick = () => {
      this.currentPageIndex = parseInt(pageNumberInput.value) - 1;
      this.LoadCurrentPageEdit(snv, mainDiv);
    };
    await this.LoadCharacterEditorUI(snv, mainDiv);
  }
  async LoadCharacterEditorUI(snv, div) {
    const charEditorDiv = div.createDiv("vbox");
    for (let i = 0; i < this.characters.length; i++) {
      const currentIndex = i;
      const charDiv = charEditorDiv.createDiv("vbox");
      charDiv.createEl("p", { text: "Name: " });
      const nameInput = charDiv.createEl("input", { type: "text", value: this.characters[i].name });
      nameInput.onchange = async () => {
        this.characters[currentIndex].name = nameInput.value;
        await this.Save(snv);
        await this.LoadStoryUI(snv, div);
      };
      const photoName = new PhotoLine(this.characters[i].name);
      photoName.Speak(charDiv.createDiv(), 50, [100, 250, 500], [0, 500], true);
    }
    const addCharButton = charEditorDiv.createEl("button", { text: "Add Character" });
    addCharButton.onclick = async () => {
      this.characters.push(new Character2());
      await this.Save(snv);
      charEditorDiv.remove();
      await this.LoadCharacterEditorUI(snv, div);
    };
  }
  LoadPageSelector(snv, mainDiv) {
    const buttonsDiv = mainDiv.createDiv("hbox");
    const backButton = buttonsDiv.createEl("button", { text: "-" });
    const pageNumberInput = buttonsDiv.createEl("input", { type: "text", value: "" + (this.currentPageIndex + 1) });
    buttonsDiv.createEl("p", { text: "/" + this.pages.length });
    const nextButton = buttonsDiv.createEl("button", { text: "+" });
    const deleteButton = buttonsDiv.createEl("button", { text: "Delete Page" });
    deleteButton.className = "cfe-remove-button";
    const addButton = buttonsDiv.createEl("button", { text: "Add Page" });
    const editModeButton = buttonsDiv.createEl("button", { text: "Edit Mode" });
    const viewModeButton = buttonsDiv.createEl("button", { text: "View Mode" });
    const homeButton = buttonsDiv.createEl("button", { text: "Return to Story" });
    homeButton.onclick = async () => {
      await this.LoadStoryUI(snv, mainDiv);
    };
    editModeButton.onclick = async () => {
      await this.LoadCurrentPageEdit(snv, mainDiv);
    };
    viewModeButton.onclick = async () => {
      await this.LoadCurrentPageDisplayOnly(snv, mainDiv);
    };
    backButton.onclick = async () => {
      if (this.currentPageIndex > 0) {
        this.currentPageIndex--;
        await this.LoadCurrentPageEdit(snv, mainDiv);
      }
    };
    nextButton.onclick = async () => {
      if (this.currentPageIndex < this.pages.length) {
        this.currentPageIndex++;
        await this.LoadCurrentPageEdit(snv, mainDiv);
      }
    };
    pageNumberInput.onchange = async () => {
      this.currentPageIndex = parseInt(pageNumberInput.value) - 1;
      await this.LoadCurrentPageEdit(snv, mainDiv);
    };
    deleteButton.onclick = async () => {
      this.pages.splice(this.currentPageIndex, 1);
      await this.Save(snv);
      if (this.currentPageIndex !== 0) {
        this.currentPageIndex--;
      }
      await this.LoadCurrentPageEdit(snv, mainDiv);
    };
    addButton.onclick = async () => {
      const defaultPage = new Page2();
      const thisPageFileID = this.pages[this.currentPageIndex].mediaFileID;
      if (thisPageFileID !== -1 && thisPageFileID < snv.sourceFolder.fileCount) {
        defaultPage.mediaFileID = thisPageFileID;
      }
      this.pages.splice(this.currentPageIndex + 1, 0, defaultPage);
      await this.Save(snv);
      this.currentPageIndex++;
      await this.LoadCurrentPageEdit(snv, mainDiv);
    };
  }
  async LoadCurrentPageEdit(snv, mainDiv) {
    mainDiv.empty();
    this.LoadPageSelector(snv, mainDiv);
    mainDiv.createEl("p", { text: "Media File ID:" });
    const mediaFileIDInput = mainDiv.createEl("input", { type: "text" });
    const panelDiv = mainDiv.createDiv("hbox");
    const outerMediaDiv = panelDiv.createDiv("vbox");
    const linesDiv = panelDiv.createDiv("vbox");
    const mediaWidthInput = outerMediaDiv.createEl("input", { type: "text" });
    mediaWidthInput.onchange = async () => {
      outerMediaDiv.style.width = mediaWidthInput.value + "%";
      linesDiv.style.width = 100 - parseInt(mediaWidthInput.value) + "%";
      this.pages[this.currentPageIndex].mediaSizePercentage = parseInt(mediaWidthInput.value);
      await this.Save(snv);
    };
    outerMediaDiv.style.width = "50%";
    const mediaDiv = outerMediaDiv.createDiv("vbox");
    mediaDiv.style.objectFit = "contain";
    linesDiv.style.width = "50%";
    linesDiv.style.maxHeight = "80vh";
    linesDiv.style.position = "sticky";
    linesDiv.style.top = "0%";
    if (this.currentPageIndex < this.pages.length) {
      const currentPage = this.pages[this.currentPageIndex];
      const mediaFileID = currentPage.mediaFileID;
      mediaFileIDInput.value = "" + currentPage.mediaFileID;
      if (mediaFileID > 0) {
        const mediaFile = await CFEFileHandler.LoadFile(snv, mediaFileID);
        await mediaFile.DisplayMediaOnly(mediaDiv, snv);
      }
      if (this.pages[this.currentPageIndex].mediaSizePercentage) {
        mediaWidthInput.value = "" + this.pages[this.currentPageIndex].mediaSizePercentage;
        outerMediaDiv.style.width = mediaWidthInput.value + "%";
        linesDiv.style.width = 100 - parseInt(mediaWidthInput.value) + "%";
      } else {
        mediaWidthInput.value = "50";
        this.pages[this.currentPageIndex].mediaSizePercentage = 50;
        await this.Save(snv);
      }
    } else {
      const defaultPage = new Page2();
      const lastPage = this.currentPageIndex - 1;
      if (lastPage >= 0 && this.currentPageIndex !== 0) {
        const lastPageFileID = this.pages[lastPage].mediaFileID;
        const lastPageSize = this.pages[lastPage].mediaSizePercentage;
        defaultPage.mediaSizePercentage = lastPageSize;
        mediaWidthInput.value = "" + lastPageSize;
        outerMediaDiv.style.width = mediaWidthInput.value + "%";
        linesDiv.style.width = 100 - parseInt(mediaWidthInput.value) + "%";
        if (lastPageFileID !== -1 && lastPageFileID < snv.sourceFolder.fileCount) {
          const mediaFileID = lastPageFileID + 1;
          defaultPage.mediaFileID = mediaFileID;
          mediaFileIDInput.value = "" + mediaFileID;
          if (mediaFileID > 0) {
            const mediaFile = await CFEFileHandler.LoadFile(snv, mediaFileID);
            await mediaFile.DisplayMediaOnly(mediaDiv, snv);
          }
        }
      }
      this.pages.push(defaultPage);
      await this.Save(snv);
    }
    await this.LoadDialogueLinesEdit(snv, linesDiv, mainDiv);
    mediaFileIDInput.onchange = async () => {
      const currentPage = this.pages[this.currentPageIndex];
      currentPage.mediaFileID = parseInt(mediaFileIDInput.value);
      await this.Save(snv);
      const mediaFile = await CFEFileHandler.LoadFile(snv, currentPage.mediaFileID);
      await mediaFile.DisplayMediaOnly(mediaDiv, snv);
    };
  }
  async LoadCurrentPageDisplayOnly(snv, mainDiv) {
    mainDiv.empty();
    this.LoadPageSelector(snv, mainDiv);
    const panelDiv = mainDiv.createDiv("hbox");
    const outerMediaDiv = panelDiv.createDiv("vbox");
    const linesDiv = panelDiv.createDiv("vbox");
    outerMediaDiv.style.width = "50%";
    const mediaDiv = outerMediaDiv.createDiv("vbox");
    mediaDiv.style.objectFit = "contain";
    linesDiv.style.width = "50%";
    linesDiv.style.maxHeight = "80vh";
    linesDiv.style.position = "sticky";
    linesDiv.style.top = "0%";
    const currentPage = this.pages[this.currentPageIndex];
    const mediaFileID = currentPage.mediaFileID;
    if (mediaFileID > 0) {
      const mediaFile = await CFEFileHandler.LoadFile(snv, mediaFileID);
      await mediaFile.DisplayMediaOnly(mediaDiv, snv);
    }
    if (this.pages[this.currentPageIndex].mediaSizePercentage) {
      const width = this.pages[this.currentPageIndex].mediaSizePercentage;
      outerMediaDiv.style.width = width + "%";
      linesDiv.style.width = 100 - width + "%";
    }
    await this.LoadDialogueLinesDisplayOnly(snv, linesDiv, mainDiv);
  }
  async LoadDialogueLinesEdit(snv, linesDiv, mainDiv) {
    const existingLinesDiv = linesDiv.createDiv("vbox");
    existingLinesDiv.style.overflowY = "scroll";
    for (let i = 0; i < this.pages[this.currentPageIndex].lines.length; i++) {
      const currentIndex = i;
      const currentLine = this.pages[this.currentPageIndex].lines[i];
      const lineDiv = existingLinesDiv.createDiv("hbox");
      const deleteButton = lineDiv.createEl("button", { text: "-" });
      deleteButton.className = "cfe-remove-button";
      deleteButton.onclick = async () => {
        this.pages[this.currentPageIndex].lines.splice(currentIndex, 1);
        await this.Save(snv);
        await this.LoadDialogueLinesEdit(snv, linesDiv, mainDiv);
      };
      lineDiv.createEl("p", { text: "" + currentIndex });
      const playButton = lineDiv.createEl("button", { text: "\u25B7" });
      const charDropdownButton = lineDiv.createDiv();
      const charDropdownDiv = charDropdownButton.createDiv();
      charDropdownDiv.style.position = "relative";
      charDropdownButton.onclick = () => {
        charDropdownDiv.empty();
        const selectDiv = charDropdownDiv.createDiv("hbox");
        selectDiv.style.position = "absolute";
        selectDiv.style.top = "0%";
        selectDiv.style.left = "0%";
        for (let i2 = 0; i2 < this.characters.length; i2++) {
          const currentCharIndex = i2;
          const currentChar = this.characters[currentCharIndex];
          const currentOption = selectDiv.createEl("div");
          const photoName2 = new PhotoLine(currentChar.name);
          photoName2.Speak(currentOption, 10, [100, 250, 500], [0, 500], true);
          currentOption.style.zIndex = "2";
          currentOption.onclick = async () => {
            this.pages[this.currentPageIndex].lines[currentIndex].speakerIndex = currentCharIndex;
            await this.Save(snv);
            linesDiv.empty();
            this.LoadDialogueLinesEdit(snv, linesDiv, mainDiv);
          };
        }
      };
      const photoName = new PhotoLine(this.characters[currentLine.speakerIndex].name);
      photoName.Speak(charDropdownDiv, 10, [100, 250, 500], [0, 500], true);
      const lineInput = lineDiv.createEl("input", { type: "text", value: currentLine.content });
      lineInput.style.width = "100%";
      lineInput.onchange = async () => {
        currentLine.content = lineInput.value;
        await this.Save(snv);
      };
      playButton.onclick = () => {
        const popup = mainDiv.createDiv();
        popup.style.position = "absolute";
        popup.style.top = "0px";
        popup.style.left = "0px";
        const photoline = new PhotoLine(lineInput.value);
        photoline.Speak(popup, 200, [100, 250, 500], [0, 500], false);
      };
    }
    const addButton = existingLinesDiv.createEl("button", { text: "+" });
    addButton.style.width = "10px";
    addButton.onclick = async () => {
      this.pages[this.currentPageIndex].lines.push(new DialogueLine2(0));
      await this.Save(snv);
      await this.LoadDialogueLinesEdit(snv, linesDiv, mainDiv);
    };
  }
  async LoadDialogueLinesDisplayOnly(snv, linesDiv, mainDiv) {
    const existingLinesDiv = linesDiv.createDiv("vbox");
    existingLinesDiv.style.overflowY = "scroll";
    for (let i = 0; i < this.pages[this.currentPageIndex].lines.length; i++) {
      const currentLine = this.pages[this.currentPageIndex].lines[i];
      const playButton = existingLinesDiv.createEl("button", { text: "\u25B7" });
      const nameDiv = existingLinesDiv.createDiv("hbox");
      const lineDiv = existingLinesDiv.createDiv("hbox");
      const photoName = new PhotoLine(this.characters[currentLine.speakerIndex].name);
      photoName.Speak(nameDiv, 10, [100, 250, 500], [0, 500], true);
      const photoLine = new PhotoLine(currentLine.content);
      photoLine.DisplayStatic(lineDiv, 10);
      playButton.onclick = () => {
        const popup = mainDiv.createDiv();
        popup.style.position = "absolute";
        popup.style.top = "0px";
        popup.style.left = "0px";
        photoLine.Speak(popup, 200, [100, 250, 500], [0, 500], false);
      };
    }
  }
};
var Page2 = class {
  constructor() {
    this.mediaFileID = -1;
    this.lines = [];
    this.mediaSizePercentage = 50;
  }
};
var DialogueLine2 = class {
  constructor(speakerIndex) {
    this.speakerIndex = speakerIndex;
    this.content = "";
  }
};
var Character2 = class {
  constructor(name = "") {
    this.name = name;
  }
};

// classes/conlangs/hwayu-text.ts
var Hwayu = class {
  static Display(div, text = "", fontSize = 17.5, isVertical = true) {
    const textElement = div.createEl("p", { text });
    textElement.style.fontFamily = isVertical ? "HwayuReal" : "HwayuHorizontal";
    textElement.style.fontSize = fontSize + "px";
    if (isVertical) {
      textElement.style.writingMode = "vertical-lr";
      textElement.style.textOrientation = "upright";
    }
  }
  static DisplayEditor(div, existingText = "", fontSize = 17.5, isVertical = true) {
    const textArea = div.createEl("textarea", { value: existingText });
    textArea.style.fontFamily = isVertical ? "HwayuReal" : "HwayuHorizontal";
    textArea.style.fontSize = fontSize + "px";
    if (isVertical) {
      textArea.style.writingMode = "vertical-lr";
      textArea.style.textOrientation = "upright";
    }
    return textArea;
  }
};

// classes/conlang-dictionary.ts
var ConlangDictionary = class extends CFEFile {
  static async CreateNewFileForLayer(data) {
    const unfinishedDictionary = await super.CreateNewFileForLayer(data);
    unfinishedDictionary.language = "Hwayu";
    unfinishedDictionary.conlangWords = [];
    unfinishedDictionary.definitions = [];
    return unfinishedDictionary;
  }
  async Display(snv, mainDiv) {
    await super.Display(snv, mainDiv);
    const languageDropdown = mainDiv.createEl("select");
    languageDropdown.createEl("option", { text: "Hwayu", value: "Hwayu" });
    languageDropdown.createEl("option", { text: "Photolang", value: "Photolang" });
    languageDropdown.value = this.language;
    const addWordDiv = mainDiv.createDiv("vbox");
    await this.DisplayWord(snv, mainDiv, addWordDiv);
    languageDropdown.onchange = async () => {
      this.language = languageDropdown.value;
      await this.Save(snv);
      await this.Display(snv, mainDiv);
    };
    const sides = mainDiv.createDiv("hbox");
    const conlangSide = sides.createDiv("vbox");
    const definitionSide = sides.createDiv("vbox");
    conlangSide.style.width = "50%";
    definitionSide.style.width = "50%";
    conlangSide.createEl("p", { text: this.language });
    definitionSide.createEl("p", { text: "English" });
    await this.DisplaySide(snv, mainDiv, this.conlangWords, conlangSide);
    await this.DisplaySide(snv, mainDiv, this.definitions, definitionSide);
  }
  async DisplayWord(snv, mainDiv, div, index = -1) {
    div.createEl("p", { text: "Word in " + this.language });
    let newWordInput;
    const isNewWord = index === -1;
    const conlangWord = isNewWord ? "" : this.conlangWords[index];
    const definition = isNewWord ? "" : this.definitions[index];
    switch (this.language) {
      case "Hwayu":
      default:
        newWordInput = Hwayu.DisplayEditor(div, conlangWord, 17.5, false);
        break;
      case "Photolang":
        newWordInput = PhotoLang.DisplayEditor(div, definition, 17.5);
        break;
    }
    div.createEl("p", { text: "Definition" });
    const definitionInput = div.createEl("input", { type: "text" });
    const submitButton = div.createEl("button", { text: "submit" });
    submitButton.onclick = async () => {
      if (isNewWord) {
        this.conlangWords.push(newWordInput.value);
        this.definitions.push(definitionInput.value);
        await this.Save(snv);
        return;
      }
      this.conlangWords[index] = newWordInput.value;
      this.definitions[index] = definitionInput.value;
    };
    if (!isNewWord) {
      const deleteButton = div.createEl("button", { text: "remove" });
      deleteButton.className = "cfe-remove-button";
      this.conlangWords.remove(newWordInput.value);
      this.definitions.remove(definitionInput.value);
      await this.Save(snv);
      await this.Display(snv, mainDiv);
    }
  }
  async DisplaySide(snv, mainDiv, wordList, div) {
    div.createEl("p", { text: "Search:" });
    const wordInput = div.createEl("textarea");
    const resultsDiv = div.createDiv("vbox");
    wordInput.onchange = () => {
      resultsDiv.empty();
      for (let i = 0; i < wordList.length; i++) {
        if (wordList[i].contains(wordInput.value)) {
          this.DisplayWord(snv, mainDiv, resultsDiv.createDiv("vbox"), i);
        }
      }
    };
  }
};

// classes/cfe-file-handler.ts
var CFEFileHandler = class {
  static async CreateNew(data) {
    let newFile;
    switch (data.fileType) {
      case "Folder":
      default:
        newFile = await Folder.CreateNewFileForLayer(data);
        break;
      case "Single Media File":
        newFile = await SingleMediaFile.CreateNewFileForLayer(data);
        break;
      case "Variant Media File":
        newFile = await VariantMediaFile.CreateNewFileForLayer(data);
        break;
      case "Playlist":
        newFile = await Playlist.CreateNewFileForLayer(data);
        break;
      case "Hwayu Story":
        newFile = await HwayuStory.CreateNewFileForLayer(data);
        break;
      case "Photolang Story":
        newFile = await PhotolangStory.CreateNewFileForLayer(data);
        break;
      case "Source Folder Shortcut":
        newFile = await SourceFolderShortcut.CreateNewFileForLayer(data);
        break;
      case "Conlang Dictionary":
        newFile = await ConlangDictionary.CreateNewFileForLayer(data);
        break;
    }
    await newFile.Save(data.snv);
    return newFile;
  }
  static async LoadFile(snv, fileID) {
    const sourceFolder = snv.sourceFolder;
    const vault = snv.vault;
    const tFile = vault.getFileByPath(sourceFolder.vaultPath + "/" + fileID + ".json");
    if (tFile === null) {
      new import_obsidian3.Notice("File could not be found at the path: " + sourceFolder.vaultPath + "/" + fileID + ".json");
      throw Error("File could not be found at the path: " + sourceFolder.vaultPath + "/" + fileID + ".json");
    }
    const jsonData = await vault.cachedRead(tFile);
    const plainObject = JSON.parse(jsonData);
    switch (plainObject.fileType) {
      case "Folder":
      default:
        return Object.assign(new Folder(), plainObject);
      case "Single Media File":
        return Object.assign(new SingleMediaFile(), plainObject);
      case "Variant Media File":
        return Object.assign(new VariantMediaFile(), plainObject);
      case "Playlist":
        return Object.assign(new Playlist(), plainObject);
      case "Hwayu Story":
        return Object.assign(new HwayuStory(), plainObject);
      case "Photolang Story":
        return Object.assign(new PhotolangStory(), plainObject);
      case "Source Folder Shortcut":
        return Object.assign(new SourceFolderShortcut(), plainObject);
      case "Conlang Dictionary":
        return Object.assign(new ConlangDictionary(), plainObject);
    }
  }
};
/**
 * All of the known file formats
 */
CFEFileHandler.KnownFileTypes = [
  "Folder",
  "Single Media File",
  "Variant Media File",
  "Playlist",
  "Hwayu Story",
  "Photolang Story",
  "Source Folder Shortcut",
  "Conlang Dictionary"
];

// classes/snv.ts
var SourceAndVault = class {
  constructor(sourceFolder, vault) {
    this.sourceFolder = sourceFolder;
    this.vault = vault;
  }
};

// classes/source-folder.ts
var SourceFolder = class {
  constructor() {
    this.vaultPath = "";
    this.fileCount = 0;
  }
  async Display(container, vault) {
    const snv = new SourceAndVault(this, vault);
    let rootFolder;
    try {
      rootFolder = await CFEFileHandler.LoadFile(snv, 0);
    } catch (e) {
      const newRootFolderData = new FileCreationData(snv, "Folder", 0);
      rootFolder = await CFEFileHandler.CreateNew(newRootFolderData);
    }
    await SourceFolder.Save(snv);
    await rootFolder.Save(snv);
    await rootFolder.Display(snv, container);
  }
  static async CreateOrLoadSourceFolder(vaultPath, vault) {
    vaultPath = vaultPath.endsWith("/source.json") ? vaultPath.slice(0, -12) : vaultPath;
    const exists = vault.getFileByPath(vaultPath + "/source.json") !== null;
    let newSourceFolder;
    if (exists) {
      newSourceFolder = await this.LoadExistingSource(vaultPath, vault);
    } else {
      newSourceFolder = await this.CreateNewSourceFolder(vaultPath, vault);
    }
    return newSourceFolder;
  }
  static async CreateNewSourceFolder(vaultPath, vault) {
    const newSourceFolder = new SourceFolder();
    newSourceFolder.vaultPath = vaultPath;
    newSourceFolder.fileCount = 0;
    try {
      await vault.createFolder(vaultPath);
    } finally {
      const sourcePath = (0, import_obsidian4.normalizePath)(vaultPath + "/source.json");
      await vault.adapter.write(sourcePath, "0");
    }
    return newSourceFolder;
  }
  static async LoadExistingSource(vaultPath, vault) {
    const sourceTFile = vault.getFileByPath(vaultPath + "/source.json");
    if (sourceTFile === null) {
      new import_obsidian4.Notice("Source File could not be found at the path: " + vaultPath + "/source.json");
      throw Error("Source File could not be found at the path: " + vaultPath + "/source.json");
    }
    const jsonData = await vault.cachedRead(sourceTFile);
    const plainObject = await JSON.parse(jsonData);
    const newSourceFolder = Object.assign(new SourceFolder(), plainObject);
    newSourceFolder.vaultPath = vaultPath;
    await SourceFolder.Save(new SourceAndVault(newSourceFolder, vault));
    return newSourceFolder;
  }
  /**
   * Saves the new file count
   */
  static async Save(sourceAndVault) {
    const sourceFolder = sourceAndVault.sourceFolder;
    const vault = sourceAndVault.vault;
    const tFile = vault.getFileByPath(sourceFolder.vaultPath + "/source.json");
    if (tFile === null) {
      new import_obsidian4.Notice("Source File could not be found at the path: " + sourceFolder.vaultPath + "/source.json");
      throw Error("Source File could not be found at the path: " + sourceFolder.vaultPath + "/source.json");
    }
    const jsonData = JSON.stringify(sourceFolder);
    await vault.modify(tFile, jsonData);
  }
};

// classes/custom-explorer-view.ts
var VIEW_TYPE_CUSTOM_EXPLORER = "custom-explorer-view";
var CustomExplorerView = class extends import_obsidian5.ItemView {
  constructor(leaf, path) {
    super(leaf);
    this.defaultPath = path;
  }
  getViewType() {
    return VIEW_TYPE_CUSTOM_EXPLORER;
  }
  getDisplayText() {
    return "Example view";
  }
  async onOpen() {
    const wrapper = this.containerEl.children[1];
    wrapper.empty();
    const mainContainer = wrapper.createDiv("cfe-main-display");
    const homePage = mainContainer.createDiv("cfe-home-page");
    homePage.createEl("h4", { text: "Path to Source:" });
    const existingSourcePathInput = homePage.createEl("input", { type: "text", value: this.defaultPath });
    existingSourcePathInput.style.width = "100%";
    const submitButton = homePage.createEl("button", { text: "submit" });
    const vault = this.app.vault;
    submitButton.onclick = async () => {
      const path = existingSourcePathInput.value;
      const sf = await SourceFolder.CreateOrLoadSourceFolder(path, vault);
      await sf.Display(mainContainer, vault);
    };
    homePage.onkeydown = async (keyPressEvent) => {
      if (keyPressEvent.key === "Enter") {
        const path = existingSourcePathInput.value;
        const sf = await SourceFolder.CreateOrLoadSourceFolder(path, vault);
        await sf.Display(mainContainer, vault);
      }
    };
  }
  async onClose() {
  }
};

// main.ts
var import_obsidian6 = require("obsidian");
var DEFAULT_SETTINGS = {
  defaultPath: "source"
};
var CFE = class extends import_obsidian6.Plugin {
  async onload() {
    await this.loadSettings();
    this.registerView(
      VIEW_TYPE_CUSTOM_EXPLORER,
      (leaf) => new CustomExplorerView(leaf, this.settings.defaultPath)
    );
    this.addRibbonIcon("folder", "Activate view", () => {
      this.activateView(VIEW_TYPE_CUSTOM_EXPLORER);
    });
    this.addCommand({
      id: "open-cfe-view",
      name: "Open Custom File Explorer View",
      callback: () => {
        this.activateView(VIEW_TYPE_CUSTOM_EXPLORER);
      }
    });
    this.addCommand({
      id: "sample-editor-command",
      name: "Sample editor command",
      editorCallback: (editor, view) => {
        console.log(editor.getSelection());
        editor.replaceSelection("Sample Editor Command");
      }
    });
    this.addSettingTab(new SampleSettingTab(this.app, this));
    this.registerDomEvent(document, "click", (evt) => {
      console.log("click", evt);
    });
    this.registerInterval(window.setInterval(() => console.log("setInterval"), 5 * 60 * 1e3));
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async activateView(view_type) {
    const { workspace } = this.app;
    let leaf = null;
    leaf = workspace.getLeaf("tab");
    if (leaf === null) {
      new import_obsidian6.Notice("Failed to create view: workspace leaf was null");
      return;
    }
    await leaf.setViewState({ type: view_type, active: true });
    workspace.revealLeaf(leaf);
  }
};
var SampleSettingTab = class extends import_obsidian6.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian6.Setting(containerEl).setName("Default Source Path").setDesc("The vault path to automatically fill in for the source path").addText((text) => text.setPlaceholder("Default Source Path").setValue(this.plugin.settings.defaultPath).onChange(async (value) => {
      this.plugin.settings.defaultPath = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJjbGFzc2VzL2N1c3RvbS1leHBsb3Jlci12aWV3LnRzIiwgImNsYXNzZXMvc291cmNlLWZvbGRlci50cyIsICJjbGFzc2VzL2NmZS1maWxlLWhhbmRsZXIudHMiLCAiY2xhc3Nlcy9jZmUtZmlsZS50cyIsICJjbGFzc2VzL2ZpbGUtY3JlYXRpb24tZGF0YS50cyIsICJjbGFzc2VzL3NpbmdsZS1tZWRpYS1maWxlLnRzIiwgImNsYXNzZXMvcmVhbC1maWxlLnRzIiwgImNsYXNzZXMvZm9sZGVyLnRzIiwgImNsYXNzZXMvaHdheXUtc3RvcnkudHMiLCAiY2xhc3Nlcy9wbGF5bGlzdC50cyIsICJjbGFzc2VzL3ZhcmlhbnQtbWVkaWEtZmlsZS50cyIsICJjbGFzc2VzL3NvdXJjZS1mb2xkZXItc2hvcnRjdXQudHMiLCAiY2xhc3Nlcy9jb25sYW5ncy9waG90b2xhbmctdGV4dC50cyIsICJjbGFzc2VzL3Bob3RvbGFuZy1zdG9yeS50cyIsICJjbGFzc2VzL2NvbmxhbmdzL2h3YXl1LXRleHQudHMiLCAiY2xhc3Nlcy9jb25sYW5nLWRpY3Rpb25hcnkudHMiLCAiY2xhc3Nlcy9zbnYudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IEN1c3RvbUV4cGxvcmVyVmlldywgVklFV19UWVBFX0NVU1RPTV9FWFBMT1JFUiB9IGZyb20gJ2NsYXNzZXMvY3VzdG9tLWV4cGxvcmVyLXZpZXcnO1xyXG5pbXBvcnQgeyBBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3LCBOb3RpY2UsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZywgV29ya3NwYWNlTGVhZiB9IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbi8vIFJlbWVtYmVyIHRvIHJlbmFtZSB0aGVzZSBjbGFzc2VzIGFuZCBpbnRlcmZhY2VzIVxyXG5cclxuaW50ZXJmYWNlIENGRUNldHRpbmdzIHtcclxuXHRkZWZhdWx0UGF0aDogc3RyaW5nO1xyXG59XHJcblxyXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBDRkVDZXR0aW5ncyA9IHtcclxuXHRkZWZhdWx0UGF0aDogJ3NvdXJjZSdcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ0ZFIGV4dGVuZHMgUGx1Z2luIHtcclxuXHRzZXR0aW5nczogQ0ZFQ2V0dGluZ3M7XHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblxyXG5cdFx0dGhpcy5yZWdpc3RlclZpZXcoXHJcblx0XHRcdFZJRVdfVFlQRV9DVVNUT01fRVhQTE9SRVIsXHJcblx0XHRcdChsZWFmKSA9PiBuZXcgQ3VzdG9tRXhwbG9yZXJWaWV3KGxlYWYsIHRoaXMuc2V0dGluZ3MuZGVmYXVsdFBhdGgpXHJcblx0XHQpO1xyXG5cclxuXHRcdHRoaXMuYWRkUmliYm9uSWNvbignZm9sZGVyJywgJ0FjdGl2YXRlIHZpZXcnLCAoKSA9PiB7XHJcblx0XHRcdHRoaXMuYWN0aXZhdGVWaWV3KFZJRVdfVFlQRV9DVVNUT01fRVhQTE9SRVIpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gVGhpcyBhZGRzIGEgc2ltcGxlIGNvbW1hbmQgdGhhdCBjYW4gYmUgdHJpZ2dlcmVkIGFueXdoZXJlXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ29wZW4tY2ZlLXZpZXcnLFxyXG5cdFx0XHRuYW1lOiAnT3BlbiBDdXN0b20gRmlsZSBFeHBsb3JlciBWaWV3JyxcclxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmFjdGl2YXRlVmlldyhWSUVXX1RZUEVfQ1VTVE9NX0VYUExPUkVSKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHQvLyBUaGlzIGFkZHMgYW4gZWRpdG9yIGNvbW1hbmQgdGhhdCBjYW4gcGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvbiB0aGUgY3VycmVudCBlZGl0b3IgaW5zdGFuY2VcclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAnc2FtcGxlLWVkaXRvci1jb21tYW5kJyxcclxuXHRcdFx0bmFtZTogJ1NhbXBsZSBlZGl0b3IgY29tbWFuZCcsXHJcblx0XHRcdGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IsIHZpZXc6IE1hcmtkb3duVmlldykgPT4ge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVkaXRvci5nZXRTZWxlY3Rpb24oKSk7XHJcblx0XHRcdFx0ZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24oJ1NhbXBsZSBFZGl0b3IgQ29tbWFuZCcpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBUaGlzIGFkZHMgYSBzZXR0aW5ncyB0YWIgc28gdGhlIHVzZXIgY2FuIGNvbmZpZ3VyZSB2YXJpb3VzIGFzcGVjdHMgb2YgdGhlIHBsdWdpblxyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBTYW1wbGVTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHJcblxyXG5cdFx0Ly8gSWYgdGhlIHBsdWdpbiBob29rcyB1cCBhbnkgZ2xvYmFsIERPTSBldmVudHMgKG9uIHBhcnRzIG9mIHRoZSBhcHAgdGhhdCBkb2Vzbid0IGJlbG9uZyB0byB0aGlzIHBsdWdpbilcclxuXHRcdC8vIFVzaW5nIHRoaXMgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IHJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXIgd2hlbiB0aGlzIHBsdWdpbiBpcyBkaXNhYmxlZC5cclxuXHRcdHRoaXMucmVnaXN0ZXJEb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJywgKGV2dDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRjb25zb2xlLmxvZygnY2xpY2snLCBldnQpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gV2hlbiByZWdpc3RlcmluZyBpbnRlcnZhbHMsIHRoaXMgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IGNsZWFyIHRoZSBpbnRlcnZhbCB3aGVuIHRoZSBwbHVnaW4gaXMgZGlzYWJsZWQuXHJcblx0XHR0aGlzLnJlZ2lzdGVySW50ZXJ2YWwod2luZG93LnNldEludGVydmFsKCgpID0+IGNvbnNvbGUubG9nKCdzZXRJbnRlcnZhbCcpLCA1ICogNjAgKiAxMDAwKSk7XHJcblx0fVxyXG5cclxuXHRvbnVubG9hZCgpIHtcclxuXHJcblx0fVxyXG5cclxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBhY3RpdmF0ZVZpZXcodmlld190eXBlOiBzdHJpbmcpIHtcclxuXHRcdGNvbnN0IHsgd29ya3NwYWNlIH0gPSB0aGlzLmFwcDtcclxuXHJcblx0XHRsZXQgbGVhZjogV29ya3NwYWNlTGVhZiB8IG51bGwgPSBudWxsO1xyXG5cclxuXHRcdGxlYWYgPSB3b3Jrc3BhY2UuZ2V0TGVhZigndGFiJyk7XHJcblx0XHRpZiAobGVhZiA9PT0gbnVsbCkge1xyXG5cdFx0XHRuZXcgTm90aWNlKFwiRmFpbGVkIHRvIGNyZWF0ZSB2aWV3OiB3b3Jrc3BhY2UgbGVhZiB3YXMgbnVsbFwiKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0YXdhaXQgbGVhZi5zZXRWaWV3U3RhdGUoeyB0eXBlOiB2aWV3X3R5cGUsIGFjdGl2ZTogdHJ1ZSB9KTtcclxuXHJcblx0XHQvLyBcIlJldmVhbFwiIHRoZSBsZWFmIGluIGNhc2UgaXQgaXMgaW4gYSBjb2xsYXBzZWQgc2lkZWJhclxyXG5cdFx0d29ya3NwYWNlLnJldmVhbExlYWYobGVhZik7XHJcblx0fVxyXG59XHJcblxyXG5jbGFzcyBTYW1wbGVTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XHJcblx0cGx1Z2luOiBDRkU7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IENGRSkge1xyXG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0fVxyXG5cclxuXHRkaXNwbGF5KCk6IHZvaWQge1xyXG5cdFx0Y29uc3Qge2NvbnRhaW5lckVsfSA9IHRoaXM7XHJcblxyXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ0RlZmF1bHQgU291cmNlIFBhdGgnKVxyXG5cdFx0XHQuc2V0RGVzYygnVGhlIHZhdWx0IHBhdGggdG8gYXV0b21hdGljYWxseSBmaWxsIGluIGZvciB0aGUgc291cmNlIHBhdGgnKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0RlZmF1bHQgU291cmNlIFBhdGgnKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0UGF0aClcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0UGF0aCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgSXRlbVZpZXcsIFdvcmtzcGFjZUxlYWYgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IFNvdXJjZUZvbGRlciB9IGZyb20gJy4vc291cmNlLWZvbGRlcic7XHJcblxyXG5leHBvcnQgY29uc3QgVklFV19UWVBFX0NVU1RPTV9FWFBMT1JFUiA9ICdjdXN0b20tZXhwbG9yZXItdmlldyc7XHJcblxyXG5leHBvcnQgY2xhc3MgQ3VzdG9tRXhwbG9yZXJWaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xyXG5cdGRlZmF1bHRQYXRoOiBzdHJpbmc7XHJcblx0Y29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgcGF0aDogc3RyaW5nKSB7XHJcblx0XHRzdXBlcihsZWFmKTtcclxuXHRcdHRoaXMuZGVmYXVsdFBhdGggPSBwYXRoO1xyXG5cdH1cclxuXHJcblx0Z2V0Vmlld1R5cGUoKSB7XHJcblx0XHRyZXR1cm4gVklFV19UWVBFX0NVU1RPTV9FWFBMT1JFUjtcclxuXHR9XHJcblxyXG5cdGdldERpc3BsYXlUZXh0KCkge1xyXG5cdFx0cmV0dXJuICdFeGFtcGxlIHZpZXcnO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgb25PcGVuKCkge1xyXG5cdFx0Y29uc3Qgd3JhcHBlciA9IHRoaXMuY29udGFpbmVyRWwuY2hpbGRyZW5bMV07XHJcblx0XHR3cmFwcGVyLmVtcHR5KCk7XHJcblx0XHRjb25zdCBtYWluQ29udGFpbmVyID0gd3JhcHBlci5jcmVhdGVEaXYoJ2NmZS1tYWluLWRpc3BsYXknKTtcclxuXHRcdGNvbnN0IGhvbWVQYWdlID0gbWFpbkNvbnRhaW5lci5jcmVhdGVEaXYoJ2NmZS1ob21lLXBhZ2UnKTtcclxuXHRcdGhvbWVQYWdlLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ1BhdGggdG8gU291cmNlOicgfSApO1xyXG5cdFx0Y29uc3QgZXhpc3RpbmdTb3VyY2VQYXRoSW5wdXQgPSBob21lUGFnZS5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6IHRoaXMuZGVmYXVsdFBhdGggfSApO1xyXG5cdFx0ZXhpc3RpbmdTb3VyY2VQYXRoSW5wdXQuc3R5bGUud2lkdGggPSAnMTAwJSc7XHJcblx0XHRjb25zdCBzdWJtaXRCdXR0b24gPSBob21lUGFnZS5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnc3VibWl0JyB9ICk7XHJcblx0XHRjb25zdCB2YXVsdCA9IHRoaXMuYXBwLnZhdWx0O1xyXG5cdFx0c3VibWl0QnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdGNvbnN0IHBhdGggPSBleGlzdGluZ1NvdXJjZVBhdGhJbnB1dC52YWx1ZTtcclxuXHRcdFx0Y29uc3Qgc2YgPSA8U291cmNlRm9sZGVyPiBhd2FpdCBTb3VyY2VGb2xkZXIuQ3JlYXRlT3JMb2FkU291cmNlRm9sZGVyKHBhdGgsIHZhdWx0KTtcclxuXHRcdFx0YXdhaXQgc2YuRGlzcGxheShtYWluQ29udGFpbmVyLCB2YXVsdCk7XHJcblx0XHR9XHJcblx0XHRob21lUGFnZS5vbmtleWRvd24gPSBhc3luYyAoa2V5UHJlc3NFdmVudCkgPT4ge1xyXG5cdFx0XHRpZiAoa2V5UHJlc3NFdmVudC5rZXkgPT09ICdFbnRlcicpIHtcclxuXHRcdFx0XHRjb25zdCBwYXRoID0gZXhpc3RpbmdTb3VyY2VQYXRoSW5wdXQudmFsdWU7XHJcblx0XHRcdFx0Y29uc3Qgc2YgPSBhd2FpdCBTb3VyY2VGb2xkZXIuQ3JlYXRlT3JMb2FkU291cmNlRm9sZGVyKHBhdGgsIHZhdWx0KTtcclxuXHRcdFx0XHRhd2FpdCBzZi5EaXNwbGF5KG1haW5Db250YWluZXIsIHZhdWx0KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgb25DbG9zZSgpIHtcclxuXHRcdC8vIE5vdGhpbmcgdG8gY2xlYW4gdXAuXHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBub3JtYWxpemVQYXRoLCBOb3RpY2UsIFZhdWx0IH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IENGRUZpbGVIYW5kbGVyIH0gZnJvbSBcIi4vY2ZlLWZpbGUtaGFuZGxlclwiO1xyXG5pbXBvcnQgeyBGaWxlQ3JlYXRpb25EYXRhIH0gZnJvbSBcIi4vZmlsZS1jcmVhdGlvbi1kYXRhXCI7XHJcbmltcG9ydCB7IFNvdXJjZUFuZFZhdWx0IH0gZnJvbSBcIi4vc252XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU291cmNlRm9sZGVyIHtcclxuXHR2YXVsdFBhdGg6IHN0cmluZztcclxuXHRmaWxlQ291bnQ6IG51bWJlcjtcclxuXHJcblx0cHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMudmF1bHRQYXRoID0gJyc7XHJcblx0XHR0aGlzLmZpbGVDb3VudCA9IDA7XHJcblx0fVxyXG5cclxuXHRhc3luYyBEaXNwbGF5KGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQsIHZhdWx0OiBWYXVsdCkge1xyXG5cdFx0Y29uc3Qgc252ID0gbmV3IFNvdXJjZUFuZFZhdWx0KHRoaXMsIHZhdWx0KTtcclxuXHRcdGxldCByb290Rm9sZGVyO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cm9vdEZvbGRlciA9IGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNudiwgMCk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdGNvbnN0IG5ld1Jvb3RGb2xkZXJEYXRhID0gbmV3IEZpbGVDcmVhdGlvbkRhdGEoc252LCAnRm9sZGVyJywgMCk7XHJcblx0XHRcdHJvb3RGb2xkZXIgPSBhd2FpdCBDRkVGaWxlSGFuZGxlci5DcmVhdGVOZXcobmV3Um9vdEZvbGRlckRhdGEpO1xyXG5cdFx0fVxyXG5cdFx0YXdhaXQgU291cmNlRm9sZGVyLlNhdmUoc252KTtcclxuXHRcdGF3YWl0IHJvb3RGb2xkZXIuU2F2ZShzbnYpO1xyXG5cdFx0YXdhaXQgcm9vdEZvbGRlci5EaXNwbGF5KHNudiwgY29udGFpbmVyKTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBhc3luYyBDcmVhdGVPckxvYWRTb3VyY2VGb2xkZXIodmF1bHRQYXRoOiBzdHJpbmcsIHZhdWx0OiBWYXVsdCk6IFByb21pc2U8U291cmNlRm9sZGVyPiB7XHJcblx0XHR2YXVsdFBhdGggPSB2YXVsdFBhdGguZW5kc1dpdGgoJy9zb3VyY2UuanNvbicpID8gdmF1bHRQYXRoLnNsaWNlKDAsIC0xMikgOiB2YXVsdFBhdGg7XHJcblx0XHRjb25zdCBleGlzdHMgPSB2YXVsdC5nZXRGaWxlQnlQYXRoKHZhdWx0UGF0aCArICcvc291cmNlLmpzb24nKSAhPT0gbnVsbDtcclxuXHRcdGxldCBuZXdTb3VyY2VGb2xkZXI6IFNvdXJjZUZvbGRlcjtcclxuXHRcdGlmIChleGlzdHMpIHtcclxuXHRcdFx0bmV3U291cmNlRm9sZGVyID0gYXdhaXQgdGhpcy5Mb2FkRXhpc3RpbmdTb3VyY2UodmF1bHRQYXRoLCB2YXVsdCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRuZXdTb3VyY2VGb2xkZXIgPSBhd2FpdCB0aGlzLkNyZWF0ZU5ld1NvdXJjZUZvbGRlcih2YXVsdFBhdGgsIHZhdWx0KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBuZXdTb3VyY2VGb2xkZXI7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBhc3luYyBDcmVhdGVOZXdTb3VyY2VGb2xkZXIodmF1bHRQYXRoOiBzdHJpbmcsIHZhdWx0OiBWYXVsdCk6IFByb21pc2U8U291cmNlRm9sZGVyPiB7XHJcblx0XHRjb25zdCBuZXdTb3VyY2VGb2xkZXIgPSBuZXcgU291cmNlRm9sZGVyKCk7XHJcblx0XHRuZXdTb3VyY2VGb2xkZXIudmF1bHRQYXRoID0gdmF1bHRQYXRoO1xyXG5cdFx0bmV3U291cmNlRm9sZGVyLmZpbGVDb3VudCA9IDA7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRhd2FpdCB2YXVsdC5jcmVhdGVGb2xkZXIodmF1bHRQYXRoKTtcclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdGNvbnN0IHNvdXJjZVBhdGggPSBub3JtYWxpemVQYXRoKHZhdWx0UGF0aCArICcvc291cmNlLmpzb24nKTtcclxuXHRcdFx0YXdhaXQgdmF1bHQuYWRhcHRlci53cml0ZShzb3VyY2VQYXRoLCAnMCcpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG5ld1NvdXJjZUZvbGRlcjtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIGFzeW5jIExvYWRFeGlzdGluZ1NvdXJjZSh2YXVsdFBhdGg6IHN0cmluZywgdmF1bHQ6IFZhdWx0KTogUHJvbWlzZTxTb3VyY2VGb2xkZXI+IHtcclxuXHRcdGNvbnN0IHNvdXJjZVRGaWxlID0gdmF1bHQuZ2V0RmlsZUJ5UGF0aCh2YXVsdFBhdGggKyAnL3NvdXJjZS5qc29uJyk7XHJcblx0XHRpZiAoc291cmNlVEZpbGUgPT09IG51bGwpIHtcclxuXHRcdFx0bmV3IE5vdGljZShcIlNvdXJjZSBGaWxlIGNvdWxkIG5vdCBiZSBmb3VuZCBhdCB0aGUgcGF0aDogXCIgKyB2YXVsdFBhdGggKyAnL3NvdXJjZS5qc29uJyk7XHJcblx0XHRcdHRocm93IEVycm9yKFwiU291cmNlIEZpbGUgY291bGQgbm90IGJlIGZvdW5kIGF0IHRoZSBwYXRoOiBcIiArIHZhdWx0UGF0aCArICcvc291cmNlLmpzb24nKTtcclxuXHRcdH1cclxuXHRcdGNvbnN0IGpzb25EYXRhID0gYXdhaXQgdmF1bHQuY2FjaGVkUmVhZChzb3VyY2VURmlsZSk7XHJcblxyXG5cdFx0Y29uc3QgcGxhaW5PYmplY3QgPSBhd2FpdCBKU09OLnBhcnNlKGpzb25EYXRhKTtcclxuXHRcdGNvbnN0IG5ld1NvdXJjZUZvbGRlciA9IE9iamVjdC5hc3NpZ24obmV3IFNvdXJjZUZvbGRlcigpLCBwbGFpbk9iamVjdCk7XHJcblx0XHRuZXdTb3VyY2VGb2xkZXIudmF1bHRQYXRoID0gdmF1bHRQYXRoO1xyXG5cdFx0YXdhaXQgU291cmNlRm9sZGVyLlNhdmUobmV3IFNvdXJjZUFuZFZhdWx0KG5ld1NvdXJjZUZvbGRlciwgdmF1bHQpKTtcclxuXHRcdHJldHVybiBuZXdTb3VyY2VGb2xkZXI7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTYXZlcyB0aGUgbmV3IGZpbGUgY291bnRcclxuXHQgKi9cclxuXHRzdGF0aWMgYXN5bmMgU2F2ZShzb3VyY2VBbmRWYXVsdDogU291cmNlQW5kVmF1bHQpIHtcclxuXHRcdGNvbnN0IHNvdXJjZUZvbGRlciA9IHNvdXJjZUFuZFZhdWx0LnNvdXJjZUZvbGRlcjtcclxuXHRcdGNvbnN0IHZhdWx0ID0gc291cmNlQW5kVmF1bHQudmF1bHQ7XHJcblxyXG5cdFx0Ly8gRmluZCB0aGUgZmlsZSBhbmQgY2hlY2sgdGhhdCBpdCBpc24ndCBudWxsXHJcblx0XHRjb25zdCB0RmlsZSA9IHZhdWx0LmdldEZpbGVCeVBhdGgoc291cmNlRm9sZGVyLnZhdWx0UGF0aCArICcvc291cmNlLmpzb24nKTtcclxuXHRcdGlmICh0RmlsZSA9PT0gbnVsbCkge1xyXG5cdFx0XHRuZXcgTm90aWNlKFwiU291cmNlIEZpbGUgY291bGQgbm90IGJlIGZvdW5kIGF0IHRoZSBwYXRoOiBcIiArIHNvdXJjZUZvbGRlci52YXVsdFBhdGggKyAnL3NvdXJjZS5qc29uJyk7XHJcblx0XHRcdHRocm93IEVycm9yKFwiU291cmNlIEZpbGUgY291bGQgbm90IGJlIGZvdW5kIGF0IHRoZSBwYXRoOiBcIiArIHNvdXJjZUZvbGRlci52YXVsdFBhdGggKyAnL3NvdXJjZS5qc29uJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QganNvbkRhdGEgPSBKU09OLnN0cmluZ2lmeShzb3VyY2VGb2xkZXIpO1xyXG5cdFx0YXdhaXQgdmF1bHQubW9kaWZ5KHRGaWxlLCBqc29uRGF0YSk7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBOb3RpY2UgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IENGRUZpbGUgfSBmcm9tIFwiLi9jZmUtZmlsZVwiO1xuaW1wb3J0IHsgRmlsZUNyZWF0aW9uRGF0YSB9IGZyb20gXCIuL2ZpbGUtY3JlYXRpb24tZGF0YVwiO1xuaW1wb3J0IHsgRm9sZGVyIH0gZnJvbSBcIi4vZm9sZGVyXCI7XG5pbXBvcnQgeyBId2F5dVN0b3J5IH0gZnJvbSBcIi4vaHdheXUtc3RvcnlcIjtcbmltcG9ydCB7IFBsYXlsaXN0IH0gZnJvbSBcIi4vcGxheWxpc3RcIjtcbmltcG9ydCB7IFNpbmdsZU1lZGlhRmlsZSB9IGZyb20gXCIuL3NpbmdsZS1tZWRpYS1maWxlXCI7XG5pbXBvcnQgeyBTb3VyY2VBbmRWYXVsdCB9IGZyb20gXCIuL3NudlwiO1xuaW1wb3J0IHsgVmFyaWFudE1lZGlhRmlsZSB9IGZyb20gXCIuL3ZhcmlhbnQtbWVkaWEtZmlsZVwiO1xuaW1wb3J0IHsgU291cmNlRm9sZGVyU2hvcnRjdXQgfSBmcm9tIFwiLi9zb3VyY2UtZm9sZGVyLXNob3J0Y3V0XCI7XG5pbXBvcnQgeyBQaG90b2xhbmdTdG9yeSB9IGZyb20gXCIuL3Bob3RvbGFuZy1zdG9yeVwiO1xuaW1wb3J0IHsgQ29ubGFuZ0RpY3Rpb25hcnkgfSBmcm9tIFwiLi9jb25sYW5nLWRpY3Rpb25hcnlcIjtcblxuZXhwb3J0IGNsYXNzIENGRUZpbGVIYW5kbGVyIHtcblxuXHQvKipcblx0ICogQWxsIG9mIHRoZSBrbm93biBmaWxlIGZvcm1hdHNcblx0ICovXG5cdHN0YXRpYyBLbm93bkZpbGVUeXBlczogc3RyaW5nW10gPSBbXG5cdFx0J0ZvbGRlcicsXG5cdFx0J1NpbmdsZSBNZWRpYSBGaWxlJyxcblx0XHQnVmFyaWFudCBNZWRpYSBGaWxlJyxcblx0XHQnUGxheWxpc3QnLFxuXHRcdCdId2F5dSBTdG9yeScsXG5cdFx0J1Bob3RvbGFuZyBTdG9yeScsXG5cdFx0J1NvdXJjZSBGb2xkZXIgU2hvcnRjdXQnLFxuXHRcdCdDb25sYW5nIERpY3Rpb25hcnknXG5cdF1cblxuXHRzdGF0aWMgYXN5bmMgQ3JlYXRlTmV3KGRhdGE6IEZpbGVDcmVhdGlvbkRhdGEpOiBQcm9taXNlPENGRUZpbGU+IHtcblx0XHRsZXQgbmV3RmlsZTogQ0ZFRmlsZTtcblx0XHRzd2l0Y2goZGF0YS5maWxlVHlwZSkge1xuXHRcdFx0Y2FzZSAnRm9sZGVyJzpcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdG5ld0ZpbGUgPSBhd2FpdCBGb2xkZXIuQ3JlYXRlTmV3RmlsZUZvckxheWVyKGRhdGEpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ1NpbmdsZSBNZWRpYSBGaWxlJzpcblx0XHRcdFx0bmV3RmlsZSA9IGF3YWl0IFNpbmdsZU1lZGlhRmlsZS5DcmVhdGVOZXdGaWxlRm9yTGF5ZXIoZGF0YSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnVmFyaWFudCBNZWRpYSBGaWxlJzpcblx0XHRcdFx0bmV3RmlsZSA9IGF3YWl0IFZhcmlhbnRNZWRpYUZpbGUuQ3JlYXRlTmV3RmlsZUZvckxheWVyKGRhdGEpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ1BsYXlsaXN0Jzpcblx0XHRcdFx0bmV3RmlsZSA9IGF3YWl0IFBsYXlsaXN0LkNyZWF0ZU5ld0ZpbGVGb3JMYXllcihkYXRhKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdId2F5dSBTdG9yeSc6XG5cdFx0XHRcdG5ld0ZpbGUgPSBhd2FpdCBId2F5dVN0b3J5LkNyZWF0ZU5ld0ZpbGVGb3JMYXllcihkYXRhKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdQaG90b2xhbmcgU3RvcnknOlxuXHRcdFx0XHRuZXdGaWxlID0gYXdhaXQgUGhvdG9sYW5nU3RvcnkuQ3JlYXRlTmV3RmlsZUZvckxheWVyKGRhdGEpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ1NvdXJjZSBGb2xkZXIgU2hvcnRjdXQnOlxuXHRcdFx0XHRuZXdGaWxlID0gYXdhaXQgU291cmNlRm9sZGVyU2hvcnRjdXQuQ3JlYXRlTmV3RmlsZUZvckxheWVyKGRhdGEpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ0NvbmxhbmcgRGljdGlvbmFyeSc6XG5cdFx0XHRcdG5ld0ZpbGUgPSBhd2FpdCBDb25sYW5nRGljdGlvbmFyeS5DcmVhdGVOZXdGaWxlRm9yTGF5ZXIoZGF0YSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblx0XHRhd2FpdCBuZXdGaWxlLlNhdmUoZGF0YS5zbnYpO1xuXHRcdHJldHVybiBuZXdGaWxlO1xuXHR9XG5cblx0c3RhdGljIGFzeW5jIExvYWRGaWxlKHNudjogU291cmNlQW5kVmF1bHQsIGZpbGVJRDogbnVtYmVyKTogUHJvbWlzZTxDRkVGaWxlPiB7XG5cdFx0Y29uc3Qgc291cmNlRm9sZGVyID0gc252LnNvdXJjZUZvbGRlcjtcblx0XHRjb25zdCB2YXVsdCA9IHNudi52YXVsdDtcblxuXHRcdGNvbnN0IHRGaWxlID0gdmF1bHQuZ2V0RmlsZUJ5UGF0aChzb3VyY2VGb2xkZXIudmF1bHRQYXRoICsgJy8nICsgZmlsZUlEICsgJy5qc29uJyk7XG5cdFx0aWYgKHRGaWxlID09PSBudWxsKSB7XG5cdFx0XHRuZXcgTm90aWNlKFwiRmlsZSBjb3VsZCBub3QgYmUgZm91bmQgYXQgdGhlIHBhdGg6IFwiICsgc291cmNlRm9sZGVyLnZhdWx0UGF0aCArICcvJyArIGZpbGVJRCArICcuanNvbicpO1xuXHRcdFx0dGhyb3cgRXJyb3IoXCJGaWxlIGNvdWxkIG5vdCBiZSBmb3VuZCBhdCB0aGUgcGF0aDogXCIgKyBzb3VyY2VGb2xkZXIudmF1bHRQYXRoICsgJy8nICsgZmlsZUlEICsgJy5qc29uJyk7XG5cdFx0fVxuXHRcdGNvbnN0IGpzb25EYXRhID0gYXdhaXQgdmF1bHQuY2FjaGVkUmVhZCh0RmlsZSk7XG5cdFx0Y29uc3QgcGxhaW5PYmplY3QgPSBKU09OLnBhcnNlKGpzb25EYXRhKTtcblx0XHRzd2l0Y2gocGxhaW5PYmplY3QuZmlsZVR5cGUpIHtcblx0XHRcdGNhc2UgJ0ZvbGRlcic6XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgRm9sZGVyKCksIHBsYWluT2JqZWN0KTtcblx0XHRcdGNhc2UgJ1NpbmdsZSBNZWRpYSBGaWxlJzpcblx0XHRcdFx0cmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IFNpbmdsZU1lZGlhRmlsZSgpLCBwbGFpbk9iamVjdCk7XG5cdFx0XHRjYXNlICdWYXJpYW50IE1lZGlhIEZpbGUnOlxuXHRcdFx0XHRyZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgVmFyaWFudE1lZGlhRmlsZSgpLCBwbGFpbk9iamVjdCk7XG5cdFx0XHRjYXNlICdQbGF5bGlzdCc6XG5cdFx0XHRcdHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBQbGF5bGlzdCgpLCBwbGFpbk9iamVjdCk7XG5cdFx0XHRjYXNlICdId2F5dSBTdG9yeSc6XG5cdFx0XHRcdHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBId2F5dVN0b3J5KCksIHBsYWluT2JqZWN0KTtcblx0XHRcdGNhc2UgJ1Bob3RvbGFuZyBTdG9yeSc6XG5cdFx0XHRcdHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBQaG90b2xhbmdTdG9yeSgpLCBwbGFpbk9iamVjdCk7XG5cdFx0XHRjYXNlICdTb3VyY2UgRm9sZGVyIFNob3J0Y3V0Jzpcblx0XHRcdFx0cmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IFNvdXJjZUZvbGRlclNob3J0Y3V0KCksIHBsYWluT2JqZWN0KTtcblx0XHRcdGNhc2UgJ0NvbmxhbmcgRGljdGlvbmFyeSc6XG5cdFx0XHRcdHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBDb25sYW5nRGljdGlvbmFyeSgpLCBwbGFpbk9iamVjdCk7XG5cdFx0fVxuXHR9XG59XG4iLCAiaW1wb3J0IHsgbm9ybWFsaXplUGF0aCB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgU291cmNlQW5kVmF1bHQgfSBmcm9tIFwiLi9zbnZcIjtcbmltcG9ydCB7IEZpbGVDcmVhdGlvbkRhdGEgfSBmcm9tIFwiLi9maWxlLWNyZWF0aW9uLWRhdGFcIjtcbmltcG9ydCB7IENGRUZpbGVIYW5kbGVyIH0gZnJvbSBcIi4vY2ZlLWZpbGUtaGFuZGxlclwiO1xuaW1wb3J0IHsgU291cmNlRm9sZGVyIH0gZnJvbSBcIi4vc291cmNlLWZvbGRlclwiO1xuaW1wb3J0IHsgRm9sZGVyIH0gZnJvbSBcIi4vZm9sZGVyXCI7XG5cbi8vI3JlZ2lvbiBGb3JtYXR0ZWQgRmlsZSBIYW5kbGVyXG4vLyNlbmRyZWdpb25cblxuLy8jcmVnaW9uIEZpbGUgVHlwZXNcbi8qKlxuICogQW4gaW50ZXJwcmV0YXRpb24gb2YganNvbiBmaWxlcyBhcyBhIFwiZmlsZVwiIG9mIGEgc3BlY2lmaWMgXCJmaWxlIGZvcm1hdFwiXG4gKiB0aGF0IGNhbiBiZSBpbnRlcnByZXRlZCBhbmQgZGlzcGxheWVkIGJ5IHRoZSBwbHVnaW4uXG4gKi9cbmV4cG9ydCBjbGFzcyBDRkVGaWxlIHtcblx0LyoqXG5cdCAqIEEgdW5pcXVlICh3aXRoaW4gdGhlIFwic291cmNlXCIgb2YgdGhlIGN1cnJlbnQgZXhwbG9yZXIpIG51bWVyaWNhbCBpZGVudGlmaWVyIGZvciB0aGUgZmlsZVxuXHQgKi9cblx0aWQ6IG51bWJlcjtcblxuXHQvKipcblx0ICogVGhlIHR5cGUgb2YgZmlsZVxuXHQgKi9cblx0ZmlsZVR5cGU6IHN0cmluZztcblxuXHQvKipcblx0ICogVGhlIG5hbWUgb2YgdGhlIGZpbGUgd2l0aGluIHRoZSBzb3VyY2Vcblx0ICovXG5cdGZpbGVOYW1lOiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIFRoZSBJRCBvZiB0aGUgcGFyZW50IGZvbGRlclxuXHQgKi9cblx0cGFyZW50Rm9sZGVySUQ6IG51bWJlcjtcblxuXHRwcml2YXRlIHN0YXRpYyByZWFkb25seSBGSUxFX05BTUVfSU5QVVRfSU5ERVggPSAwO1xuXHRwcml2YXRlIHN0YXRpYyByZWFkb25seSBQQVJFTlRfRk9MREVSX0lEX0lOUFVUX0lOREVYID0gMTtcblxuXHQvKipcblx0ICogU0hPVUxEIE5PVCBCRSBDQUxMRUQgT1VUU0lERSBPRiBDRkVGaWxlSGFuZGxlci5cblx0ICogXG5cdCAqIFVzZSBDRkVGaWxlSGFuZGxlci5DcmVhdGVOZXcoKSBpbnN0ZWFkLlxuXHQgKiBcblx0ICogQ0hJTEQgQ0xBU1NFUyBTSE9VTEQgTk9UIFdSSVRFIFRPIEEgRklMRS4gVEhJUyBJUyBET05FIElOU0lERSBPRiBDRkVGaWxlSGFuZGxlclxuXHQgKiBcblx0ICogQ0ZFRmlsZSBsYXllcjpcblx0ICogXG5cdCAqIHNldHMgdGhlIHNvdXJjZSwgaWQsIGZpbGUgdHlwZSwgZmlsZSBuYW1lLCBhbmQgcGFyZW50IGZvbGRlciBpZCBvZiB0aGUgZmlsZSBvYmplY3QuXG5cdCAqL1xuXHRzdGF0aWMgYXN5bmMgQ3JlYXRlTmV3RmlsZUZvckxheWVyKGRhdGE6IEZpbGVDcmVhdGlvbkRhdGEpOiBQcm9taXNlPENGRUZpbGU+IHtcblx0XHRjb25zdCBzb3VyY2VBbmRWYXVsdCA9IGRhdGEuc252O1xuXHRcdGNvbnN0IHNvdXJjZUZvbGRlciA9IHNvdXJjZUFuZFZhdWx0LnNvdXJjZUZvbGRlcjtcblxuXHRcdC8vIFNldCB0aGUgdmFsdWVzIG9mIHRoZSB1bmZpbmlzaGVkIGZpbGVcblx0XHRjb25zdCB1bmZpbmlzaGVkRmlsZSA9IG5ldyBDRkVGaWxlKCk7XG5cdFx0dW5maW5pc2hlZEZpbGUuaWQgPSBzb3VyY2VGb2xkZXIuZmlsZUNvdW50O1xuXHRcdHVuZmluaXNoZWRGaWxlLmZpbGVUeXBlID0gZGF0YS5maWxlVHlwZTtcblx0XHR1bmZpbmlzaGVkRmlsZS5maWxlTmFtZSA9ICcnO1xuXHRcdHVuZmluaXNoZWRGaWxlLnBhcmVudEZvbGRlcklEID0gZGF0YS5wYXJlbnRGb2xkZXJJRDtcblx0XHRcblx0XHQvLyBVcGRhdGUgdGhlIGZpbGUgY291bnRcblx0XHRzb3VyY2VGb2xkZXIuZmlsZUNvdW50Kys7XG5cdFx0YXdhaXQgU291cmNlRm9sZGVyLlNhdmUoc291cmNlQW5kVmF1bHQpO1xuXG5cdFx0Ly8gRmluZCB0aGUgcGFyZW50IGZvbGRlciBhbmQgYWRkIHRoaXMgZmlsZSB0byBpdFxuXHRcdGlmICh1bmZpbmlzaGVkRmlsZS5pZCAhPT0gdW5maW5pc2hlZEZpbGUucGFyZW50Rm9sZGVySUQpIHtcblx0XHRcdGNvbnN0IHBhcmVudEZvbGRlciA9IDxGb2xkZXI+IChhd2FpdCBDRkVGaWxlSGFuZGxlci5Mb2FkRmlsZShzb3VyY2VBbmRWYXVsdCwgdW5maW5pc2hlZEZpbGUucGFyZW50Rm9sZGVySUQpKTtcblx0XHRcdHBhcmVudEZvbGRlci5jb250YWluZWRGaWxlSURzLnB1c2godW5maW5pc2hlZEZpbGUuaWQpO1xuXHRcdFx0YXdhaXQgcGFyZW50Rm9sZGVyLlNhdmUoc291cmNlQW5kVmF1bHQpO1xuXHRcdH1cblxuXHRcdC8vIFJldHVybiB0aGUgdW5maW5pc2hlZCBmaWxlIHNvIHRoZSBuZXh0IGxheWVyIGNhbiBhZGQgdG8gaXRcblx0XHRyZXR1cm4gdW5maW5pc2hlZEZpbGU7XG5cdH1cblxuXHQvKipcblx0ICogU0hPVUxEIE5PVCBCRSBDQUxMRUQgT1VUU0lERSBPRiBDRkVGaWxlSGFuZGxlci5cblx0ICogXG5cdCAqIFVzZSBDRkVGaWxlSGFuZGxlci5EaXNwbGF5VGh1bWJuYWlsKCkgaW5zdGVhZC5cblx0ICogXG5cdCAqIENGRUZpbGUgbGF5ZXI6XG5cdCAqIFxuXHQgKiBzZXRzIHRoZSB0aHVtYm5haWwgY29udGFpbmVyJ3MgY3NzIGNsYXNzIHRvICdjZmUtdGh1bWJuYWlsJ1xuXHQgKiBhbmQgZnVsbHkgZGlzcGxheXMgdGhlIGZpbGUgaWYgdGhlIHRodW1ibmFpbCBpcyBjbGlja2VkLlxuXHQgKi9cblx0YXN5bmMgRGlzcGxheVRodW1ibmFpbChzb3VyY2VBbmRWYXVsdDogU291cmNlQW5kVmF1bHQsIHRodW1ibmFpbERpdjogSFRNTERpdkVsZW1lbnQsIGRpc3BsYXlEaXY6IEhUTUxEaXZFbGVtZW50KSB7XG5cdFx0dGh1bWJuYWlsRGl2LmNsYXNzTmFtZSA9ICdjZmUtdGh1bWJuYWlsIHZib3gnO1xuXHRcdHRodW1ibmFpbERpdi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0YXdhaXQgdGhpcy5EaXNwbGF5KHNvdXJjZUFuZFZhdWx0LCBkaXNwbGF5RGl2KTtcblx0XHR9XG5cdFx0Y29uc3QgaWRUZXh0ID0gdGh1bWJuYWlsRGl2LmNyZWF0ZURpdignaGJveCcpO1xuXHRcdGlkVGV4dC50ZXh0Q29udGVudCA9ICdJRDogJyArIHRoaXMuaWQ7XG5cdFx0aWRUZXh0LnN0eWxlLmp1c3RpZnlDb250ZW50ID0gJ2NlbnRlcic7XG5cdFx0Y29uc3QgZmlsZVRleHQgPSB0aHVtYm5haWxEaXYuY3JlYXRlRGl2KCdoYm94Jyk7XG5cdFx0ZmlsZVRleHQudGV4dENvbnRlbnQgPSAnRmlsZSBUeXBlOiAnICsgdGhpcy5maWxlVHlwZTtcblx0XHRmaWxlVGV4dC5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdjZW50ZXInO1xuXHRcdGNvbnN0IG5hbWVUZXh0ID0gdGh1bWJuYWlsRGl2LmNyZWF0ZURpdignaGJveCcpO1xuXHRcdG5hbWVUZXh0LnRleHRDb250ZW50ID0gJ0ZpbGUgTmFtZTogJyArIHRoaXMuZmlsZU5hbWU7XG5cdFx0bmFtZVRleHQuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnY2VudGVyJztcblx0fVxuXHRcblx0LyoqXG5cdCAqIFNIT1VMRCBOT1QgQkUgQ0FMTEVEIE9VVFNJREUgT0YgQ0ZFRmlsZUhhbmRsZXIuXG5cdCAqIFxuXHQgKiBVc2UgQ0ZFRmlsZUhhbmRsZXIuRGlzcGxheSgpIGluc3RlYWQuXG5cdCAqIFxuXHQgKiBDRkVGaWxlIGxheWVyOlxuXHQgKiBcblx0ICogZW1wdGllcyB0aGUgZGlzcGxheSBjb250YWluZXIgcHJvdmlkZWQuXG5cdCAqL1xuXHRhc3luYyBEaXNwbGF5KHNudjogU291cmNlQW5kVmF1bHQsIGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQpIHtcblx0XHRjb250YWluZXIuZW1wdHkoKTtcblx0XHRjb25zdCBoZWFkZXJDb250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KCdoYm94Jyk7XG5cdFx0Y29uc3QgYmFja0J1dHRvbiA9IGhlYWRlckNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQmFjayB0byBwYXJlbnQgZm9sZGVyJyB9ICk7XG5cdFx0aGVhZGVyQ29udGFpbmVyLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnRmlsZSBJRDogJyArIHRoaXMuaWQgfSApXG5cdFx0aGVhZGVyQ29udGFpbmVyLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnRmlsZSBOYW1lOiAnIH0gKVxuXHRcdGNvbnN0IG5hbWVJbnB1dCA9IGhlYWRlckNvbnRhaW5lci5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6IHRoaXMuZmlsZU5hbWUgfSApO1xuXHRcdGJhY2tCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdGNvbnN0IHBhcmVudEZvbGRlciA9IGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNudiwgdGhpcy5wYXJlbnRGb2xkZXJJRCk7XG5cdFx0XHRpZiAocGFyZW50Rm9sZGVyICE9PSBudWxsKSB7XG5cdFx0XHRcdGF3YWl0IHBhcmVudEZvbGRlci5EaXNwbGF5KHNudiwgY29udGFpbmVyKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0bmFtZUlucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0dGhpcy5maWxlTmFtZSA9IG5hbWVJbnB1dC52YWx1ZTtcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTSE9VTEQgTk9UIEJFIENBTExFRCBPVVRTSURFIE9GIENGRUZpbGVIYW5kbGVyLlxuXHQgKiBcblx0ICogKGl0IGlzIHVubGlrZWx5IHRoaXMgbWV0aG9kIHdpbGwgZXZlciBiZSBvdmVycmlkZW4gYnkgY2hpbGQgY2xhc3NlcywgYnV0IG1ha2luZyB0aGlzICdpbmFjY2Vzc2libGUnIGlzIGZvciBjb25zaXN0ZW5jeSlcblx0ICogXG5cdCAqIFVzZSBDRkVGaWxlSGFuZGxlci5TYXZlRmlsZSgpIGluc3RlYWQuXG5cdCAqIFxuXHQgKiBGb3JtYXR0ZWQgRmlsZSBsYXllcjpcblx0ICogXG5cdCAqIERlbGV0ZXMgdGhpcyBmaWxlIElEIGZyb20gdGhlIG9yaWdpbmFsIHBhcmVudCBmb2xkZXIsIGFkZHMgdGhpcyBmaWxlIHRvIHRoZSBuZXcgcGFyZW50IGZvbGRlciwgYW5kIGNoYW5nZXMgdGhlIHBhcmVudCBmb2xkZXIgSURcblx0ICovXG5cdGFzeW5jIE1vdmVGaWxlKHNvdXJjZUFuZFZhdWx0OiBTb3VyY2VBbmRWYXVsdCwgbmV3UGFyZW50Rm9sZGVySUQ6IG51bWJlcikge1xuXHRcdC8vIERlbGV0ZSB0aGlzIGZpbGUgaWQgZnJvbSB0aGUgb3JpZ2luYWwgcGFyZW50IGZvbGRlclxuXHRcdGNvbnN0IG9sZFBhcmVudEZvbGRlciA9IDxGb2xkZXI+IChhd2FpdCBDRkVGaWxlSGFuZGxlci5Mb2FkRmlsZShzb3VyY2VBbmRWYXVsdCwgdGhpcy5wYXJlbnRGb2xkZXJJRCkpO1xuXHRcdGNvbnN0IGluZGV4T2ZGaWxlID0gb2xkUGFyZW50Rm9sZGVyLmNvbnRhaW5lZEZpbGVJRHMuaW5kZXhPZih0aGlzLmlkKTtcblx0XHRvbGRQYXJlbnRGb2xkZXIuY29udGFpbmVkRmlsZUlEcy5zcGxpY2UoaW5kZXhPZkZpbGUsIDEpO1xuXHRcdG9sZFBhcmVudEZvbGRlci5TYXZlKHNvdXJjZUFuZFZhdWx0KTsgLy8gdGhpcyBjYW4gYmUgZG9uZSBhc3luY2hyb25vdXNseSB3aXRob3V0IGFmZmVjdGluZyB0aGUgb3RoZXJzXG5cblx0XHQvLyBBZGQgdGhpcyBmaWxlIHRvIHRoZSBuZXcgcGFyZW50IGZvbGRlclxuXHRcdGNvbnN0IG5ld1BhcmVudEZvbGRlciA9IDxGb2xkZXI+IChhd2FpdCBDRkVGaWxlSGFuZGxlci5Mb2FkRmlsZShzb3VyY2VBbmRWYXVsdCwgbmV3UGFyZW50Rm9sZGVySUQpKTtcblx0XHRuZXdQYXJlbnRGb2xkZXIuY29udGFpbmVkRmlsZUlEcy5wdXNoKHRoaXMuaWQpO1xuXHRcdG5ld1BhcmVudEZvbGRlci5TYXZlKHNvdXJjZUFuZFZhdWx0KTsgLy8gdGhpcyBjYW4gYmUgZG9uZSBhc3luY2hyb25vdXNseSB3aXRob3V0IGFmZmVjdGluZyB0aGUgb3RoZXJzXG5cblx0XHR0aGlzLnBhcmVudEZvbGRlcklEID0gbmV3UGFyZW50Rm9sZGVySUQ7XG5cdFx0dGhpcy5TYXZlKHNvdXJjZUFuZFZhdWx0KTsgLy8gdGhpcyBjYW4gYmUgZG9uZSBhc3luY2hyb25vdXNseSB3aXRob3V0IGFmZmVjdGluZyB0aGUgb3RoZXJzXG5cdH1cblxuXHRhc3luYyBTYXZlKHNvdXJjZUFuZFZhdWx0OiBTb3VyY2VBbmRWYXVsdCkge1xuXHRcdGNvbnN0IHNvdXJjZUZvbGRlciA9IHNvdXJjZUFuZFZhdWx0LnNvdXJjZUZvbGRlcjtcblx0XHRjb25zdCB2YXVsdCA9IHNvdXJjZUFuZFZhdWx0LnZhdWx0O1xuXHRcdGNvbnN0IGZpbGVQYXRoID0gc291cmNlRm9sZGVyLnZhdWx0UGF0aCArICcvJyArIHRoaXMuaWQgKyAnLmpzb24nO1xuXHRcdGNvbnN0IGpzb25EYXRhID0gSlNPTi5zdHJpbmdpZnkodGhpcyk7XG5cdFx0Y29uc3QgdEZpbGUgPSB2YXVsdC5nZXRGaWxlQnlQYXRoKGZpbGVQYXRoKTtcblx0XHRpZiAodEZpbGUgPT09IG51bGwpIHtcblx0XHRcdGNvbnN0IG5vcm1hbGl6ZWRQYXRoID0gbm9ybWFsaXplUGF0aChmaWxlUGF0aCk7XG5cdFx0XHRhd2FpdCB2YXVsdC5hZGFwdGVyLndyaXRlKG5vcm1hbGl6ZWRQYXRoLCBqc29uRGF0YSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGF3YWl0IHZhdWx0Lm1vZGlmeSh0RmlsZSwganNvbkRhdGEpO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgU291cmNlQW5kVmF1bHQgfSBmcm9tIFwiLi9zbnZcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGaWxlQ3JlYXRpb25EYXRhIHtcclxuXHRzbnY6IFNvdXJjZUFuZFZhdWx0O1xyXG5cdGZpbGVUeXBlOiBzdHJpbmc7XHJcblx0cGFyZW50Rm9sZGVySUQ6IG51bWJlcjtcclxuXHRjb25zdHJ1Y3RvcihzbnY6IFNvdXJjZUFuZFZhdWx0LCBmaWxlVHlwZTogc3RyaW5nLCBwYXJlbnRGb2xkZXJJRDogbnVtYmVyKSB7XHJcblx0XHR0aGlzLnNudiA9IHNudjtcclxuXHRcdHRoaXMuZmlsZVR5cGUgPSBmaWxlVHlwZTtcclxuXHRcdHRoaXMucGFyZW50Rm9sZGVySUQgPSBwYXJlbnRGb2xkZXJJRDtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IG5vcm1hbGl6ZVBhdGgsIFRGaWxlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBTb3VyY2VBbmRWYXVsdCB9IGZyb20gXCIuL3NudlwiO1xuaW1wb3J0IHsgUmVhbEZpbGUgfSBmcm9tIFwiLi9yZWFsLWZpbGVcIjtcbmltcG9ydCB7IEZpbGVDcmVhdGlvbkRhdGEgfSBmcm9tIFwiLi9maWxlLWNyZWF0aW9uLWRhdGFcIjtcblxuZXhwb3J0IGNsYXNzIFNpbmdsZU1lZGlhRmlsZSBleHRlbmRzIFJlYWxGaWxlIHtcblx0ZmlsZVR5cGUgPSAnU2luZ2xlIE1lZGlhIEZpbGUnO1xuXG5cdHByaXZhdGUgZXh0ZW5zaW9uTmFtZTogc3RyaW5nO1xuXG5cdGdldCBtZWRpYVR5cGUoKTogc3RyaW5nIHtcblx0XHRzd2l0Y2ggKHRoaXMuZXh0ZW5zaW9uTmFtZSkge1xuXHRcdFx0Y2FzZSAncG5nJzpcblx0XHRcdGNhc2UgJ2pwZyc6XG5cdFx0XHRjYXNlICd3ZWJwJzpcblx0XHRcdGNhc2UgJ2hlaWMnOlxuXHRcdFx0Y2FzZSAnZ2lmJzpcblx0XHRcdFx0cmV0dXJuICdJbWFnZSc7XG5cdFx0XHRjYXNlICdtcDQnOlxuXHRcdFx0Y2FzZSAnTVA0Jzpcblx0XHRcdGNhc2UgJ21vdic6XG5cdFx0XHRjYXNlICdNT1YnOlxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuICdWaWRlbyc7XG5cdFx0fVxuXHR9XG5cblx0b3ZlcnJpZGUgYXN5bmMgZ2V0U3JjKHNudjogU291cmNlQW5kVmF1bHQpOiBQcm9taXNlPHN0cmluZz4ge1xuXHRcdGNvbnN0IG1lZGlhRmlsZSA9IGF3YWl0IHRoaXMuZ2V0VEZpbGUoc252KTtcblx0XHRjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IHNudi52YXVsdC5yZWFkQmluYXJ5KG1lZGlhRmlsZSk7XG5cdFx0Y29uc3QgYmxvYiA9IG5ldyBCbG9iKFthcnJheUJ1ZmZlcl0pO1xuXHRcdGNvbnN0IG1lZGlhVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblx0XHRyZXR1cm4gbWVkaWFVcmw7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGdldFRGaWxlKHNudjogU291cmNlQW5kVmF1bHQpOiBQcm9taXNlPFRGaWxlPiB7XG5cdFx0Y29uc3QgbWVkaWFQYXRoID0gYXdhaXQgdGhpcy5nZXRQYXRoKHNudik7XG5cdFx0Y29uc3QgbWVkaWFGaWxlID0gc252LnZhdWx0LmdldEZpbGVCeVBhdGgobWVkaWFQYXRoKTtcblx0XHRpZiAobWVkaWFGaWxlID09PSBudWxsKSB7XG5cdFx0XHR0aHJvdyBFcnJvcignSW1hZ2Ugbm90IGZvdW5kIGF0IHBhdGg6ICcgKyBtZWRpYVBhdGgpO1xuXHRcdH1cblx0XHRyZXR1cm4gbWVkaWFGaWxlO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBnZXRQYXRoKHNudjogU291cmNlQW5kVmF1bHQpOiBQcm9taXNlPHN0cmluZz4ge1xuXHRcdGNvbnN0IHNvdXJjZUZvbGRlciA9IHNudi5zb3VyY2VGb2xkZXI7XG5cdFx0cmV0dXJuIHNvdXJjZUZvbGRlci52YXVsdFBhdGggKyAnLycgKyB0aGlzLmlkICsgJyBBY3R1YWwgRmlsZS4nICsgdGhpcy5leHRlbnNpb25OYW1lO1xuXHR9XG5cblx0c3RhdGljIG92ZXJyaWRlIGFzeW5jIENyZWF0ZU5ld0ZpbGVGb3JMYXllcihkYXRhOiBGaWxlQ3JlYXRpb25EYXRhKTogUHJvbWlzZTxTaW5nbGVNZWRpYUZpbGU+IHtcblx0XHRjb25zdCBuZXdNZWRpYUZpbGUgPSA8U2luZ2xlTWVkaWFGaWxlPiAoYXdhaXQgc3VwZXIuQ3JlYXRlTmV3RmlsZUZvckxheWVyKGRhdGEpKTtcblx0XHRuZXdNZWRpYUZpbGUuZXh0ZW5zaW9uTmFtZSA9ICcnO1xuXHRcdHJldHVybiBuZXdNZWRpYUZpbGU7XG5cdH1cblxuXHRvdmVycmlkZSBhc3luYyBEaXNwbGF5KHNudjogU291cmNlQW5kVmF1bHQsIGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQpIHtcblx0XHRhd2FpdCBzdXBlci5EaXNwbGF5KHNudiwgY29udGFpbmVyKTtcblxuXHRcdGNvbnN0IGltYWdlRGlzcGxheUNvbnRhaW5lciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ3Zib3gnKTtcblx0XHRpbWFnZURpc3BsYXlDb250YWluZXIuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdDaGFuZ2UgZmlsZScgfSApO1xuXHRcdGNvbnN0IG5ld0ZpbGVJbnB1dCA9IGltYWdlRGlzcGxheUNvbnRhaW5lci5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdmaWxlJyB9ICk7XG5cblx0XHRhd2FpdCB0aGlzLkRpc3BsYXlNZWRpYU9ubHkoaW1hZ2VEaXNwbGF5Q29udGFpbmVyLCBzbnYpO1xuXHRcdFxuXHRcdG5ld0ZpbGVJbnB1dC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IG9sZEZpbGUgPSBhd2FpdCB0aGlzLmdldFRGaWxlKHNudik7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0YXdhaXQgc252LnZhdWx0LmRlbGV0ZShvbGRGaWxlKTtcblx0XHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLlNhdmVOZXdGaWxlKHNudiwgbmV3RmlsZUlucHV0KTtcblx0XHRcdFx0XHR0aGlzLkRpc3BsYXkoc252LCBjb250YWluZXIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0Y29uc29sZS5sb2coKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIFNhdmVOZXdGaWxlKHNudjogU291cmNlQW5kVmF1bHQsIGZpbGVJbnB1dDogSFRNTElucHV0RWxlbWVudCkge1xuXHRcdGNvbnN0IGZpbGVBcnJheSA9IGZpbGVJbnB1dC5maWxlcztcblx0XHRpZiAoZmlsZUFycmF5ID09PSBudWxsKSB7XG5cdFx0XHR0aHJvdyBFcnJvcihcIm5vIGZpbGUgd2FzIHNlbGVjdGVkXCIpO1xuXHRcdH1cblx0XHRjb25zdCBtZWRpYUZpbGUgPSBmaWxlQXJyYXlbMF07XG5cdFx0YXdhaXQgdGhpcy5TZXRGaWxlVG8oc252LCBtZWRpYUZpbGUpO1xuXHR9XG5cblx0YXN5bmMgU2V0RmlsZVRvKHNudjogU291cmNlQW5kVmF1bHQsIG1lZGlhRmlsZTogRmlsZSkge1xuXHRcdGNvbnN0IHBhcnRzT2ZQYXRoID0gbWVkaWFGaWxlLm5hbWUuc3BsaXQoJy4nKTtcblx0XHRjb25zdCBleHRlbnNpb24gPSBwYXJ0c09mUGF0aFtwYXJ0c09mUGF0aC5sZW5ndGggLSAxXTtcblx0XHR0aGlzLmZpbGVOYW1lID0gcGFydHNPZlBhdGhbMF07XG5cdFx0dGhpcy5leHRlbnNpb25OYW1lID0gZXh0ZW5zaW9uO1xuXHRcdGNvbnN0IHBhdGggPSBzbnYuc291cmNlRm9sZGVyLnZhdWx0UGF0aCArICcvJyArIHRoaXMuaWQgKyAnIEFjdHVhbCBGaWxlLicgKyBleHRlbnNpb247XG5cdFx0Y29uc3Qgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVQYXRoKHBhdGgpO1xuXHRcdGF3YWl0IHNudi52YXVsdC5hZGFwdGVyLndyaXRlQmluYXJ5KG5vcm1hbGl6ZWRQYXRoLCBhd2FpdCBtZWRpYUZpbGUuYXJyYXlCdWZmZXIoKSk7XG5cdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XG5cdH1cblxuXHRhc3luYyBEaXNwbGF5TWVkaWFPbmx5KG1lZGlhRGl2OiBIVE1MRGl2RWxlbWVudCwgc252OiBTb3VyY2VBbmRWYXVsdCkge1xuXHRcdGF3YWl0IHN1cGVyLkRpc3BsYXlNZWRpYU9ubHkobWVkaWFEaXYsIHNudik7XG5cdFx0aWYgKHRoaXMubWVkaWFUeXBlID09PSAnSW1hZ2UnKSB7XG5cdFx0XHRjb25zdCBpbWFnZUVsZW1lbnQgPSBtZWRpYURpdi5jcmVhdGVFbCgnaW1nJyk7XG5cdFx0XHRpbWFnZUVsZW1lbnQuc3JjID0gYXdhaXQgdGhpcy5nZXRTcmMoc252KTtcblx0XHRcdGltYWdlRWxlbWVudC5zdHlsZS5vYmplY3RGaXQgPSAnY29udGFpbic7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IHZpZGVvRWxlbWVudCA9IG1lZGlhRGl2LmNyZWF0ZUVsKCd2aWRlbycpO1xuXHRcdFx0dmlkZW9FbGVtZW50LnNyYyA9IGF3YWl0IHRoaXMuZ2V0U3JjKHNudik7XG5cdFx0XHR2aWRlb0VsZW1lbnQuY29udHJvbHMgPSB0cnVlO1xuXHRcdFx0dmlkZW9FbGVtZW50Lmxvb3AgPSB0cnVlO1xuXHRcdFx0dmlkZW9FbGVtZW50LmF1dG9wbGF5ID0gdHJ1ZTtcblx0XHRcdHZpZGVvRWxlbWVudC5zdHlsZS5vYmplY3RGaXQgPSAnY29udGFpbic7XG5cdFx0fVxuXHR9XG59XG4iLCAiaW1wb3J0IHsgQ0ZFRmlsZSB9IGZyb20gXCIuL2NmZS1maWxlXCI7XG5pbXBvcnQgeyBTb3VyY2VBbmRWYXVsdCB9IGZyb20gXCIuL3NudlwiO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUmVhbEZpbGUgZXh0ZW5kcyBDRkVGaWxlIHtcblx0ZmlsZVR5cGUgPSAnUmVhbCBGaWxlJztcblxuXHRhYnN0cmFjdCBnZXRTcmMoc291cmNlQW5kVmF1bHQ6IFNvdXJjZUFuZFZhdWx0KTogUHJvbWlzZTxzdHJpbmc+O1xuXHRhc3luYyBEaXNwbGF5TWVkaWFPbmx5KG1lZGlhRGl2OiBIVE1MRGl2RWxlbWVudCwgc252OiBTb3VyY2VBbmRWYXVsdCkge1xuXHRcdG1lZGlhRGl2LmVtcHR5KCk7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBDRkVGaWxlIH0gZnJvbSBcIi4vY2ZlLWZpbGVcIjtcbmltcG9ydCB7IENGRUZpbGVIYW5kbGVyIH0gZnJvbSBcIi4vY2ZlLWZpbGUtaGFuZGxlclwiO1xuaW1wb3J0IHsgRmlsZUNyZWF0aW9uRGF0YSB9IGZyb20gXCIuL2ZpbGUtY3JlYXRpb24tZGF0YVwiO1xuaW1wb3J0IHsgU2luZ2xlTWVkaWFGaWxlIH0gZnJvbSBcIi4vc2luZ2xlLW1lZGlhLWZpbGVcIjtcbmltcG9ydCB7IFNvdXJjZUFuZFZhdWx0IH0gZnJvbSBcIi4vc252XCI7XG5cbi8qKlxuICogQSBjaGlsZCBjbGFzcyBvZiB0aGUgQ0ZFRmlsZSBjbGFzcy4gUmVwcmVzZW50cyBhIGZvbGRlciB3aXRoaW4gdGhlIFNvdXJjZUZvbGRlci5cbiAqL1xuZXhwb3J0IGNsYXNzIEZvbGRlciBleHRlbmRzIENGRUZpbGUge1xuXHQvKipcblx0ICogVGhlIElEcyBvZiBmaWxlcyBjb250YWluZWQgaW4gdGhpcyBmb2xkZXJcblx0ICovXG5cdGNvbnRhaW5lZEZpbGVJRHM6IG51bWJlcltdO1xuXG5cdC8qKlxuXHQgKiBAb3ZlcnJpZGUgRm9sZGVyIGxheWVyOlxuXHQgKiBcblx0ICogaW5pdGlhbGl6ZXMgdGhlIGNvbnRhaW5lZCBmaWxlIGlkcyBhcnJheSBmb3IgdGhlIGZvbGRlciBvYmplY3Rcblx0ICovXG5cdHN0YXRpYyBvdmVycmlkZSBhc3luYyBDcmVhdGVOZXdGaWxlRm9yTGF5ZXIoZGF0YTogRmlsZUNyZWF0aW9uRGF0YSk6IFByb21pc2U8Rm9sZGVyPiB7XG5cdFx0Y29uc3QgdW5maW5pc2hlZEZvbGRlciA9IDxGb2xkZXI+IChhd2FpdCBzdXBlci5DcmVhdGVOZXdGaWxlRm9yTGF5ZXIoZGF0YSkpO1xuXHRcdHVuZmluaXNoZWRGb2xkZXIuY29udGFpbmVkRmlsZUlEcyA9IFtdO1xuXHRcdHJldHVybiB1bmZpbmlzaGVkRm9sZGVyO1xuXHR9XG5cblx0b3ZlcnJpZGUgYXN5bmMgRGlzcGxheShzbnY6IFNvdXJjZUFuZFZhdWx0LCBtYWluRGl2OiBIVE1MRGl2RWxlbWVudCkge1xuXHRcdGF3YWl0IHN1cGVyLkRpc3BsYXkoc252LCBtYWluRGl2KTtcblx0XHRjb25zdCBjcmVhdGVCdXR0b25zRGl2ID0gbWFpbkRpdi5jcmVhdGVEaXYoJ2hib3gnKTtcblx0XHRjb25zdCBuZXdGaWxlQnV0dG9uID0gY3JlYXRlQnV0dG9uc0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQ3JlYXRlIE5ldyBGaWxlJyB9ICk7XG5cdFx0bmV3RmlsZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0dGhpcy5Mb2FkQ3JlYXRlRmlsZVVJKHNudiwgbWFpbkRpdik7XG5cdFx0fVxuXHRcdGNvbnN0IG1lZGlhRmlsZXNCdXR0b24gPSBjcmVhdGVCdXR0b25zRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdVcGxvYWQgTXVsdGlwbGUgSW1hZ2VzIC8gVmlkZW9zJyB9ICk7XG5cdFx0bWVkaWFGaWxlc0J1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0dGhpcy5Mb2FkRmlsZVNlbGVjdGlvblVJKHNudiwgbWFpbkRpdik7XG5cdFx0fVxuXHRcdGNvbnN0IGZvbGRlckRpc3BsYXlDb250YWluZXIgPSBtYWluRGl2LmNyZWF0ZURpdignY2ZlLWdyaWQnKTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29udGFpbmVkRmlsZUlEcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgY29udGFpbmVkRmlsZSA9IGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNudiwgdGhpcy5jb250YWluZWRGaWxlSURzW2ldKTtcblx0XHRcdGlmIChjb250YWluZWRGaWxlICE9PSBudWxsKSB7XG5cdFx0XHRcdGF3YWl0IGNvbnRhaW5lZEZpbGUuRGlzcGxheVRodW1ibmFpbChzbnYsIGZvbGRlckRpc3BsYXlDb250YWluZXIuY3JlYXRlRGl2KCksIG1haW5EaXYpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRcblx0cHJpdmF0ZSBMb2FkQ3JlYXRlRmlsZVVJKHNudjogU291cmNlQW5kVmF1bHQsIG1haW5EaXY6IEhUTUxEaXZFbGVtZW50KSB7XG5cdFx0Y29uc3QgZGF0YSA9IG5ldyBGaWxlQ3JlYXRpb25EYXRhKHNudiwgJ0ZvbGRlcicsIDApO1xuXHRcdGNvbnN0IHBvcFVwQ29udGFpbmVyID0gbWFpbkRpdi5jcmVhdGVEaXYoJ3Zib3ggY2ZlLXBvcHVwJyk7XG5cdFx0cG9wVXBDb250YWluZXIuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdDaG9vc2UgYSBGaWxlIFR5cGUgdG8gY3JlYXRlOiAnIH0gKTtcblx0XHRjb25zdCBmaWxlVHlwZURyb3Bkb3duID0gcG9wVXBDb250YWluZXIuY3JlYXRlRWwoJ3NlbGVjdCcpO1xuXHRcdHBvcFVwQ29udGFpbmVyLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnUGFyZW50IEZvbGRlciBJRDogJyB9ICk7XG5cdFx0Y29uc3QgcGFyZW50Rm9sZGVySURJbnB1dCA9IHBvcFVwQ29udGFpbmVyLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogJycgKyB0aGlzLmlkIH0gKTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IENGRUZpbGVIYW5kbGVyLktub3duRmlsZVR5cGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBvcHRpb24gPSBmaWxlVHlwZURyb3Bkb3duLmNyZWF0ZUVsKCdvcHRpb24nKTtcblx0XHRcdG9wdGlvbi52YWx1ZSA9IENGRUZpbGVIYW5kbGVyLktub3duRmlsZVR5cGVzW2ldO1xuXHRcdFx0b3B0aW9uLnRleHQgPSBDRkVGaWxlSGFuZGxlci5Lbm93bkZpbGVUeXBlc1tpXTtcblx0XHRcdGZpbGVUeXBlRHJvcGRvd24ub3B0aW9ucy5hZGQob3B0aW9uKTtcblx0XHR9XG5cdFx0Y29uc3QgZXhpdEJ1dHRvbiA9IHBvcFVwQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdYJywgY2xzOiAnY2ZlLWV4aXQtYnV0dG9uJyB9ICk7XG5cdFx0ZXhpdEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0cG9wVXBDb250YWluZXIucmVtb3ZlKCk7XG5cdFx0fVxuXHRcdGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHBvcFVwQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdDcmVhdGUnIH0gKTtcblx0XHRzdWJtaXRCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdGRhdGEuZmlsZVR5cGUgPSBmaWxlVHlwZURyb3Bkb3duLnZhbHVlO1xuXHRcdFx0ZGF0YS5wYXJlbnRGb2xkZXJJRCA9IHBhcnNlSW50KHBhcmVudEZvbGRlcklESW5wdXQudmFsdWUpO1xuXHRcdFx0YXdhaXQgQ0ZFRmlsZUhhbmRsZXIuQ3JlYXRlTmV3KGRhdGEpO1xuXHRcdFx0ZXhpdEJ1dHRvbi5jbGljaygpO1xuXHRcdFx0Y29uc3QgcmVzZXR0ZWRGb2xkZXIgPSBhd2FpdCBDRkVGaWxlSGFuZGxlci5Mb2FkRmlsZShzbnYsIHRoaXMuaWQpO1xuXHRcdFx0YXdhaXQgcmVzZXR0ZWRGb2xkZXIuRGlzcGxheShzbnYsIG1haW5EaXYpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgTG9hZEZpbGVTZWxlY3Rpb25VSShzbnY6IFNvdXJjZUFuZFZhdWx0LCBtYWluRGl2OiBIVE1MRGl2RWxlbWVudCkge1xuXHRcdGNvbnN0IHBvcFVwQ29udGFpbmVyID0gbWFpbkRpdi5jcmVhdGVEaXYoJ3Zib3ggY2ZlLXBvcHVwJyk7XG5cdFx0cG9wVXBDb250YWluZXIuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdDaG9vc2UgeW91ciBmaWxlcycgfSApO1xuXHRcdGNvbnN0IGZpbGVJbnB1dCA9IHBvcFVwQ29udGFpbmVyLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ2ZpbGUnIH0gKTtcblx0XHRmaWxlSW5wdXQubXVsdGlwbGUgPSB0cnVlO1xuXHRcdHBvcFVwQ29udGFpbmVyLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnUGFyZW50IEZvbGRlciBJRDogJyB9ICk7XG5cdFx0Y29uc3QgcGFyZW50Rm9sZGVySURJbnB1dCA9IHBvcFVwQ29udGFpbmVyLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogJycgKyB0aGlzLmlkIH0gKTtcblx0XHRjb25zdCBleGl0QnV0dG9uID0gcG9wVXBDb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1gnLCBjbHM6ICdjZmUtZXhpdC1idXR0b24nIH0gKTtcblx0XHRleGl0QnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHRwb3BVcENvbnRhaW5lci5yZW1vdmUoKTtcblx0XHR9XG5cdFx0Y29uc3Qgc3VibWl0QnV0dG9uID0gcG9wVXBDb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0NyZWF0ZScgfSApO1xuXHRcdHN1Ym1pdEJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0Y29uc3QgZmlsZUFycmF5ID0gZmlsZUlucHV0LmZpbGVzO1xuXHRcdFx0Y29uc3QgcGFyZW50Rm9sZGVySUQgPSBwYXJzZUludChwYXJlbnRGb2xkZXJJRElucHV0LnZhbHVlKTtcblx0XHRcdGlmIChmaWxlQXJyYXkgIT09IG51bGwpIHtcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlQXJyYXkubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRjb25zdCBkYXRhID0gbmV3IEZpbGVDcmVhdGlvbkRhdGEoc252LCAnU2luZ2xlIE1lZGlhIEZpbGUnLCBwYXJlbnRGb2xkZXJJRCk7XG5cdFx0XHRcdFx0Y29uc3QgY2ZlRmlsZSA9IGF3YWl0IENGRUZpbGVIYW5kbGVyLkNyZWF0ZU5ldyhkYXRhKTtcblx0XHRcdFx0XHRjb25zdCBtZWRpYUZpbGUgPSBPYmplY3QuYXNzaWduKG5ldyBTaW5nbGVNZWRpYUZpbGUoKSwgY2ZlRmlsZSk7XG5cdFx0XHRcdFx0YXdhaXQgbWVkaWFGaWxlLlNldEZpbGVUbyhzbnYsIGZpbGVBcnJheVtpXSk7XG5cdFx0XHRcdFx0YXdhaXQgbWVkaWFGaWxlLlNhdmUoc252KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRleGl0QnV0dG9uLmNsaWNrKCk7XG5cdFx0XHRcdGNvbnN0IHJlc2V0dGVkRm9sZGVyID0gYXdhaXQgQ0ZFRmlsZUhhbmRsZXIuTG9hZEZpbGUoc252LCB0aGlzLmlkKTtcblx0XHRcdFx0YXdhaXQgcmVzZXR0ZWRGb2xkZXIuRGlzcGxheShzbnYsIG1haW5EaXYpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuIiwgImltcG9ydCB7IENGRUZpbGUgfSBmcm9tIFwiLi9jZmUtZmlsZVwiO1xuaW1wb3J0IHsgQ0ZFRmlsZUhhbmRsZXIgfSBmcm9tIFwiLi9jZmUtZmlsZS1oYW5kbGVyXCI7XG5pbXBvcnQgeyBGaWxlQ3JlYXRpb25EYXRhIH0gZnJvbSBcIi4vZmlsZS1jcmVhdGlvbi1kYXRhXCI7XG5pbXBvcnQgeyBTaW5nbGVNZWRpYUZpbGUgfSBmcm9tIFwiLi9zaW5nbGUtbWVkaWEtZmlsZVwiO1xuaW1wb3J0IHsgU291cmNlQW5kVmF1bHQgfSBmcm9tIFwiLi9zbnZcIjtcblxuZXhwb3J0IGNsYXNzIEh3YXl1U3RvcnkgZXh0ZW5kcyBDRkVGaWxlIHtcblx0ZmlsZVR5cGUgPSAnSHdheXUgU3RvcnknO1xuXG5cdHByaXZhdGUgY3VycmVudFBhZ2VJbmRleDogbnVtYmVyO1xuXHRwcml2YXRlIHBhZ2VzOiBQYWdlW107XG5cdHByaXZhdGUgY2hhcmFjdGVyczogQ2hhcmFjdGVyW107XG5cdHByaXZhdGUgZ2V0IGZvbnQoKSB7XG5cdFx0cmV0dXJuICdId2F5dVJlYWwnO1xuXHR9XG5cblx0c3RhdGljIG92ZXJyaWRlIGFzeW5jIENyZWF0ZU5ld0ZpbGVGb3JMYXllcihkYXRhOiBGaWxlQ3JlYXRpb25EYXRhKTogUHJvbWlzZTxId2F5dVN0b3J5PiB7XG5cdFx0Y29uc3QgbmV3U3RvcnlGaWxlID0gPEh3YXl1U3Rvcnk+IChhd2FpdCBzdXBlci5DcmVhdGVOZXdGaWxlRm9yTGF5ZXIoZGF0YSkpO1xuXHRcdG5ld1N0b3J5RmlsZS5jdXJyZW50UGFnZUluZGV4ID0gMDtcblx0XHRuZXdTdG9yeUZpbGUucGFnZXMgPSBbXTtcblx0XHRuZXdTdG9yeUZpbGUuY2hhcmFjdGVycyA9IFtdO1xuXHRcdHJldHVybiBuZXdTdG9yeUZpbGU7XG5cdH1cblxuXHRvdmVycmlkZSBhc3luYyBEaXNwbGF5KHNudjogU291cmNlQW5kVmF1bHQsIG1haW5EaXY6IEhUTUxEaXZFbGVtZW50KSB7XG5cdFx0YXdhaXQgc3VwZXIuRGlzcGxheShzbnYsIG1haW5EaXYpO1xuXHRcdGF3YWl0IHRoaXMuTG9hZFN0b3J5VUkoc252LCBtYWluRGl2LmNyZWF0ZURpdigndmJveCcpKTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgTG9hZFN0b3J5VUkoc252OiBTb3VyY2VBbmRWYXVsdCwgbWFpbkRpdjogSFRNTERpdkVsZW1lbnQpIHtcblx0XHRtYWluRGl2LmVtcHR5KCk7XG5cdFx0bWFpbkRpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0dvIHRvIHBhZ2UgbnVtYmVyOicgfSApO1xuXHRcdGNvbnN0IHBhZ2VTZWxlY3REaXYgPSBtYWluRGl2LmNyZWF0ZURpdignaGJveCcpO1xuXHRcdGNvbnN0IHBhZ2VOdW1iZXJJbnB1dCA9IHBhZ2VTZWxlY3REaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiAnJyArICh0aGlzLmN1cnJlbnRQYWdlSW5kZXggKyAxKSB9ICk7XG5cdFx0cGFnZVNlbGVjdERpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJycgKyAnLycgKyB0aGlzLnBhZ2VzLmxlbmd0aCB9ICk7XG5cdFx0Y29uc3QgZ29CdXR0b24gPSBwYWdlU2VsZWN0RGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdHbycgfSApO1xuXHRcdGdvQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHR0aGlzLmN1cnJlbnRQYWdlSW5kZXggPSBwYXJzZUludChwYWdlTnVtYmVySW5wdXQudmFsdWUpIC0gMTtcblx0XHRcdHRoaXMuTG9hZEN1cnJlbnRQYWdlKHNudiwgbWFpbkRpdik7XG5cdFx0fVxuXHRcdHRoaXMuTG9hZENoYXJhY3RlckVkaXRvclVJKHNudiwgbWFpbkRpdik7XG5cdH1cblxuXHRwcml2YXRlIExvYWRDaGFyYWN0ZXJFZGl0b3JVSShzbnY6IFNvdXJjZUFuZFZhdWx0LCBtYWluRGl2OiBIVE1MRGl2RWxlbWVudCkge1xuXHRcdGNvbnN0IGVkaXRvckRpdiA9IG1haW5EaXYuY3JlYXRlRGl2KCd2Ym94Jyk7XG5cdFx0Y29uc3QgYWRkQ2hhckJ1dHRvbiA9IG1haW5EaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0FkZCBDaGFyYWN0ZXInIH0gKTtcblx0XHRsZXQgY291bnQgPSAwO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGFyYWN0ZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBjdXJyZW50SW5kZXggPSBjb3VudDtcblx0XHRcdGNvdW50Kys7XG5cdFx0XHRjb25zdCBjaGFyRGl2ID0gZWRpdG9yRGl2LmNyZWF0ZURpdigndmJveCcpO1xuXHRcdFx0Y29uc3QgbmFtZURpdiA9IGNoYXJEaXYuY3JlYXRlRGl2KCdoYm94Jyk7XG5cdFx0XHRuYW1lRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnTmFtZTogJyB9ICk7XG5cdFx0XHRjb25zdCBuYW1lSW5wdXQgPSBuYW1lRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy5jaGFyYWN0ZXJzW2ldLm5hbWUgfSApO1xuXHRcdFx0Y29uc3QgY29sb3JEaXYgPSBlZGl0b3JEaXYuY3JlYXRlRGl2KCdoYm94Jyk7XG5cdFx0XHRjb2xvckRpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ1RleHQgQ29sb3I6JyB9ICk7XG5cdFx0XHRjb25zdCBjb2xvcklucHV0ID0gY29sb3JEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnY29sb3InLCB2YWx1ZTogdGhpcy5jaGFyYWN0ZXJzW2ldLmNvbG9yIH0gKTtcblx0XHRcdGNvbG9yRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnQmFja2dyb3VuZCBDb2xvcjonIH0gKTtcblx0XHRcdGNvbnN0IGJhY2tncm91bmRJbnB1dCA9IGNvbG9yRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ2NvbG9yJywgdmFsdWU6IHRoaXMuY2hhcmFjdGVyc1tpXS5iYWNrZ3JvdW5kQ29sb3IgfSApO1xuXHRcdFx0Y29uc3Qgc3dhcEJ1dHRvbiA9IGNvbG9yRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdTd2FwJyB9ICk7XG5cdFx0XHRuYW1lSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdHRoaXMuY2hhcmFjdGVyc1tjdXJyZW50SW5kZXhdLm5hbWUgPSBuYW1lSW5wdXQudmFsdWU7XG5cdFx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xuXHRcdFx0fVxuXHRcdFx0Y29sb3JJbnB1dC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0dGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRJbmRleF0uY29sb3IgPSBjb2xvcklucHV0LnZhbHVlO1xuXHRcdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdH1cblx0XHRcdGJhY2tncm91bmRJbnB1dC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0dGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRJbmRleF0uYmFja2dyb3VuZENvbG9yID0gYmFja2dyb3VuZElucHV0LnZhbHVlO1xuXHRcdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdH1cblx0XHRcdHN3YXBCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0dGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRJbmRleF0uYmFja2dyb3VuZENvbG9yID0gY29sb3JJbnB1dC52YWx1ZTtcblx0XHRcdFx0dGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRJbmRleF0uY29sb3IgPSBiYWNrZ3JvdW5kSW5wdXQudmFsdWU7XG5cdFx0XHRcdGJhY2tncm91bmRJbnB1dC52YWx1ZSA9IHRoaXMuY2hhcmFjdGVyc1tjdXJyZW50SW5kZXhdLmJhY2tncm91bmRDb2xvcjtcblx0XHRcdFx0Y29sb3JJbnB1dC52YWx1ZSA9IHRoaXMuY2hhcmFjdGVyc1tjdXJyZW50SW5kZXhdLmNvbG9yO1xuXHRcdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0YWRkQ2hhckJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0Y29uc3QgY3VycmVudEluZGV4ID0gY291bnQ7XG5cdFx0XHRjb3VudCsrO1xuXHRcdFx0dGhpcy5jaGFyYWN0ZXJzLnB1c2gobmV3IENoYXJhY3RlcignJywgJ3doaXRlJywgJ2JsYWNrJykpO1xuXHRcdFx0Y29uc3QgY2hhckRpdiA9IGVkaXRvckRpdi5jcmVhdGVEaXYoJ3Zib3gnKTtcblx0XHRcdGNvbnN0IG5hbWVEaXYgPSBjaGFyRGl2LmNyZWF0ZURpdignaGJveCcpO1xuXHRcdFx0bmFtZURpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ05hbWU6ICcgfSApO1xuXHRcdFx0Y29uc3QgbmFtZUlucHV0ID0gbmFtZURpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JyB9ICk7XG5cdFx0XHRjb25zdCBjb2xvckRpdiA9IGVkaXRvckRpdi5jcmVhdGVEaXYoJ2hib3gnKTtcblx0XHRcdGNvbG9yRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnVGV4dCBDb2xvcjonIH0gKTtcblx0XHRcdGNvbnN0IGNvbG9ySW5wdXQgPSBjb2xvckRpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdjb2xvcicsIHZhbHVlOiB0aGlzLmNoYXJhY3RlcnNbY291bnQgLSAxXS5jb2xvciB9ICk7XG5cdFx0XHRjb2xvckRpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0JhY2tncm91bmQgQ29sb3I6JyB9ICk7XG5cdFx0XHRjb25zdCBiYWNrZ3JvdW5kSW5wdXQgPSBjb2xvckRpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdjb2xvcicsIHZhbHVlOiB0aGlzLmNoYXJhY3RlcnNbY291bnQgLSAxXS5iYWNrZ3JvdW5kQ29sb3IgfSApO1xuXHRcdFx0Y29uc3Qgc3dhcEJ1dHRvbiA9IGNvbG9yRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdTd2FwJyB9ICk7XG5cdFx0XHRuYW1lSW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XG5cdFx0XHRcdHRoaXMuY2hhcmFjdGVyc1tjdXJyZW50SW5kZXhdLm5hbWUgPSBuYW1lSW5wdXQudmFsdWU7XG5cdFx0XHRcdHRoaXMuU2F2ZShzbnYpO1xuXHRcdFx0fVxuXHRcdFx0Y29sb3JJbnB1dC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0dGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRJbmRleF0uY29sb3IgPSBjb2xvcklucHV0LnZhbHVlO1xuXHRcdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdH1cblx0XHRcdGJhY2tncm91bmRJbnB1dC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0dGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRJbmRleF0uYmFja2dyb3VuZENvbG9yID0gYmFja2dyb3VuZElucHV0LnZhbHVlO1xuXHRcdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdH1cblx0XHRcdHN3YXBCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0dGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRJbmRleF0uYmFja2dyb3VuZENvbG9yID0gY29sb3JJbnB1dC52YWx1ZTtcblx0XHRcdFx0dGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRJbmRleF0uY29sb3IgPSBiYWNrZ3JvdW5kSW5wdXQudmFsdWU7XG5cdFx0XHRcdGJhY2tncm91bmRJbnB1dC52YWx1ZSA9IHRoaXMuY2hhcmFjdGVyc1tjdXJyZW50SW5kZXhdLmJhY2tncm91bmRDb2xvcjtcblx0XHRcdFx0Y29sb3JJbnB1dC52YWx1ZSA9IHRoaXMuY2hhcmFjdGVyc1tjdXJyZW50SW5kZXhdLmNvbG9yO1xuXHRcdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdH1cblx0XHRcdHRoaXMuU2F2ZShzbnYpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgTG9hZFBhZ2VTZWxlY3RvcihzbnY6IFNvdXJjZUFuZFZhdWx0LCBtYWluRGl2OiBIVE1MRGl2RWxlbWVudCkge1xuXHRcdGNvbnN0IGJ1dHRvbnNEaXYgPSBtYWluRGl2LmNyZWF0ZURpdignaGJveCcpO1xuXHRcdGNvbnN0IGJhY2tCdXR0b24gPSBidXR0b25zRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICctJyB9ICk7XG5cdFx0Y29uc3QgcGFnZU51bWJlcklucHV0ID0gYnV0dG9uc0Rpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6ICcnICsgKHRoaXMuY3VycmVudFBhZ2VJbmRleCArIDEpIH0gKTtcblx0XHRidXR0b25zRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnJyArICcvJyArIHRoaXMucGFnZXMubGVuZ3RoIH0gKTtcblx0XHRjb25zdCBuZXh0QnV0dG9uID0gYnV0dG9uc0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnKycgfSApO1xuXHRcdGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0RlbGV0ZSBQYWdlJyB9ICk7XG5cdFx0ZGVsZXRlQnV0dG9uLmNsYXNzTmFtZSA9ICdjZmUtcmVtb3ZlLWJ1dHRvbic7XG5cdFx0Y29uc3QgYWRkQnV0dG9uID0gYnV0dG9uc0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQWRkIFBhZ2UnIH0gKTtcblx0XHRiYWNrQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAodGhpcy5jdXJyZW50UGFnZUluZGV4ID4gMCkge1xuXHRcdFx0XHR0aGlzLmN1cnJlbnRQYWdlSW5kZXgtLTtcblx0XHRcdFx0YXdhaXQgdGhpcy5Mb2FkQ3VycmVudFBhZ2Uoc252LCBtYWluRGl2KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0bmV4dEJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKHRoaXMuY3VycmVudFBhZ2VJbmRleCA8IHRoaXMucGFnZXMubGVuZ3RoKSB7XG5cdFx0XHRcdHRoaXMuY3VycmVudFBhZ2VJbmRleCsrO1xuXHRcdFx0XHRhd2FpdCB0aGlzLkxvYWRDdXJyZW50UGFnZShzbnYsIG1haW5EaXYpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRwYWdlTnVtYmVySW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHR0aGlzLmN1cnJlbnRQYWdlSW5kZXggPSBwYXJzZUludChwYWdlTnVtYmVySW5wdXQudmFsdWUpIC0gMTtcblx0XHRcdGF3YWl0IHRoaXMuTG9hZEN1cnJlbnRQYWdlKHNudiwgbWFpbkRpdik7XG5cdFx0fVxuXHRcdGRlbGV0ZUJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0dGhpcy5wYWdlcy5zcGxpY2UodGhpcy5jdXJyZW50UGFnZUluZGV4LCAxKTtcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xuXHRcdFx0aWYgKHRoaXMuY3VycmVudFBhZ2VJbmRleCAhPT0gMCkge1xuXHRcdFx0XHR0aGlzLmN1cnJlbnRQYWdlSW5kZXgtLTtcblx0XHRcdH1cblx0XHRcdGF3YWl0IHRoaXMuTG9hZEN1cnJlbnRQYWdlKHNudixtYWluRGl2KTtcblx0XHR9XG5cdFx0YWRkQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRjb25zdCBkZWZhdWx0UGFnZSA9IG5ldyBQYWdlKCk7XG5cdFx0XHRjb25zdCB0aGlzUGFnZUZpbGVJRCA9IHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XS5tZWRpYUZpbGVJRDtcblx0XHRcdGlmICh0aGlzUGFnZUZpbGVJRCAhPT0gLTEgJiYgdGhpc1BhZ2VGaWxlSUQgPCBzbnYuc291cmNlRm9sZGVyLmZpbGVDb3VudCkge1xuXHRcdFx0XHRkZWZhdWx0UGFnZS5tZWRpYUZpbGVJRCA9IHRoaXNQYWdlRmlsZUlEO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5wYWdlcy5zcGxpY2UodGhpcy5jdXJyZW50UGFnZUluZGV4ICsgMSwgMCwgZGVmYXVsdFBhZ2UpO1xuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XG5cdFx0XHR0aGlzLmN1cnJlbnRQYWdlSW5kZXgrKztcblx0XHRcdGF3YWl0IHRoaXMuTG9hZEN1cnJlbnRQYWdlKHNudixtYWluRGl2KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIExvYWRDdXJyZW50UGFnZShzbnY6IFNvdXJjZUFuZFZhdWx0LCBtYWluRGl2OiBIVE1MRGl2RWxlbWVudCkge1xuXHRcdG1haW5EaXYuZW1wdHkoKTtcblx0XHRjb25zdCBiYWNrQnV0dG9uID0gbWFpbkRpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnUmV0dXJuIHRvIFN0b3J5JyB9ICk7XG5cdFx0YmFja0J1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0YXdhaXQgdGhpcy5Mb2FkU3RvcnlVSShzbnYsIG1haW5EaXYpO1xuXHRcdH1cblx0XHR0aGlzLkxvYWRQYWdlU2VsZWN0b3Ioc252LCBtYWluRGl2KTtcblx0XHRtYWluRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnTWVkaWEgRmlsZSBJRDonIH0gKTtcblx0XHRjb25zdCBtZWRpYUZpbGVJRElucHV0ID0gbWFpbkRpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JyB9ICk7XG5cdFx0XHRcdGNvbnN0IHBhbmVsRGl2ID0gbWFpbkRpdi5jcmVhdGVEaXYoJ2hib3gnKTtcblx0XHRjb25zdCBvdXRlck1lZGlhRGl2ID0gcGFuZWxEaXYuY3JlYXRlRGl2KCd2Ym94Jyk7XG5cdFx0Y29uc3QgbGluZXNEaXYgPSBwYW5lbERpdi5jcmVhdGVEaXYoJ3Zib3gnKTtcblx0XHRjb25zdCBtZWRpYVdpZHRoSW5wdXQgPSBvdXRlck1lZGlhRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnIH0gKTtcblx0XHRtZWRpYVdpZHRoSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRvdXRlck1lZGlhRGl2LnN0eWxlLndpZHRoID0gbWVkaWFXaWR0aElucHV0LnZhbHVlICsgJyUnO1xuXHRcdFx0bGluZXNEaXYuc3R5bGUud2lkdGggPSAxMDAgLSBwYXJzZUludChtZWRpYVdpZHRoSW5wdXQudmFsdWUpICsgJyUnO1xuXHRcdFx0dGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLm1lZGlhU2l6ZVBlcmNlbnRhZ2UgPSBwYXJzZUludChtZWRpYVdpZHRoSW5wdXQudmFsdWUpO1xuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XG5cdFx0fVxuXHRcdGNvbnN0IG1lZGlhRGl2ID0gb3V0ZXJNZWRpYURpdi5jcmVhdGVEaXYoJ3Zib3gnKTtcblx0XHRvdXRlck1lZGlhRGl2LnN0eWxlLndpZHRoID0gJzUwJSc7XG5cdFx0bWVkaWFEaXYuc3R5bGUub2JqZWN0Rml0ID0gJ2NvbnRhaW4nO1xuXHRcdGxpbmVzRGl2LnN0eWxlLndpZHRoID0gJzUwJSc7XG5cdFx0bGluZXNEaXYuc3R5bGUubWF4SGVpZ2h0ID0gJzgwdmgnO1xuXHRcdGxpbmVzRGl2LnN0eWxlLnBvc2l0aW9uID0gJ3N0aWNreSc7XG5cdFx0bGluZXNEaXYuc3R5bGUudG9wID0gJzAlJztcblx0XHRpZiAodGhpcy5jdXJyZW50UGFnZUluZGV4IDwgdGhpcy5wYWdlcy5sZW5ndGgpIHtcblx0XHRcdGNvbnN0IGN1cnJlbnRQYWdlID0gdGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdO1xuXHRcdFx0Y29uc3QgbWVkaWFGaWxlSUQgPSBjdXJyZW50UGFnZS5tZWRpYUZpbGVJRDtcblx0XHRcdG1lZGlhRmlsZUlESW5wdXQudmFsdWUgPSAnJyArIGN1cnJlbnRQYWdlLm1lZGlhRmlsZUlEO1xuXHRcdFx0aWYgKG1lZGlhRmlsZUlEID4gMCkge1xuXHRcdFx0XHRjb25zdCBtZWRpYUZpbGUgPSA8U2luZ2xlTWVkaWFGaWxlPiBhd2FpdCBDRkVGaWxlSGFuZGxlci5Mb2FkRmlsZShzbnYsIG1lZGlhRmlsZUlEKTtcblx0XHRcdFx0YXdhaXQgbWVkaWFGaWxlLkRpc3BsYXlNZWRpYU9ubHkobWVkaWFEaXYsIHNudik7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLm1lZGlhU2l6ZVBlcmNlbnRhZ2UpIHtcblx0XHRcdFx0bWVkaWFXaWR0aElucHV0LnZhbHVlID0gJycgKyB0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF0ubWVkaWFTaXplUGVyY2VudGFnZTtcblx0XHRcdFx0b3V0ZXJNZWRpYURpdi5zdHlsZS53aWR0aCA9IG1lZGlhV2lkdGhJbnB1dC52YWx1ZSArICclJztcblx0XHRcdFx0bGluZXNEaXYuc3R5bGUud2lkdGggPSAxMDAgLSBwYXJzZUludChtZWRpYVdpZHRoSW5wdXQudmFsdWUpICsgJyUnO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bWVkaWFXaWR0aElucHV0LnZhbHVlID0gJzUwJztcblx0XHRcdFx0dGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLm1lZGlhU2l6ZVBlcmNlbnRhZ2UgPSA1MDtcblx0XHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IGRlZmF1bHRQYWdlID0gbmV3IFBhZ2UoKTtcblx0XHRcdGNvbnN0IGxhc3RQYWdlID0gdGhpcy5jdXJyZW50UGFnZUluZGV4IC0gMTtcblx0XHRcdGlmIChsYXN0UGFnZSA+PSAwICYmIHRoaXMuY3VycmVudFBhZ2VJbmRleCAhPT0gMCkge1xuXHRcdFx0XHRjb25zdCBsYXN0UGFnZUZpbGVJRCA9IHRoaXMucGFnZXNbbGFzdFBhZ2VdLm1lZGlhRmlsZUlEO1xuXHRcdFx0XHRjb25zdCBsYXN0UGFnZVNpemUgPSB0aGlzLnBhZ2VzW2xhc3RQYWdlXS5tZWRpYVNpemVQZXJjZW50YWdlO1xuXHRcdFx0XHRkZWZhdWx0UGFnZS5tZWRpYVNpemVQZXJjZW50YWdlID0gbGFzdFBhZ2VTaXplO1xuXHRcdFx0XHRtZWRpYVdpZHRoSW5wdXQudmFsdWUgPSAnJyArIGxhc3RQYWdlU2l6ZTtcblx0XHRcdFx0b3V0ZXJNZWRpYURpdi5zdHlsZS53aWR0aCA9IG1lZGlhV2lkdGhJbnB1dC52YWx1ZSArICclJztcblx0XHRcdFx0bGluZXNEaXYuc3R5bGUud2lkdGggPSAxMDAgLSBwYXJzZUludChtZWRpYVdpZHRoSW5wdXQudmFsdWUpICsgJyUnO1xuXHRcdFx0XHRpZiAobGFzdFBhZ2VGaWxlSUQgIT09IC0xICYmIGxhc3RQYWdlRmlsZUlEIDwgc252LnNvdXJjZUZvbGRlci5maWxlQ291bnQpIHtcblx0XHRcdFx0XHRjb25zdCBtZWRpYUZpbGVJRCA9IGxhc3RQYWdlRmlsZUlEICsgMTtcblx0XHRcdFx0XHRkZWZhdWx0UGFnZS5tZWRpYUZpbGVJRCA9IG1lZGlhRmlsZUlEO1xuXHRcdFx0XHRcdG1lZGlhRmlsZUlESW5wdXQudmFsdWUgPSAnJyArIG1lZGlhRmlsZUlEO1xuXHRcdFx0XHRcdGlmIChtZWRpYUZpbGVJRCA+IDApIHtcblx0XHRcdFx0XHRcdGNvbnN0IG1lZGlhRmlsZSA9IDxTaW5nbGVNZWRpYUZpbGU+IGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNudiwgbWVkaWFGaWxlSUQpO1xuXHRcdFx0XHRcdFx0YXdhaXQgbWVkaWFGaWxlLkRpc3BsYXlNZWRpYU9ubHkobWVkaWFEaXYsIHNudik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnBhZ2VzLnB1c2goZGVmYXVsdFBhZ2UpO1xuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XG5cdFx0fVxuXHRcdGF3YWl0IHRoaXMuTG9hZERpYWxvZ3VlTGluZXMoc252LCBsaW5lc0Rpdik7XG5cdFx0bWVkaWFGaWxlSURJbnB1dC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdGNvbnN0IGN1cnJlbnRQYWdlID0gdGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdO1xuXHRcdFx0Y3VycmVudFBhZ2UubWVkaWFGaWxlSUQgPSBwYXJzZUludChtZWRpYUZpbGVJRElucHV0LnZhbHVlKTtcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xuXHRcdFx0Y29uc3QgbWVkaWFGaWxlID0gPFNpbmdsZU1lZGlhRmlsZT4gYXdhaXQgQ0ZFRmlsZUhhbmRsZXIuTG9hZEZpbGUoc252LCBjdXJyZW50UGFnZS5tZWRpYUZpbGVJRCk7XG5cdFx0XHRhd2FpdCBtZWRpYUZpbGUuRGlzcGxheU1lZGlhT25seShtZWRpYURpdiwgc252KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIExvYWREaWFsb2d1ZUxpbmVzKHNudjogU291cmNlQW5kVmF1bHQsIGxpbmVzRGl2OiBIVE1MRGl2RWxlbWVudCkge1xuXHRcdGNvbnN0IGV4aXN0aW5nTGluZXNEaXYgPSBsaW5lc0Rpdi5jcmVhdGVEaXYoJ2hib3gnKTtcblx0XHRleGlzdGluZ0xpbmVzRGl2LnN0eWxlLm92ZXJmbG93WCA9ICdzY3JvbGwnO1xuXHRcdGNvbnN0IGZvbnRTaXplID0gJzE3LjVweCc7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF0ubGluZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGN1cnJlbnRJbmRleCA9IGk7XG5cdFx0XHRjb25zdCBjdXJyZW50TGluZSA9IHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XS5saW5lc1tpXTtcblx0XHRcdGNvbnN0IHNwZWFrZXJJbmRleCA9IGN1cnJlbnRMaW5lLnNwZWFrZXJJbmRleDtcblx0XHRcdGNvbnN0IGN1cnJlbnRTcGVha2VyID0gdGhpcy5jaGFyYWN0ZXJzW3NwZWFrZXJJbmRleF07XG5cdFx0XHRjb25zdCBsaW5lRGl2ID0gZXhpc3RpbmdMaW5lc0Rpdi5jcmVhdGVEaXYoJ3Zib3gnKTtcblx0XHRcdGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGxpbmVEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJy0nIH0gKTtcblx0XHRcdGRlbGV0ZUJ1dHRvbi5jbGFzc05hbWUgPSAnY2ZlLXJlbW92ZS1idXR0b24nO1xuXHRcdFx0ZGVsZXRlQnV0dG9uLnN0eWxlLndyaXRpbmdNb2RlID0gJ3ZlcnRpY2FsLWxyJztcblx0XHRcdGRlbGV0ZUJ1dHRvbi5zdHlsZS50ZXh0T3JpZW50YXRpb24gPSAndXByaWdodCc7XG5cdFx0XHRkZWxldGVCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0dGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLmxpbmVzLnNwbGljZShjdXJyZW50SW5kZXgsIDEpO1xuXHRcdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdFx0YXdhaXQgdGhpcy5Mb2FkRGlhbG9ndWVMaW5lcyhzbnYsIGxpbmVzRGl2KTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IGluZGV4RWxlbWVudCA9IGxpbmVEaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICcnICsgIGN1cnJlbnRJbmRleCB9ICk7XG5cdFx0XHRpbmRleEVsZW1lbnQuc3R5bGUuY29sb3IgPSBjdXJyZW50U3BlYWtlci5jb2xvcjtcblx0XHRcdGluZGV4RWxlbWVudC5zdHlsZS5mb250RmFtaWx5ID0gdGhpcy5mb250O1xuXHRcdFx0aW5kZXhFbGVtZW50LnN0eWxlLndyaXRpbmdNb2RlID0gJ3ZlcnRpY2FsLWxyJztcblx0XHRcdGluZGV4RWxlbWVudC5zdHlsZS50ZXh0T3JpZW50YXRpb24gPSAndXByaWdodCc7XG5cdFx0XHRjb25zdCBjaGFyRHJvcGRvd25EaXYgPSBsaW5lRGl2LmNyZWF0ZURpdigpO1xuXHRcdFx0Y2hhckRyb3Bkb3duRGl2LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcblx0XHRcdGNvbnN0IGNoYXJEcm9wZG93biA9IGNoYXJEcm9wZG93bkRpdi5jcmVhdGVFbCgnYnV0dG9uJyk7XG5cdFx0XHRjaGFyRHJvcGRvd24uc3R5bGUuaGVpZ2h0ID0gJ2ZpdC1jb250ZW50Jztcblx0XHRcdGNoYXJEcm9wZG93bi5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBzZWxlY3REaXYgPSBjaGFyRHJvcGRvd25EaXYuY3JlYXRlRGl2KCdoYm94Jyk7XG5cdFx0XHRcdHNlbGVjdERpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG5cdFx0XHRcdHNlbGVjdERpdi5zdHlsZS50b3AgPSAnMCUnO1xuXHRcdFx0XHRzZWxlY3REaXYuc3R5bGUubGVmdCA9ICcwJSc7XG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGFyYWN0ZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0Y29uc3QgY3VycmVudENoYXJJbmRleCA9IGk7XG5cdFx0XHRcdFx0Y29uc3QgY3VycmVudENoYXIgPSB0aGlzLmNoYXJhY3RlcnNbY3VycmVudENoYXJJbmRleF07XG5cdFx0XHRcdFx0Y29uc3QgY3VycmVudE9wdGlvbiA9IHNlbGVjdERpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiBjdXJyZW50Q2hhci5uYW1lLCB2YWx1ZTogJycgKyBpIH0gKTtcblx0XHRcdFx0XHRjdXJyZW50T3B0aW9uLnN0eWxlLmNvbG9yID0gY3VycmVudENoYXIuY29sb3I7XG5cdFx0XHRcdFx0Y3VycmVudE9wdGlvbi5zdHlsZS5mb250RmFtaWx5ID0gdGhpcy5mb250O1xuXHRcdFx0XHRcdGN1cnJlbnRPcHRpb24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY3VycmVudENoYXIuYmFja2dyb3VuZENvbG9yO1xuXHRcdFx0XHRcdGN1cnJlbnRPcHRpb24uc3R5bGUud3JpdGluZ01vZGUgPSAndmVydGljYWwtbHInO1xuXHRcdFx0XHRcdGN1cnJlbnRPcHRpb24uc3R5bGUudGV4dE9yaWVudGF0aW9uID0gJ3VwcmlnaHQnO1xuXHRcdFx0XHRcdGN1cnJlbnRPcHRpb24uc3R5bGUuaGVpZ2h0ID0gJ2ZpdC1jb250ZW50Jztcblx0XHRcdFx0XHRjdXJyZW50T3B0aW9uLnN0eWxlLnpJbmRleCA9ICcyJztcblx0XHRcdFx0XHRjdXJyZW50T3B0aW9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF0ubGluZXNbY3VycmVudEluZGV4XS5zcGVha2VySW5kZXggPSBjdXJyZW50Q2hhckluZGV4O1xuXHRcdFx0XHRcdFx0Y29uc3QgbmV3U3BlYWtlckNvbG9yID0gdGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRDaGFySW5kZXhdLmNvbG9yO1xuXHRcdFx0XHRcdFx0Y29uc3QgbmV3QmFja2dyb3VuZENvbG9yID0gdGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRDaGFySW5kZXhdLmJhY2tncm91bmRDb2xvcjtcblx0XHRcdFx0XHRcdGNoYXJEcm9wZG93bi5zdHlsZS5jb2xvciA9IG5ld1NwZWFrZXJDb2xvcjtcblx0XHRcdFx0XHRcdGNoYXJEcm9wZG93bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBuZXdCYWNrZ3JvdW5kQ29sb3I7XG5cdFx0XHRcdFx0XHRjaGFyRHJvcGRvd24udGV4dENvbnRlbnQgPSB0aGlzLmNoYXJhY3RlcnNbY3VycmVudENoYXJJbmRleF0ubmFtZTtcblx0XHRcdFx0XHRcdGxpbmVJbnB1dC5zdHlsZS5jb2xvciA9IG5ld1NwZWFrZXJDb2xvcjtcblx0XHRcdFx0XHRcdGxpbmVJbnB1dC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBuZXdCYWNrZ3JvdW5kQ29sb3I7XG5cdFx0XHRcdFx0XHRpbmRleEVsZW1lbnQuc3R5bGUuY29sb3IgPSBuZXdTcGVha2VyQ29sb3I7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdFx0XHRcdHNlbGVjdERpdi5yZW1vdmUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGNoYXJEcm9wZG93bi50ZXh0Q29udGVudCA9IHRoaXMuY2hhcmFjdGVyc1tjdXJyZW50TGluZS5zcGVha2VySW5kZXhdLm5hbWU7XG5cdFx0XHRjaGFyRHJvcGRvd24uc3R5bGUuY29sb3IgPSBjdXJyZW50U3BlYWtlci5jb2xvcjtcblx0XHRcdGNoYXJEcm9wZG93bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjdXJyZW50U3BlYWtlci5iYWNrZ3JvdW5kQ29sb3I7XG5cdFx0XHRjaGFyRHJvcGRvd24uc3R5bGUuZm9udEZhbWlseSA9IHRoaXMuZm9udDtcblx0XHRcdGNoYXJEcm9wZG93bi5zdHlsZS53cml0aW5nTW9kZSA9ICd2ZXJ0aWNhbC1scic7XG5cdFx0XHRjaGFyRHJvcGRvd24uc3R5bGUudGV4dE9yaWVudGF0aW9uID0gJ3VwcmlnaHQnO1xuXHRcdFx0Y29uc3QgbGluZUlucHV0ID0gbGluZURpdi5jcmVhdGVFbCgndGV4dGFyZWEnKTtcblx0XHRcdGxpbmVJbnB1dC5zcGVsbGNoZWNrID0gZmFsc2U7XG5cdFx0XHRsaW5lSW5wdXQuc3R5bGUub3ZlcmZsb3dYID0gJ3Njcm9sbCc7XG5cdFx0XHRsaW5lSW5wdXQuc3R5bGUud3JpdGluZ01vZGUgPSAndmVydGljYWwtbHInO1xuXHRcdFx0bGluZUlucHV0LnN0eWxlLnRleHRPcmllbnRhdGlvbiA9ICd1cHJpZ2h0Jztcblx0XHRcdGxpbmVJbnB1dC5kZWZhdWx0VmFsdWUgPSBjdXJyZW50TGluZS5saW5lXG5cdFx0XHRsaW5lSW5wdXQuc3R5bGUuY29sb3IgPSBjdXJyZW50U3BlYWtlci5jb2xvcjtcblx0XHRcdGxpbmVJbnB1dC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjdXJyZW50U3BlYWtlci5iYWNrZ3JvdW5kQ29sb3I7XG5cdFx0XHRsaW5lSW5wdXQuc3R5bGUuZm9udEZhbWlseSA9IHRoaXMuZm9udDtcblx0XHRcdGxpbmVJbnB1dC5zdHlsZS5mb250U2l6ZSA9IGZvbnRTaXplO1xuXHRcdFx0bGluZUlucHV0LnN0eWxlLmhlaWdodCA9ICcxMDAlJztcblx0XHRcdGxpbmVJbnB1dC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0dGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLmxpbmVzW2N1cnJlbnRJbmRleF0ubGluZSA9IGxpbmVJbnB1dC52YWx1ZTtcblx0XHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNvbnN0IGFkZEJ1dHRvbiA9IGV4aXN0aW5nTGluZXNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJysnIH0gKTtcblx0XHRhZGRCdXR0b24uc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuXHRcdGFkZEJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0dGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLmxpbmVzLnB1c2gobmV3IERpYWxvZ3VlTGluZSgwLCAnJykpO1xuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XG5cdFx0XHRhd2FpdCB0aGlzLkxvYWREaWFsb2d1ZUxpbmVzKHNudiwgbGluZXNEaXYpO1xuXHRcdH1cblx0fVxufVxuXG5jbGFzcyBQYWdlIHtcblx0bWVkaWFGaWxlSUQ6IG51bWJlcjtcblx0bGluZXM6IERpYWxvZ3VlTGluZVtdO1xuXHRtZWRpYVNpemVQZXJjZW50YWdlOiBudW1iZXI7XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMubWVkaWFGaWxlSUQgPSAtMTtcblx0XHR0aGlzLmxpbmVzID0gW107XG5cdFx0dGhpcy5tZWRpYVNpemVQZXJjZW50YWdlID0gNTA7XG5cdH1cbn1cbmNsYXNzIERpYWxvZ3VlTGluZSB7XG5cdHNwZWFrZXJJbmRleDogbnVtYmVyO1xuXHRsaW5lOiBzdHJpbmc7XG5cdGNvbnN0cnVjdG9yKHNwZWFrZXJJbmRleDogbnVtYmVyLCBsaW5lOiBzdHJpbmcpIHtcblx0XHR0aGlzLnNwZWFrZXJJbmRleCA9IHNwZWFrZXJJbmRleDtcblx0XHR0aGlzLmxpbmUgPSBsaW5lO1xuXHR9XG59XG5jbGFzcyBDaGFyYWN0ZXIge1xuXHRuYW1lOiBzdHJpbmc7XG5cdGNvbG9yOiBzdHJpbmc7XG5cdGJhY2tncm91bmRDb2xvcjogc3RyaW5nO1xuXHRjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIGNvbG9yOiBzdHJpbmcsIGJhY2tncm91bmRDb2xvcjogc3RyaW5nKSB7XG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcblx0XHR0aGlzLmNvbG9yID0gY29sb3I7XG5cdFx0dGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3I7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBDRkVGaWxlIH0gZnJvbSBcIi4vY2ZlLWZpbGVcIjtcbmltcG9ydCB7IENGRUZpbGVIYW5kbGVyIH0gZnJvbSBcIi4vY2ZlLWZpbGUtaGFuZGxlclwiO1xuaW1wb3J0IHsgRmlsZUNyZWF0aW9uRGF0YSB9IGZyb20gXCIuL2ZpbGUtY3JlYXRpb24tZGF0YVwiO1xuaW1wb3J0IHsgUmVhbEZpbGUgfSBmcm9tIFwiLi9yZWFsLWZpbGVcIjtcbmltcG9ydCB7IFNvdXJjZUFuZFZhdWx0IH0gZnJvbSBcIi4vc252XCI7XG5cbmV4cG9ydCBjbGFzcyBQbGF5bGlzdCBleHRlbmRzIENGRUZpbGUge1xuXHRwcml2YXRlIGN1cnJlbnRWaWRlb0luZGV4OiBudW1iZXI7XG5cdHZpZGVvSURzOiBudW1iZXJbXTtcblxuXHRwcml2YXRlIHZpZGVvT3JkZXI6IHN0cmluZztcblxuXHRwcml2YXRlIHN0YXRpYyBnZXROZXh0VmlkZW9JREluT3JkZXIocGxheWxpc3Q6IFBsYXlsaXN0KSB7XG5cdFx0bGV0IG5leHRWaWRlb0luZGV4ID0gcGxheWxpc3QuY3VycmVudFZpZGVvSW5kZXggKyAxO1xuXHRcdGlmIChuZXh0VmlkZW9JbmRleCA+PSBwbGF5bGlzdC52aWRlb0lEcy5sZW5ndGgpIHtcblx0XHRcdG5leHRWaWRlb0luZGV4ID0gMDtcblx0XHR9XG5cdFx0cmV0dXJuIG5leHRWaWRlb0luZGV4O1xuXHR9XG5cdHByaXZhdGUgc3RhdGljIGdldE5leHRWaWRlb0lEU2h1ZmZsZWQocGxheWxpc3Q6IFBsYXlsaXN0KSB7XG5cdFx0bGV0IG5leHRWaWRlb0luZGV4ID0gTWF0aC5yYW5kb20oKSAqIHBsYXlsaXN0LnZpZGVvSURzLmxlbmd0aDtcblx0XHRuZXh0VmlkZW9JbmRleCA9IE1hdGguZmxvb3IobmV4dFZpZGVvSW5kZXgpO1xuXHRcdHJldHVybiBuZXh0VmlkZW9JbmRleDtcblx0fVxuXG5cdHByaXZhdGUgc3RhdGljIGFzeW5jIGxvYWROZXh0VmlkZW8oc291cmNlQW5kVmF1bHQ6IFNvdXJjZUFuZFZhdWx0LCBwbGF5bGlzdDogUGxheWxpc3QsIHZpZGVvRWxlbWVudDogSFRNTFZpZGVvRWxlbWVudCkge1xuXHRcdGlmIChwbGF5bGlzdC52aWRlb09yZGVyID09PSAnc2h1ZmZsZWQnKSB7XG5cdFx0XHRwbGF5bGlzdC5jdXJyZW50VmlkZW9JbmRleCA9IFBsYXlsaXN0LmdldE5leHRWaWRlb0lEU2h1ZmZsZWQocGxheWxpc3QpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwbGF5bGlzdC5jdXJyZW50VmlkZW9JbmRleCA9IFBsYXlsaXN0LmdldE5leHRWaWRlb0lESW5PcmRlcihwbGF5bGlzdCk7XG5cdFx0fVxuXHRcdGNvbnN0IG5leHRWaWRlbyA9IDxSZWFsRmlsZT4gKGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNvdXJjZUFuZFZhdWx0LCBwbGF5bGlzdC52aWRlb0lEc1twbGF5bGlzdC5jdXJyZW50VmlkZW9JbmRleF0pKTtcblxuXHRcdHZpZGVvRWxlbWVudC5zcmMgPSBhd2FpdCBuZXh0VmlkZW8uZ2V0U3JjKHNvdXJjZUFuZFZhdWx0KTtcblx0fVxuXG5cdHN0YXRpYyBvdmVycmlkZSBhc3luYyBDcmVhdGVOZXdGaWxlRm9yTGF5ZXIoZGF0YTogRmlsZUNyZWF0aW9uRGF0YSk6IFByb21pc2U8UGxheWxpc3Q+IHtcblx0XHRjb25zdCBuZXdQbGF5bGlzdEZpbGUgPSA8UGxheWxpc3Q+IChhd2FpdCBzdXBlci5DcmVhdGVOZXdGaWxlRm9yTGF5ZXIoZGF0YSkpO1xuXHRcdG5ld1BsYXlsaXN0RmlsZS52aWRlb0lEcyA9IFtdO1xuXHRcdHJldHVybiBuZXdQbGF5bGlzdEZpbGU7XG5cdH1cblxuXHRvdmVycmlkZSBhc3luYyBEaXNwbGF5KHNudjogU291cmNlQW5kVmF1bHQsIGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQpIHtcblx0XHRhd2FpdCBzdXBlci5EaXNwbGF5KHNudiwgY29udGFpbmVyKTtcblx0XHR0aGlzLmN1cnJlbnRWaWRlb0luZGV4ID0gMDtcblx0XHRjb25zdCB2aWRlb0Rpc3BsYXlDb250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KCdjZmUtZGlzcGxheS12aWRlbycpO1xuXHRcdGNvbnN0IHZpZGVvRWxlbWVudCA9IHZpZGVvRGlzcGxheUNvbnRhaW5lci5jcmVhdGVFbCgndmlkZW8nKTtcblx0XHRjb25zdCBidXR0b25zQ29udGFpbmVyID0gY29udGFpbmVyLmNyZWF0ZURpdignaGJveCcpO1xuXHRcdGNvbnN0IGhpZGVCdXR0b24gPSBidXR0b25zQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdoaWRlIHZpZGVvJyB9ICk7XG5cdFx0aGlkZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0aWYgKGhpZGVCdXR0b24udGV4dENvbnRlbnQgPT09ICdoaWRlIHZpZGVvJykge1xuXHRcdFx0XHRoaWRlQnV0dG9uLnRleHRDb250ZW50ID0gJ3Nob3cgdmlkZW8nO1xuXHRcdFx0XHR2aWRlb0VsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGhpZGVCdXR0b24udGV4dENvbnRlbnQgPSAnaGlkZSB2aWRlbyc7XG5cdFx0XHRcdHZpZGVvRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjb25zdCBzaHVmZmxlQnV0dG9uID0gYnV0dG9uc0NvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnc2h1ZmZsZScgfSApO1xuXHRcdHRoaXMudmlkZW9PcmRlciA9ICdpbiBvcmRlcic7XG5cdFx0c2h1ZmZsZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0aWYgKHNodWZmbGVCdXR0b24udGV4dENvbnRlbnQgPT09ICdzaHVmZmxlJykge1xuXHRcdFx0XHRzaHVmZmxlQnV0dG9uLnRleHRDb250ZW50ID0gJ2dvIGluIG9yZGVyJztcblx0XHRcdFx0dGhpcy52aWRlb09yZGVyID0gJ3NodWZmbGVkJztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNodWZmbGVCdXR0b24udGV4dENvbnRlbnQgPSAnc2h1ZmZsZSc7XG5cdFx0XHRcdHRoaXMudmlkZW9PcmRlciA9ICdpbiBvcmRlcic7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNvbnN0IG5leHRCdXR0b24gPSBidXR0b25zQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICduZXh0IHZpZGVvJyB9ICk7XG5cdFx0bmV4dEJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0YXdhaXQgUGxheWxpc3QubG9hZE5leHRWaWRlbyhzbnYsIHRoaXMsIHZpZGVvRWxlbWVudCk7XG5cdFx0fVxuXG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGZpcnN0VmlkZW8gPSA8UmVhbEZpbGU+IChhd2FpdCBDRkVGaWxlSGFuZGxlci5Mb2FkRmlsZShzbnYsIHRoaXMudmlkZW9JRHNbdGhpcy5jdXJyZW50VmlkZW9JbmRleF0pKTtcblx0XHRcdHZpZGVvRWxlbWVudC5zcmMgPSBhd2FpdCBmaXJzdFZpZGVvLmdldFNyYyhzbnYpO1xuXHRcdFx0dmlkZW9FbGVtZW50LmF1dG9wbGF5ID0gdHJ1ZTtcblx0XHRcdHZpZGVvRWxlbWVudC5jb250cm9scyA9IHRydWU7XG5cdFx0XHR2aWRlb0VsZW1lbnQub250aW1ldXBkYXRlID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRpZiAodmlkZW9FbGVtZW50LmVuZGVkKSB7XG5cdFx0XHRcdFx0YXdhaXQgUGxheWxpc3QubG9hZE5leHRWaWRlbyhzbnYsIHRoaXMsIHZpZGVvRWxlbWVudCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0Y29udGFpbmVyLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnQ2hhbmdlIGZpbGVzJyB9ICk7XG5cdFx0XHRsZXQgY291bnQgPSAwO1xuXHRcdFx0Y29uc3QgbWVkaWFJRElucHV0RGl2ID0gY29udGFpbmVyLmNyZWF0ZURpdigndmJveCcpO1xuXHRcdFx0Y29uc3QgbmV3RmlsZUJ1dHRvbiA9IGNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQWRkIEZpbGUnIH0gKTtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy52aWRlb0lEcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRjb25zdCBjdXJyZW50SW5kZXggPSBjb3VudDtcblx0XHRcdFx0Y291bnQrKztcblx0XHRcdFx0Y29uc3QgbWVkaWFJRERpdiA9IG1lZGlhSURJbnB1dERpdi5jcmVhdGVEaXYoJ2hib3gnKTtcblx0XHRcdFx0Y29uc3QgaWRJbnB1dCA9IG1lZGlhSUREaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiAnJyArIHRoaXMudmlkZW9JRHNbY3VycmVudEluZGV4XSB9ICk7XG5cdFx0XHRcdGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IG1lZGlhSUREaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ2RlbGV0ZScgfSApO1xuXHRcdFx0XHRkZWxldGVCdXR0b24ub25jbGljayA9ICgpID0+IHtcblx0XHRcdFx0XHRtZWRpYUlERGl2LnJlbW92ZSgpO1xuXHRcdFx0XHRcdHRoaXMudmlkZW9JRHMuc3BsaWNlKGN1cnJlbnRJbmRleCwgMSk7XG5cdFx0XHRcdFx0dGhpcy5EaXNwbGF5KHNudiwgY29udGFpbmVyKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZElucHV0Lm9uY2hhbmdlID0gKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMudmlkZW9JRHNbY3VycmVudEluZGV4XSA9IHBhcnNlSW50KGlkSW5wdXQudmFsdWUpO1xuXHRcdFx0XHRcdHRoaXMuU2F2ZShzbnYpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRuZXdGaWxlQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGN1cnJlbnRJbmRleCA9IGNvdW50O1xuXHRcdFx0XHRjb3VudCsrO1xuXHRcdFx0XHRjb25zdCBtZWRpYUlERGl2ID0gbWVkaWFJRElucHV0RGl2LmNyZWF0ZURpdignaGJveCcpO1xuXHRcdFx0XHRjb25zdCBpZElucHV0ID0gbWVkaWFJRERpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JyB9ICk7XG5cdFx0XHRcdGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IG1lZGlhSUREaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ2RlbGV0ZScgfSApO1xuXHRcdFx0XHRkZWxldGVCdXR0b24ub25jbGljayA9ICgpID0+IHtcblx0XHRcdFx0XHRtZWRpYUlERGl2LnJlbW92ZSgpO1xuXHRcdFx0XHRcdHRoaXMudmlkZW9JRHMuc3BsaWNlKGN1cnJlbnRJbmRleCwgMSk7XG5cdFx0XHRcdFx0dGhpcy5EaXNwbGF5KHNudiwgY29udGFpbmVyKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZElucHV0Lm9uY2hhbmdlID0gKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMudmlkZW9JRHNbY3VycmVudEluZGV4XSA9IHBhcnNlSW50KGlkSW5wdXQudmFsdWUpO1xuXHRcdFx0XHRcdHRoaXMuU2F2ZShzbnYpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG4iLCAiaW1wb3J0IHsgQ0ZFRmlsZUhhbmRsZXIgfSBmcm9tIFwiLi9jZmUtZmlsZS1oYW5kbGVyXCI7XG5pbXBvcnQgeyBGaWxlQ3JlYXRpb25EYXRhIH0gZnJvbSBcIi4vZmlsZS1jcmVhdGlvbi1kYXRhXCI7XG5pbXBvcnQgeyBSZWFsRmlsZSB9IGZyb20gXCIuL3JlYWwtZmlsZVwiO1xuaW1wb3J0IHsgU2luZ2xlTWVkaWFGaWxlIH0gZnJvbSBcIi4vc2luZ2xlLW1lZGlhLWZpbGVcIjtcbmltcG9ydCB7IFNvdXJjZUFuZFZhdWx0IH0gZnJvbSBcIi4vc252XCI7XG5cbmV4cG9ydCBjbGFzcyBWYXJpYW50TWVkaWFGaWxlIGV4dGVuZHMgUmVhbEZpbGUge1xuXHRmaWxlVHlwZSA9ICdWYXJpYW50IE1lZGlhIEZpbGUnO1xuXG5cdHByaXZhdGUgdmFyaWFudElEczogbnVtYmVyW107XG5cblx0YXN5bmMgZ2V0U3JjKHNudjogU291cmNlQW5kVmF1bHQsIGluZGV4OiBudW1iZXIgfCBudWxsID0gbnVsbCk6IFByb21pc2U8c3RyaW5nPiB7XG5cdFx0aWYgKGluZGV4ID09PSBudWxsKSB7XG5cdFx0XHRpbmRleCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkpICogdGhpcy52YXJpYW50SURzLmxlbmd0aCk7XG5cdFx0fVxuXHRcdGNvbnN0IGNvbnRhaW5lZE1lZGlhID0gPFNpbmdsZU1lZGlhRmlsZT4gYXdhaXQgQ0ZFRmlsZUhhbmRsZXIuTG9hZEZpbGUoc252LCB0aGlzLnZhcmlhbnRJRHNbaW5kZXhdKTtcblx0XHRyZXR1cm4gYXdhaXQgY29udGFpbmVkTWVkaWEuZ2V0U3JjKHNudik7XG5cdH1cblxuXHRzdGF0aWMgb3ZlcnJpZGUgYXN5bmMgQ3JlYXRlTmV3RmlsZUZvckxheWVyKGRhdGE6IEZpbGVDcmVhdGlvbkRhdGEpOiBQcm9taXNlPFZhcmlhbnRNZWRpYUZpbGU+IHtcblx0XHRjb25zdCBuZXdNZWRpYUZpbGUgPSA8VmFyaWFudE1lZGlhRmlsZT4gKGF3YWl0IHN1cGVyLkNyZWF0ZU5ld0ZpbGVGb3JMYXllcihkYXRhKSk7XG5cdFx0bmV3TWVkaWFGaWxlLnZhcmlhbnRJRHMgPSBbXTtcblx0XHRyZXR1cm4gbmV3TWVkaWFGaWxlO1xuXHR9XG5cblx0b3ZlcnJpZGUgYXN5bmMgRGlzcGxheShzbnY6IFNvdXJjZUFuZFZhdWx0LCBjb250YWluZXI6IEhUTUxEaXZFbGVtZW50KSB7XG5cdFx0YXdhaXQgc3VwZXIuRGlzcGxheShzbnYsIGNvbnRhaW5lcik7XG5cblx0XHRjb25zdCBpbWFnZURpc3BsYXlDb250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KCd2Ym94Jyk7XG5cdFx0aW1hZ2VEaXNwbGF5Q29udGFpbmVyLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnQ2hhbmdlIGZpbGVzJyB9ICk7XG5cdFx0Y29uc3QgbWVkaWFJRElucHV0RGl2ID0gaW1hZ2VEaXNwbGF5Q29udGFpbmVyLmNyZWF0ZURpdigndmJveCcpO1xuXHRcdGNvbnN0IG5ld0ZpbGVCdXR0b24gPSBpbWFnZURpc3BsYXlDb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0FkZCBGaWxlJyB9ICk7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnZhcmlhbnRJRHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGN1cnJlbnRJbmRleCA9IGk7XG5cdFx0XHRjb25zdCBtZWRpYUlERGl2ID0gbWVkaWFJRElucHV0RGl2LmNyZWF0ZURpdignaGJveCcpO1xuXHRcdFx0Y29uc3QgaWRJbnB1dCA9IG1lZGlhSUREaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiAnJyArIHRoaXMudmFyaWFudElEc1tjdXJyZW50SW5kZXhdIH0gKTtcblx0XHRcdGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IG1lZGlhSUREaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ2RlbGV0ZScgfSApO1xuXHRcdFx0ZGVsZXRlQnV0dG9uLmNsYXNzTmFtZSA9ICdjZmUtcmVtb3ZlLWJ1dHRvbic7XG5cdFx0XHRkZWxldGVCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0bWVkaWFJRERpdi5yZW1vdmUoKTtcblx0XHRcdFx0dGhpcy52YXJpYW50SURzLnNwbGljZShjdXJyZW50SW5kZXgsIDEpO1xuXHRcdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdFx0YXdhaXQgdGhpcy5EaXNwbGF5KHNudiwgY29udGFpbmVyKTtcblx0XHRcdH1cblx0XHRcdGlkSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdHRoaXMudmFyaWFudElEc1tjdXJyZW50SW5kZXhdID0gcGFyc2VJbnQoaWRJbnB1dC52YWx1ZSk7XG5cdFx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xuXHRcdFx0XHRhd2FpdCB0aGlzLkRpc3BsYXkoc252LCBjb250YWluZXIpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRuZXdGaWxlQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHR0aGlzLnZhcmlhbnRJRHMucHVzaCgtMSk7XG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdGF3YWl0IHRoaXMuRGlzcGxheShzbnYsIGNvbnRhaW5lcik7XG5cdFx0fVxuXHRcdGNvbnN0IG1lZGlhRGl2ID0gaW1hZ2VEaXNwbGF5Q29udGFpbmVyLmNyZWF0ZURpdigndmJveCcpO1xuXHRcdFxuXHRcdGF3YWl0IHRoaXMuRGlzcGxheU1lZGlhT25seShtZWRpYURpdiwgc252KTtcblx0fVxuXHRhc3luYyBEaXNwbGF5TWVkaWFPbmx5KG1lZGlhRGl2OiBIVE1MRGl2RWxlbWVudCwgc252OiBTb3VyY2VBbmRWYXVsdCwgaW5kZXggPSAtMSkge1xuXHRcdC8vIFRoaXMgY2FsbCBpcyBub3QgbmVlZGVkIGJlY2F1c2UgY29udGFpbmVkTWVkaWEuRGlzcGxheU1lZGlhT25seSgpIGNhbGxzIGl0IGFueXdheVxuXHRcdC8vIGF3YWl0IHN1cGVyLkRpc3BsYXlNZWRpYU9ubHlcblx0XHRpZiAoaW5kZXggPT09IC0xKSB7XG5cdFx0XHRpbmRleCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkpICogdGhpcy52YXJpYW50SURzLmxlbmd0aCk7XG5cdFx0fVxuXHRcdGNvbnN0IGNvbnRhaW5lZE1lZGlhID0gPFNpbmdsZU1lZGlhRmlsZT4gYXdhaXQgQ0ZFRmlsZUhhbmRsZXIuTG9hZEZpbGUoc252LCB0aGlzLnZhcmlhbnRJRHNbaW5kZXhdKTtcblx0XHRhd2FpdCBjb250YWluZWRNZWRpYS5EaXNwbGF5TWVkaWFPbmx5KG1lZGlhRGl2LCBzbnYpO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgQ0ZFRmlsZSB9IGZyb20gXCIuL2NmZS1maWxlXCI7XG5pbXBvcnQgeyBGaWxlQ3JlYXRpb25EYXRhIH0gZnJvbSBcIi4vZmlsZS1jcmVhdGlvbi1kYXRhXCI7XG5pbXBvcnQgeyBTb3VyY2VBbmRWYXVsdCB9IGZyb20gXCIuL3NudlwiO1xuaW1wb3J0IHsgU291cmNlRm9sZGVyIH0gZnJvbSBcIi4vc291cmNlLWZvbGRlclwiO1xuXG4vKipcbiAqIEEgY2hpbGQgY2xhc3Mgb2YgdGhlIENGRUZpbGUgY2xhc3MuIFJlcHJlc2VudHMgYSBmb2xkZXIgd2l0aGluIHRoZSBTb3VyY2VGb2xkZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBTb3VyY2VGb2xkZXJTaG9ydGN1dCBleHRlbmRzIENGRUZpbGUge1xuXHQvKipcblx0ICogVGhlIElEcyBvZiBmaWxlcyBjb250YWluZWQgaW4gdGhpcyBmb2xkZXJcblx0ICovXG5cdHBhdGhUb090aGVyU291cmNlOiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIEBvdmVycmlkZSBGb2xkZXIgbGF5ZXI6XG5cdCAqIFxuXHQgKiBpbml0aWFsaXplcyB0aGUgY29udGFpbmVkIGZpbGUgaWRzIGFycmF5IGZvciB0aGUgZm9sZGVyIG9iamVjdFxuXHQgKi9cblx0c3RhdGljIG92ZXJyaWRlIGFzeW5jIENyZWF0ZU5ld0ZpbGVGb3JMYXllcihkYXRhOiBGaWxlQ3JlYXRpb25EYXRhKTogUHJvbWlzZTxTb3VyY2VGb2xkZXJTaG9ydGN1dD4ge1xuXHRcdGNvbnN0IHVuZmluaXNoZWRGb2xkZXIgPSA8U291cmNlRm9sZGVyU2hvcnRjdXQ+IChhd2FpdCBzdXBlci5DcmVhdGVOZXdGaWxlRm9yTGF5ZXIoZGF0YSkpO1xuXHRcdHVuZmluaXNoZWRGb2xkZXIucGF0aFRvT3RoZXJTb3VyY2UgPSAnJztcblx0XHRyZXR1cm4gdW5maW5pc2hlZEZvbGRlcjtcblx0fVxuXG5cdG92ZXJyaWRlIGFzeW5jIERpc3BsYXkoc252OiBTb3VyY2VBbmRWYXVsdCwgbWFpbkRpdjogSFRNTERpdkVsZW1lbnQpIHtcblx0XHRhd2FpdCBzdXBlci5EaXNwbGF5KHNudiwgbWFpbkRpdik7XG5cdFx0Y29uc3QgaW5wdXREaXYgPSBtYWluRGl2LmNyZWF0ZURpdigndmJveCcpO1xuXHRcdGlucHV0RGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnUGF0aCB0byBPdGhlciBTb3VyY2UgRm9sZGVyJyB9ICk7XG5cdFx0Y29uc3QgcGF0aElucHV0ID0gaW5wdXREaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcgfSApO1xuXHRcdGNvbnN0IGdvQnV0dG9uID0gaW5wdXREaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0dvJyB9ICk7XG5cdFx0cGF0aElucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0dGhpcy5wYXRoVG9PdGhlclNvdXJjZSA9IHBhdGhJbnB1dC52YWx1ZTtcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xuXHRcdH1cblx0XHRnb0J1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0Y29uc3Qgb3RoZXJTb3VyY2UgPSBhd2FpdCBTb3VyY2VGb2xkZXIuQ3JlYXRlT3JMb2FkU291cmNlRm9sZGVyKHRoaXMucGF0aFRvT3RoZXJTb3VyY2UsIHNudi52YXVsdCk7XG5cdFx0XHRvdGhlclNvdXJjZS5EaXNwbGF5KG1haW5EaXYsIHNudi52YXVsdCk7XG5cdFx0fVxuXHR9XG5cdH1cbiIsICJleHBvcnQgY2xhc3MgUGhvdG9MYW5nIHtcblx0c3RhdGljIGFzeW5jIERpc3BsYXkoZGl2OiBIVE1MRGl2RWxlbWVudCwgdGV4dCA9ICcnLCBmb250U2l6ZSA9IDEwLCBtb3ZlU3BlZWRzOiBudW1iZXJbXSB8IG51bGwgPSBudWxsLCBkdXJhdGlvbnM6IG51bWJlcltdIHwgbnVsbCA9IG51bGwsIGRvTG9vcCA9IGZhbHNlKSB7XG5cdFx0Y29uc3QgbGluZSA9IG5ldyBQaG90b0xpbmUodGV4dCk7XG5cdFx0aWYgKCFtb3ZlU3BlZWRzKSB7XG5cdFx0XHRtb3ZlU3BlZWRzID0gWzEwMCwgMjUwLCA1MDBdO1xuXHRcdH1cblx0XHRpZiAoIWR1cmF0aW9ucykge1xuXHRcdFx0ZHVyYXRpb25zID0gWzAsIDUwMF07XG5cdFx0fVxuXHRcdGF3YWl0IGxpbmUuU3BlYWsoZGl2LCBmb250U2l6ZSwgbW92ZVNwZWVkcywgZHVyYXRpb25zLCBkb0xvb3ApO1xuXHR9XG5cdHN0YXRpYyBEaXNwbGF5RWRpdG9yKGRpdjogSFRNTERpdkVsZW1lbnQsIGV4aXN0aW5nVGV4dCA9ICcnLCBmb250U2l6ZSA9IDE3LjUpOiBIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFRleHRBcmVhRWxlbWVudCB7XG5cdFx0Y29uc3QgdGV4dEFyZWEgPSBkaXYuY3JlYXRlRWwoJ3RleHRhcmVhJywgeyB2YWx1ZTogZXhpc3RpbmdUZXh0IH0gKTtcblx0XHR0ZXh0QXJlYS5zdHlsZS5mb250U2l6ZSA9IGZvbnRTaXplICsgJ3B4Jztcblx0XHRyZXR1cm4gdGV4dEFyZWE7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFBob3RvTGluZSB7XG5cdGdseXBoczogUGhvdG9HbHlwaFtdO1xuXHRjb25zdHJ1Y3Rvcih0ZXh0Q29udGVudCA9ICcnKSB7XG5cdFx0dGhpcy5nbHlwaHMgPSBbXTtcblxuXHRcdGNvbnN0IHRleHRBcnJheSA9IHRleHRDb250ZW50LnNwbGl0KFwiICAgXCIpLmZpbHRlcigoYzogc3RyaW5nKSA9PiBjICE9PSBcIlwiKTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRleHRBcnJheS5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgbmV3R2x5cGggPSBuZXcgUGhvdG9HbHlwaCgpO1xuXHRcdFx0Y29uc3QgZ2x5cGhUZXh0ID0gdGV4dEFycmF5W2ldO1xuXG5cdFx0XHRsZXQgaiA9IDA7XG5cdFx0XHRsZXQgc2tpcE5leHQgPSBmYWxzZTtcblxuXHRcdFx0Ly8gbW92ZSBzcGVlZFxuXHRcdFx0c3dpdGNoIChnbHlwaFRleHRbal0pIHtcblx0XHRcdFx0Y2FzZSAnLic6XG5cdFx0XHRcdFx0bmV3R2x5cGgubW92ZVNwZWVkID0gMDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnLSc6XG5cdFx0XHRcdFx0bmV3R2x5cGgubW92ZVNwZWVkID0gMTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnPSc6XG5cdFx0XHRcdFx0bmV3R2x5cGgubW92ZVNwZWVkID0gMjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGorKztcblxuXHRcdFx0Ly8gZHVyYXRpb25cblx0XHRcdHN3aXRjaCAoZ2x5cGhUZXh0W2pdKSB7XG5cdFx0XHRcdGNhc2UgJy4nOlxuXHRcdFx0XHRcdG5ld0dseXBoLmR1cmF0aW9uID0gMDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnLSc6XG5cdFx0XHRcdFx0bmV3R2x5cGguZHVyYXRpb24gPSAxO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aisrO1xuXG5cdFx0XHQvLyBzaGFwZVxuXHRcdFx0bmV3R2x5cGguc2hhcGUgPSBnbHlwaFRleHRbal07XG5cdFx0XHRqKys7XG5cblx0XHRcdC8vIGh1ZVxuXHRcdFx0bGV0IGh1ZTEgPSAwO1xuXHRcdFx0c3dpdGNoIChnbHlwaFRleHRbal0pIHtcblx0XHRcdFx0Y2FzZSAncic6XG5cdFx0XHRcdFx0aHVlMSA9IDA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ28nOlxuXHRcdFx0XHRcdGh1ZTEgPSA0MDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAneSc6XG5cdFx0XHRcdFx0aHVlMSA9IDYwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdnJzpcblx0XHRcdFx0XHRodWUxID0gMTIwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdjJzpcblx0XHRcdFx0XHRodWUxID0gMTgwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdiJzpcblx0XHRcdFx0XHRodWUxID0gMjQwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdwJzpcblx0XHRcdFx0XHRodWUxID0gMjcwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICcuJzpcblx0XHRcdFx0XHRuZXdHbHlwaC5odWUgPSAwO1xuXHRcdFx0XHRcdG5ld0dseXBoLnNhdHVyYXRpb24gPSAwO1xuXHRcdFx0XHRcdHNraXBOZXh0ID0gdHJ1ZTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGorKztcblx0XHRcdGlmICghc2tpcE5leHQpIHtcblx0XHRcdFx0bGV0IGh1ZTIgPSAwO1xuXHRcdFx0XHRzd2l0Y2ggKGdseXBoVGV4dFtqXSkge1xuXHRcdFx0XHRcdGNhc2UgJ3InOlxuXHRcdFx0XHRcdFx0aHVlMiA9IDA7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlICdvJzpcblx0XHRcdFx0XHRcdGh1ZTIgPSA0MDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3knOlxuXHRcdFx0XHRcdFx0aHVlMiA9IDYwO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnZyc6XG5cdFx0XHRcdFx0XHRodWUyID0gMTIwO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnYyc6XG5cdFx0XHRcdFx0XHRodWUyID0gMTgwO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnYic6XG5cdFx0XHRcdFx0XHRodWUyID0gMjQwO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAncCc6XG5cdFx0XHRcdFx0XHRodWUyID0gMjcwO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdG5ld0dseXBoLmh1ZSA9IGh1ZTE7XG5cdFx0XHRcdFx0XHRza2lwTmV4dCA9IHRydWU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIXNraXBOZXh0KSB7XG5cdFx0XHRcdFx0aWYgKGh1ZTEgPT09IDAgJiYgaHVlMiA9PT0gMjcwIHx8IGh1ZTEgPT09IDI3MCAmJiBodWUyID09PSAwKSB7XG5cdFx0XHRcdFx0XHRuZXdHbHlwaC5odWUgPSAzMTU7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdG5ld0dseXBoLmh1ZSA9IChodWUxICsgaHVlMikgLyAyO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRqKys7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHNraXBOZXh0ID0gZmFsc2U7XG5cblx0XHRcdC8vIHNhdHVyYXRpb25cblx0XHRcdGNvbnN0IHNhdHVyYXRpb25UZXh0ID0gZ2x5cGhUZXh0W2pdO1xuXHRcdFx0c3dpdGNoIChzYXR1cmF0aW9uVGV4dCkge1xuXHRcdFx0XHRjYXNlICcwJzpcblx0XHRcdFx0XHRuZXdHbHlwaC5zYXR1cmF0aW9uID0gMDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnMSc6XG5cdFx0XHRcdFx0bmV3R2x5cGguc2F0dXJhdGlvbiA9IDAuMjU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJzInOlxuXHRcdFx0XHRcdG5ld0dseXBoLnNhdHVyYXRpb24gPSAwLjU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJzMnOlxuXHRcdFx0XHRcdG5ld0dseXBoLnNhdHVyYXRpb24gPSAwLjc1O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICc0Jzpcblx0XHRcdFx0XHRuZXdHbHlwaC5zYXR1cmF0aW9uID0gMTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGorKztcblxuXHRcdFx0Ly8gdmFsdWVcblx0XHRcdGNvbnN0IHZhbHVlVGV4dCA9IGdseXBoVGV4dFtqXTtcblx0XHRcdHN3aXRjaCAodmFsdWVUZXh0KSB7XG5cdFx0XHRcdGNhc2UgJzAnOlxuXHRcdFx0XHRcdG5ld0dseXBoLnZhbHVlID0gMDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnMSc6XG5cdFx0XHRcdFx0bmV3R2x5cGgudmFsdWUgPSAwLjE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJzInOlxuXHRcdFx0XHRcdG5ld0dseXBoLnZhbHVlID0gMC4yO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICczJzpcblx0XHRcdFx0XHRuZXdHbHlwaC52YWx1ZSA9IDAuNTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnNCc6XG5cdFx0XHRcdFx0bmV3R2x5cGgudmFsdWUgPSAxO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aisrO1xuXG5cdFx0XHQvLyBvcGFjaXR5XG5cdFx0XHRjb25zdCBvcGFjaXR5VGV4dCA9IGdseXBoVGV4dFtqXTtcblx0XHRcdHN3aXRjaCAob3BhY2l0eVRleHQpIHtcblx0XHRcdFx0Y2FzZSAnLic6XG5cdFx0XHRcdFx0bmV3R2x5cGgub3BhY2l0eSA9IDA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJy0nOlxuXHRcdFx0XHRcdG5ld0dseXBoLm9wYWNpdHkgPSAwLjU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJz0nOlxuXHRcdFx0XHRcdG5ld0dseXBoLm9wYWNpdHkgPSAxO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aisrO1xuXG5cdFx0XHQvLyBsb2NhdGlvblxuXHRcdFx0Ly8geFxuXHRcdFx0aWYgKGdseXBoVGV4dC5jb250YWlucygnPCcpKSB7XG5cdFx0XHRcdG5ld0dseXBoLnggPSAwO1xuXHRcdFx0fSBlbHNlIGlmIChnbHlwaFRleHQuY29udGFpbnMoJz4nKSkge1xuXHRcdFx0XHRuZXdHbHlwaC54ID0gMjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5ld0dseXBoLnggPSAxO1xuXHRcdFx0fVxuXHRcdFx0Ly8geVxuXHRcdFx0aWYgKGdseXBoVGV4dC5jb250YWlucygndicpKSB7XG5cdFx0XHRcdG5ld0dseXBoLnkgPSAwO1xuXHRcdFx0fSBlbHNlIGlmIChnbHlwaFRleHQuY29udGFpbnMoJ14nKSkge1xuXHRcdFx0XHRuZXdHbHlwaC55ID0gMjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5ld0dseXBoLnkgPSAxO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5nbHlwaHMucHVzaChuZXdHbHlwaCk7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgU3BlYWsoZGl2OiBIVE1MRGl2RWxlbWVudCwgdGV4dFNpemU6IG51bWJlciwgbW92ZVNwZWVkczogbnVtYmVyW10sIGR1cmF0aW9uczogbnVtYmVyW10sIGRvTG9vcCA9IGZhbHNlKSB7XG5cdFx0ZGl2LnN0eWxlLmZvbnRTaXplID0gdGV4dFNpemUgKyAncHgnO1xuXHRcdGRpdi5zdHlsZS5mb250RmFtaWx5ID0gJ1Bob3RvbGFuZyc7XG5cdFx0ZGl2LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcblx0XHRkaXYuc3R5bGUuaGVpZ2h0ID0gKHRleHRTaXplICogMy4yNSkgKyAncHgnO1xuXHRcdGRpdi5zdHlsZS53aWR0aCA9ICh0ZXh0U2l6ZSAqIDMuMjUpICsgJ3B4Jztcblx0XHRjb25zdCB0ZXh0RGl2ID0gZGl2LmNyZWF0ZURpdigpO1xuXHRcdHRleHREaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXHRcdHRleHREaXYuc3R5bGUuYm90dG9tID0gdGV4dFNpemUgKyAncHgnO1xuXHRcdHRleHREaXYuc3R5bGUudHJhbnNpdGlvblByb3BlcnR5ID0gJ2JvdHRvbSwgbGVmdCwgY29sb3InO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5nbHlwaHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IHBob3RvR2x5cGggPSB0aGlzLmdseXBoc1tpXTtcblxuXHRcdFx0dGV4dERpdi50ZXh0Q29udGVudCA9IHBob3RvR2x5cGguc2hhcGU7XG5cdFx0XHR0ZXh0RGl2LnN0eWxlLmxlZnQgPSAocGhvdG9HbHlwaC54ICogdGV4dFNpemUpICsgJ3B4Jztcblx0XHRcdHRleHREaXYuc3R5bGUuYm90dG9tID0gKHBob3RvR2x5cGgueSAqIHRleHRTaXplKSArICdweCc7XG5cdFx0XHR0ZXh0RGl2LnN0eWxlLmNvbG9yID0gcGhvdG9HbHlwaC5jb2xvcjtcblxuXHRcdFx0aWYgKGRvTG9vcCAmJiBpID09PSB0aGlzLmdseXBocy5sZW5ndGggLSAxKSB7XG5cdFx0XHRcdGkgPSAtMTtcblx0XHRcdH1cblx0XHRcdHRleHREaXYuc3R5bGUudHJhbnNpdGlvbiA9IG1vdmVTcGVlZHNbcGhvdG9HbHlwaC5tb3ZlU3BlZWRdICsgJ21zJztcblx0XHRcdGF3YWl0IHNsZWVwKG1vdmVTcGVlZHNbcGhvdG9HbHlwaC5tb3ZlU3BlZWRdICsgZHVyYXRpb25zW3Bob3RvR2x5cGguZHVyYXRpb25dKTtcblx0XHR9XG5cdFx0ZGl2LnJlbW92ZSgpO1xuXHR9XG5cblx0YXN5bmMgRGlzcGxheVN0YXRpYyhkaXY6IEhUTUxEaXZFbGVtZW50LCB0ZXh0U2l6ZTogbnVtYmVyKSB7XG5cdFx0Y29uc3QgbGluZURpdiA9IGRpdi5jcmVhdGVEaXYoJ2NmZS1waG90b2xhbmctbGluZScpO1xuXHRcdGxpbmVEaXYuc3R5bGUuZ3JpZFRlbXBsYXRlQ29sdW1ucyA9ICdyZXBlYXQoMTAsICcgKyAodGV4dFNpemUgKiAzLjI1KSArICdweCknO1xuXHRcdGxpbmVEaXYuc3R5bGUuZ3JpZFRlbXBsYXRlUm93cyA9ICdyZXBlYXQoMTAsICcgKyAodGV4dFNpemUgKiAzLjI1KSArICdweCknO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5nbHlwaHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHRoaXMuZ2x5cGhzW2ldID0gT2JqZWN0LmFzc2lnbihuZXcgUGhvdG9HbHlwaCgpLCB0aGlzLmdseXBoc1tpXSk7XG5cdFx0XHR0aGlzLmdseXBoc1tpXS5EaXNwbGF5U3RhdGljKGxpbmVEaXYuY3JlYXRlRGl2KCksIHRleHRTaXplKTtcblx0XHR9XG5cdH1cblxufVxuXG5leHBvcnQgY2xhc3MgUGhvdG9HbHlwaCB7XG5cdHNoYXBlOiBzdHJpbmc7XG5cdHg6IG51bWJlcjtcblx0eTogbnVtYmVyO1xuXHRodWU6IG51bWJlcjtcblx0c2F0dXJhdGlvbjogbnVtYmVyO1xuXHR2YWx1ZTogbnVtYmVyO1xuXHRvcGFjaXR5OiBudW1iZXI7XG5cdG1vdmVTcGVlZDogbnVtYmVyO1xuXHRkdXJhdGlvbjogbnVtYmVyO1xuXG5cdGdldCBjb2xvcigpIHtcblx0XHQvLyBoc3YgdmFsdWVzIGFyZSBpbiBbMCwgMV1cblx0XHRsZXQgbGlnaHRuZXNzID0gKDIgLSB0aGlzLnNhdHVyYXRpb24pICogdGhpcy52YWx1ZSAvIDI7XG5cdFx0bGV0IG5ld1MgPSB0aGlzLnNhdHVyYXRpb24gKiB0aGlzLnZhbHVlIC8gKGxpZ2h0bmVzcyA8IDEgPyBsaWdodG5lc3MgKiAyIDogMiAtIGxpZ2h0bmVzcyAqIDIpO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBjYXNlIHdoZXJlIGxpZ2h0bmVzcyBpcyAwIG9yIDEsIHdoaWNoIHJlc3VsdHMgaW4gc2F0dXJhdGlvbiBiZWluZyAwXG5cdFx0aWYgKGxpZ2h0bmVzcyA9PT0gMCB8fCBsaWdodG5lc3MgPT09IDEpIHtcblx0XHRcdG5ld1MgPSAwO1xuXHRcdH1cblxuXHRcdGxpZ2h0bmVzcyAqPSAxMDA7XG5cdFx0bmV3UyAqPSAxMDA7XG5cblx0XHRyZXR1cm4gJ2hzbGEoJyArIHRoaXMuaHVlICsgJywnICsgbmV3UyArICclLCcgKyBsaWdodG5lc3MgKyAnJSwnICsgdGhpcy5vcGFjaXR5ICsgJyknO1xuXHR9XG5cblx0RGlzcGxheVN0YXRpYyhkaXY6IEhUTUxEaXZFbGVtZW50LCB0ZXh0U2l6ZTogbnVtYmVyKSB7XG5cdFx0Y29uc3Qgb3V0ZXJEaXYgPSBkaXYuY3JlYXRlRGl2KCk7XG5cdFx0b3V0ZXJEaXYuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuXHRcdG91dGVyRGl2LnN0eWxlLndpZHRoID0gKHRleHRTaXplICogMy4yNSkgKyAncHgnO1xuXHRcdG91dGVyRGl2LnN0eWxlLmhlaWdodCA9ICh0ZXh0U2l6ZSAqIDMuMjUpICsgJ3B4Jztcblx0XHRvdXRlckRpdi5jbGFzc05hbWUgPSAnY2ZlLXBob3RvZ2x5cGgnO1xuXHRcdGNvbnN0IGdseXBoRGl2ID0gb3V0ZXJEaXYuY3JlYXRlRGl2KCk7XG5cdFx0Z2x5cGhEaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXHRcdGdseXBoRGl2LnRleHRDb250ZW50ID0gdGhpcy5zaGFwZTtcblx0XHRnbHlwaERpdi5zdHlsZS5sZWZ0ID0gKHRoaXMueCAqIHRleHRTaXplKSArICdweCc7XG5cdFx0Z2x5cGhEaXYuc3R5bGUuYm90dG9tID0gKHRoaXMueSAqIHRleHRTaXplKSArICdweCc7XG5cdFx0Z2x5cGhEaXYuc3R5bGUuY29sb3IgPSB0aGlzLmNvbG9yO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgQ0ZFRmlsZSB9IGZyb20gXCIuL2NmZS1maWxlXCI7XG5pbXBvcnQgeyBDRkVGaWxlSGFuZGxlciB9IGZyb20gXCIuL2NmZS1maWxlLWhhbmRsZXJcIjtcbmltcG9ydCB7IEZpbGVDcmVhdGlvbkRhdGEgfSBmcm9tIFwiLi9maWxlLWNyZWF0aW9uLWRhdGFcIjtcbmltcG9ydCB7IFNpbmdsZU1lZGlhRmlsZSB9IGZyb20gXCIuL3NpbmdsZS1tZWRpYS1maWxlXCI7XG5pbXBvcnQgeyBTb3VyY2VBbmRWYXVsdCB9IGZyb20gXCIuL3NudlwiO1xuaW1wb3J0IHsgUGhvdG9MaW5lIH0gZnJvbSBcIi4vY29ubGFuZ3MvcGhvdG9sYW5nLXRleHRcIjtcblxuZXhwb3J0IGNsYXNzIFBob3RvbGFuZ1N0b3J5IGV4dGVuZHMgQ0ZFRmlsZSB7XG5cdGZpbGVUeXBlID0gJ1Bob3RvbGFuZyBTdG9yeSc7XG5cblx0cHJpdmF0ZSBjdXJyZW50UGFnZUluZGV4OiBudW1iZXI7XG5cdHByaXZhdGUgcGFnZXM6IFBhZ2VbXTtcblx0cHJpdmF0ZSBjaGFyYWN0ZXJzOiBDaGFyYWN0ZXJbXTtcblxuXHRzdGF0aWMgb3ZlcnJpZGUgYXN5bmMgQ3JlYXRlTmV3RmlsZUZvckxheWVyKGRhdGE6IEZpbGVDcmVhdGlvbkRhdGEpOiBQcm9taXNlPFBob3RvbGFuZ1N0b3J5PiB7XG5cdFx0Y29uc3QgbmV3U3RvcnlGaWxlID0gPFBob3RvbGFuZ1N0b3J5PiAoYXdhaXQgc3VwZXIuQ3JlYXRlTmV3RmlsZUZvckxheWVyKGRhdGEpKTtcblx0XHRuZXdTdG9yeUZpbGUuY3VycmVudFBhZ2VJbmRleCA9IDA7XG5cdFx0bmV3U3RvcnlGaWxlLnBhZ2VzID0gW107XG5cdFx0bmV3U3RvcnlGaWxlLmNoYXJhY3RlcnMgPSBbXTtcblx0XHRyZXR1cm4gbmV3U3RvcnlGaWxlO1xuXHR9XG5cblx0b3ZlcnJpZGUgYXN5bmMgRGlzcGxheShzbnY6IFNvdXJjZUFuZFZhdWx0LCBtYWluRGl2OiBIVE1MRGl2RWxlbWVudCkge1xuXHRcdGF3YWl0IHN1cGVyLkRpc3BsYXkoc252LCBtYWluRGl2KTtcblx0XHRhd2FpdCB0aGlzLkxvYWRTdG9yeVVJKHNudiwgbWFpbkRpdi5jcmVhdGVEaXYoJ3Zib3gnKSk7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIExvYWRTdG9yeVVJKHNudjogU291cmNlQW5kVmF1bHQsIG1haW5EaXY6IEhUTUxEaXZFbGVtZW50KSB7XG5cdFx0bWFpbkRpdi5lbXB0eSgpO1xuXHRcdG1haW5EaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdHbyB0byBwYWdlIG51bWJlcjonIH0gKTtcblx0XHRjb25zdCBwYWdlU2VsZWN0RGl2ID0gbWFpbkRpdi5jcmVhdGVEaXYoJ2hib3gnKTtcblx0XHRjb25zdCBwYWdlTnVtYmVySW5wdXQgPSBwYWdlU2VsZWN0RGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogJycgKyAodGhpcy5jdXJyZW50UGFnZUluZGV4ICsgMSkgfSApO1xuXHRcdHBhZ2VTZWxlY3REaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICcnICsgJy8nICsgdGhpcy5wYWdlcy5sZW5ndGggfSApO1xuXHRcdGNvbnN0IGdvQnV0dG9uID0gcGFnZVNlbGVjdERpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnR28nIH0gKTtcblx0XHRnb0J1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0dGhpcy5jdXJyZW50UGFnZUluZGV4ID0gcGFyc2VJbnQocGFnZU51bWJlcklucHV0LnZhbHVlKSAtIDE7XG5cdFx0XHR0aGlzLkxvYWRDdXJyZW50UGFnZUVkaXQoc252LCBtYWluRGl2KTtcblx0XHR9XG5cdFx0YXdhaXQgdGhpcy5Mb2FkQ2hhcmFjdGVyRWRpdG9yVUkoc252LCBtYWluRGl2KTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgTG9hZENoYXJhY3RlckVkaXRvclVJKHNudjogU291cmNlQW5kVmF1bHQsIGRpdjogSFRNTERpdkVsZW1lbnQpIHtcblx0XHRjb25zdCBjaGFyRWRpdG9yRGl2ID0gZGl2LmNyZWF0ZURpdigndmJveCcpO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGFyYWN0ZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBjdXJyZW50SW5kZXggPSBpO1xuXHRcdFx0Y29uc3QgY2hhckRpdiA9IGNoYXJFZGl0b3JEaXYuY3JlYXRlRGl2KCd2Ym94Jyk7XG5cblx0XHRcdGNoYXJEaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdOYW1lOiAnIH0gKTtcblx0XHRcdGNvbnN0IG5hbWVJbnB1dCA9IGNoYXJEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLmNoYXJhY3RlcnNbaV0ubmFtZSB9ICk7XG5cdFx0XHRuYW1lSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdHRoaXMuY2hhcmFjdGVyc1tjdXJyZW50SW5kZXhdLm5hbWUgPSBuYW1lSW5wdXQudmFsdWU7XG5cdFx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xuXHRcdFx0XHRhd2FpdCB0aGlzLkxvYWRTdG9yeVVJKHNudiwgZGl2KTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IHBob3RvTmFtZSA9IG5ldyBQaG90b0xpbmUodGhpcy5jaGFyYWN0ZXJzW2ldLm5hbWUpO1xuXHRcdFx0cGhvdG9OYW1lLlNwZWFrKGNoYXJEaXYuY3JlYXRlRGl2KCksIDUwLCBbMTAwLCAyNTAsIDUwMF0sIFswLCA1MDBdLCB0cnVlKTtcblx0XHR9XG5cdFx0Y29uc3QgYWRkQ2hhckJ1dHRvbiA9IGNoYXJFZGl0b3JEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0FkZCBDaGFyYWN0ZXInIH0gKTtcblx0XHRhZGRDaGFyQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHR0aGlzLmNoYXJhY3RlcnMucHVzaChuZXcgQ2hhcmFjdGVyKCkpO1xuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XG5cdFx0XHRjaGFyRWRpdG9yRGl2LnJlbW92ZSgpO1xuXHRcdFx0YXdhaXQgdGhpcy5Mb2FkQ2hhcmFjdGVyRWRpdG9yVUkoc252LCBkaXYpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgTG9hZFBhZ2VTZWxlY3RvcihzbnY6IFNvdXJjZUFuZFZhdWx0LCBtYWluRGl2OiBIVE1MRGl2RWxlbWVudCkge1xuXHRcdGNvbnN0IGJ1dHRvbnNEaXYgPSBtYWluRGl2LmNyZWF0ZURpdignaGJveCcpO1xuXHRcdGNvbnN0IGJhY2tCdXR0b24gPSBidXR0b25zRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICctJyB9ICk7XG5cdFx0Y29uc3QgcGFnZU51bWJlcklucHV0ID0gYnV0dG9uc0Rpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6ICcnICsgKHRoaXMuY3VycmVudFBhZ2VJbmRleCArIDEpIH0gKTtcblx0XHRidXR0b25zRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnJyArICcvJyArIHRoaXMucGFnZXMubGVuZ3RoIH0gKTtcblx0XHRjb25zdCBuZXh0QnV0dG9uID0gYnV0dG9uc0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnKycgfSApO1xuXHRcdGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0RlbGV0ZSBQYWdlJyB9ICk7XG5cdFx0ZGVsZXRlQnV0dG9uLmNsYXNzTmFtZSA9ICdjZmUtcmVtb3ZlLWJ1dHRvbic7XG5cdFx0Y29uc3QgYWRkQnV0dG9uID0gYnV0dG9uc0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQWRkIFBhZ2UnIH0gKTtcblx0XHRjb25zdCBlZGl0TW9kZUJ1dHRvbiA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0VkaXQgTW9kZScgfSApO1xuXHRcdGNvbnN0IHZpZXdNb2RlQnV0dG9uID0gYnV0dG9uc0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnVmlldyBNb2RlJyB9ICk7XG5cdFx0Y29uc3QgaG9tZUJ1dHRvbiA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1JldHVybiB0byBTdG9yeScgfSApO1xuXHRcdGhvbWVCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdGF3YWl0IHRoaXMuTG9hZFN0b3J5VUkoc252LCBtYWluRGl2KTtcblx0XHR9XG5cdFx0ZWRpdE1vZGVCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdGF3YWl0IHRoaXMuTG9hZEN1cnJlbnRQYWdlRWRpdChzbnYsIG1haW5EaXYpO1xuXHRcdH1cblx0XHR2aWV3TW9kZUJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0YXdhaXQgdGhpcy5Mb2FkQ3VycmVudFBhZ2VEaXNwbGF5T25seShzbnYsIG1haW5EaXYpO1xuXHRcdH1cblx0XHRiYWNrQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAodGhpcy5jdXJyZW50UGFnZUluZGV4ID4gMCkge1xuXHRcdFx0XHR0aGlzLmN1cnJlbnRQYWdlSW5kZXgtLTtcblx0XHRcdFx0YXdhaXQgdGhpcy5Mb2FkQ3VycmVudFBhZ2VFZGl0KHNudiwgbWFpbkRpdik7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdG5leHRCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdGlmICh0aGlzLmN1cnJlbnRQYWdlSW5kZXggPCB0aGlzLnBhZ2VzLmxlbmd0aCkge1xuXHRcdFx0XHR0aGlzLmN1cnJlbnRQYWdlSW5kZXgrKztcblx0XHRcdFx0YXdhaXQgdGhpcy5Mb2FkQ3VycmVudFBhZ2VFZGl0KHNudiwgbWFpbkRpdik7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHBhZ2VOdW1iZXJJbnB1dC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdHRoaXMuY3VycmVudFBhZ2VJbmRleCA9IHBhcnNlSW50KHBhZ2VOdW1iZXJJbnB1dC52YWx1ZSkgLSAxO1xuXHRcdFx0YXdhaXQgdGhpcy5Mb2FkQ3VycmVudFBhZ2VFZGl0KHNudiwgbWFpbkRpdik7XG5cdFx0fVxuXHRcdGRlbGV0ZUJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0dGhpcy5wYWdlcy5zcGxpY2UodGhpcy5jdXJyZW50UGFnZUluZGV4LCAxKTtcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xuXHRcdFx0aWYgKHRoaXMuY3VycmVudFBhZ2VJbmRleCAhPT0gMCkge1xuXHRcdFx0XHR0aGlzLmN1cnJlbnRQYWdlSW5kZXgtLTtcblx0XHRcdH1cblx0XHRcdGF3YWl0IHRoaXMuTG9hZEN1cnJlbnRQYWdlRWRpdChzbnYsbWFpbkRpdik7XG5cdFx0fVxuXHRcdGFkZEJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0Y29uc3QgZGVmYXVsdFBhZ2UgPSBuZXcgUGFnZSgpO1xuXHRcdFx0Y29uc3QgdGhpc1BhZ2VGaWxlSUQgPSB0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF0ubWVkaWFGaWxlSUQ7XG5cdFx0XHRpZiAodGhpc1BhZ2VGaWxlSUQgIT09IC0xICYmIHRoaXNQYWdlRmlsZUlEIDwgc252LnNvdXJjZUZvbGRlci5maWxlQ291bnQpIHtcblx0XHRcdFx0ZGVmYXVsdFBhZ2UubWVkaWFGaWxlSUQgPSB0aGlzUGFnZUZpbGVJRDtcblx0XHRcdH1cblx0XHRcdHRoaXMucGFnZXMuc3BsaWNlKHRoaXMuY3VycmVudFBhZ2VJbmRleCArIDEsIDAsIGRlZmF1bHRQYWdlKTtcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xuXHRcdFx0dGhpcy5jdXJyZW50UGFnZUluZGV4Kys7XG5cdFx0XHRhd2FpdCB0aGlzLkxvYWRDdXJyZW50UGFnZUVkaXQoc252LG1haW5EaXYpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgTG9hZEN1cnJlbnRQYWdlRWRpdChzbnY6IFNvdXJjZUFuZFZhdWx0LCBtYWluRGl2OiBIVE1MRGl2RWxlbWVudCkge1xuXHRcdG1haW5EaXYuZW1wdHkoKTtcblx0XHR0aGlzLkxvYWRQYWdlU2VsZWN0b3Ioc252LCBtYWluRGl2KTtcblxuXHRcdG1haW5EaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdNZWRpYSBGaWxlIElEOicgfSApO1xuXHRcdGNvbnN0IG1lZGlhRmlsZUlESW5wdXQgPSBtYWluRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnIH0gKTtcblx0XHRcblx0XHRjb25zdCBwYW5lbERpdiA9IG1haW5EaXYuY3JlYXRlRGl2KCdoYm94Jyk7XG5cdFx0Y29uc3Qgb3V0ZXJNZWRpYURpdiA9IHBhbmVsRGl2LmNyZWF0ZURpdigndmJveCcpO1xuXHRcdGNvbnN0IGxpbmVzRGl2ID0gcGFuZWxEaXYuY3JlYXRlRGl2KCd2Ym94Jyk7XG5cdFx0Y29uc3QgbWVkaWFXaWR0aElucHV0ID0gb3V0ZXJNZWRpYURpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JyB9ICk7XG5cdFx0bWVkaWFXaWR0aElucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0b3V0ZXJNZWRpYURpdi5zdHlsZS53aWR0aCA9IG1lZGlhV2lkdGhJbnB1dC52YWx1ZSArICclJztcblx0XHRcdGxpbmVzRGl2LnN0eWxlLndpZHRoID0gMTAwIC0gcGFyc2VJbnQobWVkaWFXaWR0aElucHV0LnZhbHVlKSArICclJztcblx0XHRcdHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XS5tZWRpYVNpemVQZXJjZW50YWdlID0gcGFyc2VJbnQobWVkaWFXaWR0aElucHV0LnZhbHVlKTtcblx0XHRcdGF3YWl0IHRoaXMuU2F2ZShzbnYpO1xuXHRcdH1cblx0XHRvdXRlck1lZGlhRGl2LnN0eWxlLndpZHRoID0gJzUwJSc7XG5cdFx0Y29uc3QgbWVkaWFEaXYgPSBvdXRlck1lZGlhRGl2LmNyZWF0ZURpdigndmJveCcpO1xuXHRcdG1lZGlhRGl2LnN0eWxlLm9iamVjdEZpdCA9ICdjb250YWluJztcblx0XHRsaW5lc0Rpdi5zdHlsZS53aWR0aCA9ICc1MCUnO1xuXHRcdGxpbmVzRGl2LnN0eWxlLm1heEhlaWdodCA9ICc4MHZoJztcblx0XHRsaW5lc0Rpdi5zdHlsZS5wb3NpdGlvbiA9ICdzdGlja3knO1xuXHRcdGxpbmVzRGl2LnN0eWxlLnRvcCA9ICcwJSc7XG5cblx0XHRpZiAodGhpcy5jdXJyZW50UGFnZUluZGV4IDwgdGhpcy5wYWdlcy5sZW5ndGgpIHtcblx0XHRcdGNvbnN0IGN1cnJlbnRQYWdlID0gdGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdO1xuXHRcdFx0Y29uc3QgbWVkaWFGaWxlSUQgPSBjdXJyZW50UGFnZS5tZWRpYUZpbGVJRDtcblx0XHRcdG1lZGlhRmlsZUlESW5wdXQudmFsdWUgPSAnJyArIGN1cnJlbnRQYWdlLm1lZGlhRmlsZUlEO1xuXHRcdFx0aWYgKG1lZGlhRmlsZUlEID4gMCkge1xuXHRcdFx0XHRjb25zdCBtZWRpYUZpbGUgPSA8U2luZ2xlTWVkaWFGaWxlPiBhd2FpdCBDRkVGaWxlSGFuZGxlci5Mb2FkRmlsZShzbnYsIG1lZGlhRmlsZUlEKTtcblx0XHRcdFx0YXdhaXQgbWVkaWFGaWxlLkRpc3BsYXlNZWRpYU9ubHkobWVkaWFEaXYsIHNudik7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLm1lZGlhU2l6ZVBlcmNlbnRhZ2UpIHtcblx0XHRcdFx0bWVkaWFXaWR0aElucHV0LnZhbHVlID0gJycgKyB0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF0ubWVkaWFTaXplUGVyY2VudGFnZTtcblx0XHRcdFx0b3V0ZXJNZWRpYURpdi5zdHlsZS53aWR0aCA9IG1lZGlhV2lkdGhJbnB1dC52YWx1ZSArICclJztcblx0XHRcdFx0bGluZXNEaXYuc3R5bGUud2lkdGggPSAxMDAgLSBwYXJzZUludChtZWRpYVdpZHRoSW5wdXQudmFsdWUpICsgJyUnO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bWVkaWFXaWR0aElucHV0LnZhbHVlID0gJzUwJztcblx0XHRcdFx0dGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLm1lZGlhU2l6ZVBlcmNlbnRhZ2UgPSA1MDtcblx0XHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IGRlZmF1bHRQYWdlID0gbmV3IFBhZ2UoKTtcblx0XHRcdGNvbnN0IGxhc3RQYWdlID0gdGhpcy5jdXJyZW50UGFnZUluZGV4IC0gMTtcblx0XHRcdGlmIChsYXN0UGFnZSA+PSAwICYmIHRoaXMuY3VycmVudFBhZ2VJbmRleCAhPT0gMCkge1xuXHRcdFx0XHRjb25zdCBsYXN0UGFnZUZpbGVJRCA9IHRoaXMucGFnZXNbbGFzdFBhZ2VdLm1lZGlhRmlsZUlEO1xuXHRcdFx0XHRjb25zdCBsYXN0UGFnZVNpemUgPSB0aGlzLnBhZ2VzW2xhc3RQYWdlXS5tZWRpYVNpemVQZXJjZW50YWdlO1xuXHRcdFx0XHRkZWZhdWx0UGFnZS5tZWRpYVNpemVQZXJjZW50YWdlID0gbGFzdFBhZ2VTaXplO1xuXHRcdFx0XHRtZWRpYVdpZHRoSW5wdXQudmFsdWUgPSAnJyArIGxhc3RQYWdlU2l6ZTtcblx0XHRcdFx0b3V0ZXJNZWRpYURpdi5zdHlsZS53aWR0aCA9IG1lZGlhV2lkdGhJbnB1dC52YWx1ZSArICclJztcblx0XHRcdFx0bGluZXNEaXYuc3R5bGUud2lkdGggPSAxMDAgLSBwYXJzZUludChtZWRpYVdpZHRoSW5wdXQudmFsdWUpICsgJyUnO1xuXHRcdFx0XHRpZiAobGFzdFBhZ2VGaWxlSUQgIT09IC0xICYmIGxhc3RQYWdlRmlsZUlEIDwgc252LnNvdXJjZUZvbGRlci5maWxlQ291bnQpIHtcblx0XHRcdFx0XHRjb25zdCBtZWRpYUZpbGVJRCA9IGxhc3RQYWdlRmlsZUlEICsgMTtcblx0XHRcdFx0XHRkZWZhdWx0UGFnZS5tZWRpYUZpbGVJRCA9IG1lZGlhRmlsZUlEO1xuXHRcdFx0XHRcdG1lZGlhRmlsZUlESW5wdXQudmFsdWUgPSAnJyArIG1lZGlhRmlsZUlEO1xuXHRcdFx0XHRcdGlmIChtZWRpYUZpbGVJRCA+IDApIHtcblx0XHRcdFx0XHRcdGNvbnN0IG1lZGlhRmlsZSA9IDxTaW5nbGVNZWRpYUZpbGU+IGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNudiwgbWVkaWFGaWxlSUQpO1xuXHRcdFx0XHRcdFx0YXdhaXQgbWVkaWFGaWxlLkRpc3BsYXlNZWRpYU9ubHkobWVkaWFEaXYsIHNudik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnBhZ2VzLnB1c2goZGVmYXVsdFBhZ2UpO1xuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XG5cdFx0fVxuXHRcdGF3YWl0IHRoaXMuTG9hZERpYWxvZ3VlTGluZXNFZGl0KHNudiwgbGluZXNEaXYsIG1haW5EaXYpO1xuXHRcdG1lZGlhRmlsZUlESW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRjb25zdCBjdXJyZW50UGFnZSA9IHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XTtcblx0XHRcdGN1cnJlbnRQYWdlLm1lZGlhRmlsZUlEID0gcGFyc2VJbnQobWVkaWFGaWxlSURJbnB1dC52YWx1ZSk7XG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdGNvbnN0IG1lZGlhRmlsZSA9IDxTaW5nbGVNZWRpYUZpbGU+IGF3YWl0IENGRUZpbGVIYW5kbGVyLkxvYWRGaWxlKHNudiwgY3VycmVudFBhZ2UubWVkaWFGaWxlSUQpO1xuXHRcdFx0YXdhaXQgbWVkaWFGaWxlLkRpc3BsYXlNZWRpYU9ubHkobWVkaWFEaXYsIHNudik7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBMb2FkQ3VycmVudFBhZ2VEaXNwbGF5T25seShzbnY6IFNvdXJjZUFuZFZhdWx0LCBtYWluRGl2OiBIVE1MRGl2RWxlbWVudCkge1xuXHRcdG1haW5EaXYuZW1wdHkoKTtcblxuXHRcdHRoaXMuTG9hZFBhZ2VTZWxlY3RvcihzbnYsIG1haW5EaXYpO1xuXHRcdFxuXHRcdGNvbnN0IHBhbmVsRGl2ID0gbWFpbkRpdi5jcmVhdGVEaXYoJ2hib3gnKTtcblx0XHRjb25zdCBvdXRlck1lZGlhRGl2ID0gcGFuZWxEaXYuY3JlYXRlRGl2KCd2Ym94Jyk7XG5cdFx0Y29uc3QgbGluZXNEaXYgPSBwYW5lbERpdi5jcmVhdGVEaXYoJ3Zib3gnKTtcblxuXHRcdG91dGVyTWVkaWFEaXYuc3R5bGUud2lkdGggPSAnNTAlJztcblx0XHRjb25zdCBtZWRpYURpdiA9IG91dGVyTWVkaWFEaXYuY3JlYXRlRGl2KCd2Ym94Jyk7XG5cdFx0bWVkaWFEaXYuc3R5bGUub2JqZWN0Rml0ID0gJ2NvbnRhaW4nO1xuXHRcdGxpbmVzRGl2LnN0eWxlLndpZHRoID0gJzUwJSc7XG5cdFx0bGluZXNEaXYuc3R5bGUubWF4SGVpZ2h0ID0gJzgwdmgnO1xuXHRcdGxpbmVzRGl2LnN0eWxlLnBvc2l0aW9uID0gJ3N0aWNreSc7XG5cdFx0bGluZXNEaXYuc3R5bGUudG9wID0gJzAlJztcblxuXHRcdGNvbnN0IGN1cnJlbnRQYWdlID0gdGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdO1xuXHRcdGNvbnN0IG1lZGlhRmlsZUlEID0gY3VycmVudFBhZ2UubWVkaWFGaWxlSUQ7XG5cdFx0aWYgKG1lZGlhRmlsZUlEID4gMCkge1xuXHRcdFx0Y29uc3QgbWVkaWFGaWxlID0gPFNpbmdsZU1lZGlhRmlsZT4gYXdhaXQgQ0ZFRmlsZUhhbmRsZXIuTG9hZEZpbGUoc252LCBtZWRpYUZpbGVJRCk7XG5cdFx0XHRhd2FpdCBtZWRpYUZpbGUuRGlzcGxheU1lZGlhT25seShtZWRpYURpdiwgc252KTtcblx0XHR9XG5cdFx0aWYgKHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XS5tZWRpYVNpemVQZXJjZW50YWdlKSB7XG5cdFx0XHRjb25zdCB3aWR0aCA9IHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XS5tZWRpYVNpemVQZXJjZW50YWdlO1xuXHRcdFx0b3V0ZXJNZWRpYURpdi5zdHlsZS53aWR0aCA9IHdpZHRoICsgJyUnO1xuXHRcdFx0bGluZXNEaXYuc3R5bGUud2lkdGggPSAxMDAgLSB3aWR0aCArICclJztcblx0XHR9XG5cdFx0YXdhaXQgdGhpcy5Mb2FkRGlhbG9ndWVMaW5lc0Rpc3BsYXlPbmx5KHNudiwgbGluZXNEaXYsIG1haW5EaXYpO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBMb2FkRGlhbG9ndWVMaW5lc0VkaXQoc252OiBTb3VyY2VBbmRWYXVsdCwgbGluZXNEaXY6IEhUTUxEaXZFbGVtZW50LCBtYWluRGl2OiBIVE1MRGl2RWxlbWVudCkge1xuXHRcdGNvbnN0IGV4aXN0aW5nTGluZXNEaXYgPSBsaW5lc0Rpdi5jcmVhdGVEaXYoJ3Zib3gnKTtcblx0XHRleGlzdGluZ0xpbmVzRGl2LnN0eWxlLm92ZXJmbG93WSA9ICdzY3JvbGwnO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLmxpbmVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBjdXJyZW50SW5kZXggPSBpO1xuXHRcdFx0Y29uc3QgY3VycmVudExpbmUgPSB0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF0ubGluZXNbaV07XG5cdFx0XHRjb25zdCBsaW5lRGl2ID0gZXhpc3RpbmdMaW5lc0Rpdi5jcmVhdGVEaXYoJ2hib3gnKTtcblxuXHRcdFx0Y29uc3QgZGVsZXRlQnV0dG9uID0gbGluZURpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnLScgfSApO1xuXHRcdFx0ZGVsZXRlQnV0dG9uLmNsYXNzTmFtZSA9ICdjZmUtcmVtb3ZlLWJ1dHRvbic7XG5cdFx0XHRkZWxldGVCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0dGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLmxpbmVzLnNwbGljZShjdXJyZW50SW5kZXgsIDEpO1xuXHRcdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdFx0YXdhaXQgdGhpcy5Mb2FkRGlhbG9ndWVMaW5lc0VkaXQoc252LCBsaW5lc0RpdiwgbWFpbkRpdik7XG5cdFx0XHR9XG5cblx0XHRcdGxpbmVEaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICcnICsgIGN1cnJlbnRJbmRleCB9ICk7XG5cdFx0XHRjb25zdCBwbGF5QnV0dG9uID0gbGluZURpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnXHUyNUI3JyB9ICk7XG5cblx0XHRcdGNvbnN0IGNoYXJEcm9wZG93bkJ1dHRvbiA9IGxpbmVEaXYuY3JlYXRlRGl2KCk7XG5cdFx0XHRjb25zdCBjaGFyRHJvcGRvd25EaXYgPSBjaGFyRHJvcGRvd25CdXR0b24uY3JlYXRlRGl2KCk7XG5cdFx0XHRjaGFyRHJvcGRvd25EaXYuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuXHRcdFx0Y2hhckRyb3Bkb3duQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHRcdGNoYXJEcm9wZG93bkRpdi5lbXB0eSgpO1xuXHRcdFx0XHRjb25zdCBzZWxlY3REaXYgPSBjaGFyRHJvcGRvd25EaXYuY3JlYXRlRGl2KCdoYm94Jyk7XG5cdFx0XHRcdHNlbGVjdERpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG5cdFx0XHRcdHNlbGVjdERpdi5zdHlsZS50b3AgPSAnMCUnO1xuXHRcdFx0XHRzZWxlY3REaXYuc3R5bGUubGVmdCA9ICcwJSc7XG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGFyYWN0ZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0Y29uc3QgY3VycmVudENoYXJJbmRleCA9IGk7XG5cdFx0XHRcdFx0Y29uc3QgY3VycmVudENoYXIgPSB0aGlzLmNoYXJhY3RlcnNbY3VycmVudENoYXJJbmRleF07XG5cdFx0XHRcdFx0Y29uc3QgY3VycmVudE9wdGlvbiA9IHNlbGVjdERpdi5jcmVhdGVFbCgnZGl2Jyk7XG5cdFx0XHRcdFx0Y29uc3QgcGhvdG9OYW1lID0gbmV3IFBob3RvTGluZShjdXJyZW50Q2hhci5uYW1lKTtcblx0XHRcdFx0XHRwaG90b05hbWUuU3BlYWsoY3VycmVudE9wdGlvbiwgMTAsIFsxMDAsIDI1MCwgNTAwXSwgWzAsIDUwMF0sIHRydWUpO1xuXHRcdFx0XHRcdGN1cnJlbnRPcHRpb24uc3R5bGUuekluZGV4ID0gJzInO1xuXHRcdFx0XHRcdGN1cnJlbnRPcHRpb24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZUluZGV4XS5saW5lc1tjdXJyZW50SW5kZXhdLnNwZWFrZXJJbmRleCA9IGN1cnJlbnRDaGFySW5kZXg7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdFx0XHRcdGxpbmVzRGl2LmVtcHR5KCk7XG5cdFx0XHRcdFx0XHR0aGlzLkxvYWREaWFsb2d1ZUxpbmVzRWRpdChzbnYsIGxpbmVzRGl2LCBtYWluRGl2KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgcGhvdG9OYW1lID0gbmV3IFBob3RvTGluZSh0aGlzLmNoYXJhY3RlcnNbY3VycmVudExpbmUuc3BlYWtlckluZGV4XS5uYW1lKTtcblx0XHRcdHBob3RvTmFtZS5TcGVhayhjaGFyRHJvcGRvd25EaXYsIDEwLCBbMTAwLCAyNTAsIDUwMF0sIFswLCA1MDBdLCB0cnVlKTtcblxuXHRcdFx0Y29uc3QgbGluZUlucHV0ID0gbGluZURpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6IGN1cnJlbnRMaW5lLmNvbnRlbnQgfSApO1xuXHRcdFx0bGluZUlucHV0LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXHRcdFx0bGluZUlucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRjdXJyZW50TGluZS5jb250ZW50ID0gbGluZUlucHV0LnZhbHVlO1xuXHRcdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdH1cblxuXHRcdFx0cGxheUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBwb3B1cCA9IG1haW5EaXYuY3JlYXRlRGl2KCk7XG5cdFx0XHRcdHBvcHVwLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcblx0XHRcdFx0cG9wdXAuc3R5bGUudG9wID0gJzBweCc7XG5cdFx0XHRcdHBvcHVwLnN0eWxlLmxlZnQgPSAnMHB4Jztcblx0XHRcdFx0Y29uc3QgcGhvdG9saW5lID0gbmV3IFBob3RvTGluZShsaW5lSW5wdXQudmFsdWUpO1xuXHRcdFx0XHRwaG90b2xpbmUuU3BlYWsocG9wdXAsIDIwMCwgWzEwMCwgMjUwLCA1MDBdLCBbMCwgNTAwXSwgZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjb25zdCBhZGRCdXR0b24gPSBleGlzdGluZ0xpbmVzRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICcrJyB9ICk7XG5cdFx0YWRkQnV0dG9uLnN0eWxlLndpZHRoID0gJzEwcHgnO1xuXHRcdGFkZEJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0dGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLmxpbmVzLnB1c2gobmV3IERpYWxvZ3VlTGluZSgwKSk7XG5cdFx0XHRhd2FpdCB0aGlzLlNhdmUoc252KTtcblx0XHRcdGF3YWl0IHRoaXMuTG9hZERpYWxvZ3VlTGluZXNFZGl0KHNudiwgbGluZXNEaXYsIG1haW5EaXYpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgTG9hZERpYWxvZ3VlTGluZXNEaXNwbGF5T25seShzbnY6IFNvdXJjZUFuZFZhdWx0LCBsaW5lc0RpdjogSFRNTERpdkVsZW1lbnQsIG1haW5EaXY6IEhUTUxEaXZFbGVtZW50KSB7XG5cdFx0Y29uc3QgZXhpc3RpbmdMaW5lc0RpdiA9IGxpbmVzRGl2LmNyZWF0ZURpdigndmJveCcpO1xuXHRcdGV4aXN0aW5nTGluZXNEaXYuc3R5bGUub3ZlcmZsb3dZID0gJ3Njcm9sbCc7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2VJbmRleF0ubGluZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGN1cnJlbnRMaW5lID0gdGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlSW5kZXhdLmxpbmVzW2ldO1xuXG5cdFx0XHRjb25zdCBwbGF5QnV0dG9uID0gZXhpc3RpbmdMaW5lc0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnXHUyNUI3JyB9ICk7XG5cdFx0XHRcblx0XHRcdGNvbnN0IG5hbWVEaXYgPSBleGlzdGluZ0xpbmVzRGl2LmNyZWF0ZURpdignaGJveCcpO1xuXHRcdFx0Y29uc3QgbGluZURpdiA9IGV4aXN0aW5nTGluZXNEaXYuY3JlYXRlRGl2KCdoYm94Jyk7XG5cblx0XHRcdGNvbnN0IHBob3RvTmFtZSA9IG5ldyBQaG90b0xpbmUodGhpcy5jaGFyYWN0ZXJzW2N1cnJlbnRMaW5lLnNwZWFrZXJJbmRleF0ubmFtZSk7XG5cdFx0XHRwaG90b05hbWUuU3BlYWsobmFtZURpdiwgMTAsIFsxMDAsIDI1MCwgNTAwXSwgWzAsIDUwMF0sIHRydWUpO1xuXHRcdFx0XG5cdFx0XHRjb25zdCBwaG90b0xpbmUgPSBuZXcgUGhvdG9MaW5lKGN1cnJlbnRMaW5lLmNvbnRlbnQpO1xuXHRcdFx0cGhvdG9MaW5lLkRpc3BsYXlTdGF0aWMobGluZURpdiwgMTApO1xuXHRcdFx0XG5cdFx0XHRwbGF5QnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IHBvcHVwID0gbWFpbkRpdi5jcmVhdGVEaXYoKTtcblx0XHRcdFx0cG9wdXAuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXHRcdFx0XHRwb3B1cC5zdHlsZS50b3AgPSAnMHB4Jztcblx0XHRcdFx0cG9wdXAuc3R5bGUubGVmdCA9ICcwcHgnO1xuXHRcdFx0XHRwaG90b0xpbmUuU3BlYWsocG9wdXAsIDIwMCwgWzEwMCwgMjUwLCA1MDBdLCBbMCwgNTAwXSwgZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG59XG5cbmNsYXNzIFBhZ2Uge1xuXHRtZWRpYUZpbGVJRDogbnVtYmVyO1xuXHRsaW5lczogRGlhbG9ndWVMaW5lW107XG5cdG1lZGlhU2l6ZVBlcmNlbnRhZ2U6IG51bWJlcjtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5tZWRpYUZpbGVJRCA9IC0xO1xuXHRcdHRoaXMubGluZXMgPSBbXTtcblx0XHR0aGlzLm1lZGlhU2l6ZVBlcmNlbnRhZ2UgPSA1MDtcblx0fVxufVxuXG5jbGFzcyBEaWFsb2d1ZUxpbmUge1xuXHRzcGVha2VySW5kZXg6IG51bWJlcjtcblx0Y29udGVudDogc3RyaW5nO1xuXHRjb25zdHJ1Y3RvcihzcGVha2VySW5kZXg6IG51bWJlcikge1xuXHRcdHRoaXMuc3BlYWtlckluZGV4ID0gc3BlYWtlckluZGV4O1xuXHRcdHRoaXMuY29udGVudCA9ICcnO1xuXHR9XG59XG5cbmNsYXNzIENoYXJhY3RlciB7XG5cdG5hbWU6IHN0cmluZztcblx0Y29uc3RydWN0b3IobmFtZSA9ICcnKSB7XG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcblx0fVxufVxuIiwgImV4cG9ydCBjbGFzcyBId2F5dSB7XG5cdHN0YXRpYyBEaXNwbGF5KGRpdjogSFRNTERpdkVsZW1lbnQsIHRleHQgPSAnJywgZm9udFNpemUgPSAxNy41LCBpc1ZlcnRpY2FsID0gdHJ1ZSkge1xuXHRcdGNvbnN0IHRleHRFbGVtZW50ID0gZGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiB0ZXh0IH0gKTtcblx0XHR0ZXh0RWxlbWVudC5zdHlsZS5mb250RmFtaWx5ID0gaXNWZXJ0aWNhbCA/ICdId2F5dVJlYWwnIDogJ0h3YXl1SG9yaXpvbnRhbCc7XG5cdFx0dGV4dEVsZW1lbnQuc3R5bGUuZm9udFNpemUgPSBmb250U2l6ZSArICdweCc7XG5cdFx0aWYgKGlzVmVydGljYWwpIHtcblx0XHRcdHRleHRFbGVtZW50LnN0eWxlLndyaXRpbmdNb2RlID0gJ3ZlcnRpY2FsLWxyJztcblx0XHRcdHRleHRFbGVtZW50LnN0eWxlLnRleHRPcmllbnRhdGlvbiA9ICd1cHJpZ2h0Jztcblx0XHR9XG5cdH1cblx0c3RhdGljIERpc3BsYXlFZGl0b3IoZGl2OiBIVE1MRGl2RWxlbWVudCwgZXhpc3RpbmdUZXh0ID0gJycsIGZvbnRTaXplID0gMTcuNSwgaXNWZXJ0aWNhbCA9IHRydWUpOiBIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFRleHRBcmVhRWxlbWVudCB7XG5cdFx0Y29uc3QgdGV4dEFyZWEgPSBkaXYuY3JlYXRlRWwoJ3RleHRhcmVhJywgeyB2YWx1ZTogZXhpc3RpbmdUZXh0IH0gKTtcblx0XHR0ZXh0QXJlYS5zdHlsZS5mb250RmFtaWx5ID0gaXNWZXJ0aWNhbCA/ICdId2F5dVJlYWwnIDogJ0h3YXl1SG9yaXpvbnRhbCc7XG5cdFx0dGV4dEFyZWEuc3R5bGUuZm9udFNpemUgPSBmb250U2l6ZSArICdweCc7XG5cdFx0aWYgKGlzVmVydGljYWwpIHtcblx0XHRcdHRleHRBcmVhLnN0eWxlLndyaXRpbmdNb2RlID0gJ3ZlcnRpY2FsLWxyJztcblx0XHRcdHRleHRBcmVhLnN0eWxlLnRleHRPcmllbnRhdGlvbiA9ICd1cHJpZ2h0Jztcblx0XHR9XG5cdFx0cmV0dXJuIHRleHRBcmVhO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgQ0ZFRmlsZSB9IGZyb20gXCIuL2NmZS1maWxlXCI7XG5pbXBvcnQgeyBId2F5dSB9IGZyb20gXCIuL2NvbmxhbmdzL2h3YXl1LXRleHRcIjtcbmltcG9ydCB7IFBob3RvTGFuZyB9IGZyb20gXCIuL2NvbmxhbmdzL3Bob3RvbGFuZy10ZXh0XCI7XG5pbXBvcnQgeyBGaWxlQ3JlYXRpb25EYXRhIH0gZnJvbSBcIi4vZmlsZS1jcmVhdGlvbi1kYXRhXCI7XG5pbXBvcnQgeyBTb3VyY2VBbmRWYXVsdCB9IGZyb20gXCIuL3NudlwiO1xuXG5leHBvcnQgY2xhc3MgQ29ubGFuZ0RpY3Rpb25hcnkgZXh0ZW5kcyBDRkVGaWxlIHtcblxuXHRsYW5ndWFnZTogc3RyaW5nO1xuXHRjb25sYW5nV29yZHM6IHN0cmluZ1tdO1xuXHRkZWZpbml0aW9uczogc3RyaW5nW107XG5cblx0c3RhdGljIG92ZXJyaWRlIGFzeW5jIENyZWF0ZU5ld0ZpbGVGb3JMYXllcihkYXRhOiBGaWxlQ3JlYXRpb25EYXRhKTogUHJvbWlzZTxDb25sYW5nRGljdGlvbmFyeT4ge1xuXHRcdGNvbnN0IHVuZmluaXNoZWREaWN0aW9uYXJ5ID0gPENvbmxhbmdEaWN0aW9uYXJ5PiBhd2FpdCBzdXBlci5DcmVhdGVOZXdGaWxlRm9yTGF5ZXIoZGF0YSk7XG5cdFx0dW5maW5pc2hlZERpY3Rpb25hcnkubGFuZ3VhZ2UgPSAnSHdheXUnO1xuXHRcdHVuZmluaXNoZWREaWN0aW9uYXJ5LmNvbmxhbmdXb3JkcyA9IFtdO1xuXHRcdHVuZmluaXNoZWREaWN0aW9uYXJ5LmRlZmluaXRpb25zID0gW107XG5cdFx0cmV0dXJuIHVuZmluaXNoZWREaWN0aW9uYXJ5O1xuXHR9XG5cblx0b3ZlcnJpZGUgYXN5bmMgRGlzcGxheShzbnY6IFNvdXJjZUFuZFZhdWx0LCBtYWluRGl2OiBIVE1MRGl2RWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGF3YWl0IHN1cGVyLkRpc3BsYXkoc252LCBtYWluRGl2KTtcblxuXHRcdGNvbnN0IGxhbmd1YWdlRHJvcGRvd24gPSBtYWluRGl2LmNyZWF0ZUVsKCdzZWxlY3QnKTtcblx0XHRsYW5ndWFnZURyb3Bkb3duLmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6ICdId2F5dScsIHZhbHVlOiAnSHdheXUnIH0gKTtcblx0XHRsYW5ndWFnZURyb3Bkb3duLmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6ICdQaG90b2xhbmcnLCB2YWx1ZTogJ1Bob3RvbGFuZycgfSApO1xuXHRcdGxhbmd1YWdlRHJvcGRvd24udmFsdWUgPSB0aGlzLmxhbmd1YWdlO1xuXG5cdFx0Y29uc3QgYWRkV29yZERpdiA9IG1haW5EaXYuY3JlYXRlRGl2KCd2Ym94Jyk7XG5cdFx0YXdhaXQgdGhpcy5EaXNwbGF5V29yZChzbnYsIG1haW5EaXYsIGFkZFdvcmREaXYpO1xuXG5cdFx0bGFuZ3VhZ2VEcm9wZG93bi5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdHRoaXMubGFuZ3VhZ2UgPSBsYW5ndWFnZURyb3Bkb3duLnZhbHVlO1xuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XG5cdFx0XHRhd2FpdCB0aGlzLkRpc3BsYXkoc252LCBtYWluRGl2KTtcblx0XHR9XG5cblx0XHRjb25zdCBzaWRlcyA9IG1haW5EaXYuY3JlYXRlRGl2KCdoYm94Jyk7XG5cblx0XHRjb25zdCBjb25sYW5nU2lkZSA9IHNpZGVzLmNyZWF0ZURpdigndmJveCcpO1xuXHRcdGNvbnN0IGRlZmluaXRpb25TaWRlID0gc2lkZXMuY3JlYXRlRGl2KCd2Ym94Jyk7XG5cdFx0Y29ubGFuZ1NpZGUuc3R5bGUud2lkdGggPSAnNTAlJztcblx0XHRkZWZpbml0aW9uU2lkZS5zdHlsZS53aWR0aCA9ICc1MCUnO1xuXHRcdGNvbmxhbmdTaWRlLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiB0aGlzLmxhbmd1YWdlIH0gKTtcblx0XHRkZWZpbml0aW9uU2lkZS5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0VuZ2xpc2gnIH0gKTtcblxuXHRcdGF3YWl0IHRoaXMuRGlzcGxheVNpZGUoc252LCBtYWluRGl2LCB0aGlzLmNvbmxhbmdXb3JkcywgY29ubGFuZ1NpZGUpO1xuXHRcdGF3YWl0IHRoaXMuRGlzcGxheVNpZGUoc252LCBtYWluRGl2LCB0aGlzLmRlZmluaXRpb25zLCBkZWZpbml0aW9uU2lkZSk7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIERpc3BsYXlXb3JkKHNudjogU291cmNlQW5kVmF1bHQsIG1haW5EaXY6IEhUTUxEaXZFbGVtZW50LCBkaXY6IEhUTUxEaXZFbGVtZW50LCBpbmRleCA9IC0xKSB7XG5cdFx0ZGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnV29yZCBpbiAnICsgdGhpcy5sYW5ndWFnZSB9ICk7XG5cdFx0bGV0IG5ld1dvcmRJbnB1dDtcblx0XHRjb25zdCBpc05ld1dvcmQgPSBpbmRleCA9PT0gLTE7XG5cdFx0Y29uc3QgY29ubGFuZ1dvcmQgPSBpc05ld1dvcmQgPyAnJyA6IHRoaXMuY29ubGFuZ1dvcmRzW2luZGV4XTtcblx0XHRjb25zdCBkZWZpbml0aW9uID0gaXNOZXdXb3JkID8gJycgOiB0aGlzLmRlZmluaXRpb25zW2luZGV4XTtcblx0XHRzd2l0Y2godGhpcy5sYW5ndWFnZSkge1xuXHRcdFx0Y2FzZSAnSHdheXUnOlxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0bmV3V29yZElucHV0ID0gSHdheXUuRGlzcGxheUVkaXRvcihkaXYsIGNvbmxhbmdXb3JkLCAxNy41LCBmYWxzZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnUGhvdG9sYW5nJzpcblx0XHRcdFx0bmV3V29yZElucHV0ID0gUGhvdG9MYW5nLkRpc3BsYXlFZGl0b3IoZGl2LCBkZWZpbml0aW9uLCAxNy41KTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHRcdGRpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0RlZmluaXRpb24nIH0gKTtcblx0XHRjb25zdCBkZWZpbml0aW9uSW5wdXQgPSBkaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcgfSApO1xuXHRcdGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGRpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnc3VibWl0JyB9ICk7XG5cblx0XHRzdWJtaXRCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdGlmIChpc05ld1dvcmQpIHtcblx0XHRcdFx0dGhpcy5jb25sYW5nV29yZHMucHVzaChuZXdXb3JkSW5wdXQudmFsdWUpO1xuXHRcdFx0XHR0aGlzLmRlZmluaXRpb25zLnB1c2goZGVmaW5pdGlvbklucHV0LnZhbHVlKTtcblx0XHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdHRoaXMuY29ubGFuZ1dvcmRzW2luZGV4XSA9IG5ld1dvcmRJbnB1dC52YWx1ZTtcblx0XHRcdHRoaXMuZGVmaW5pdGlvbnNbaW5kZXhdID0gZGVmaW5pdGlvbklucHV0LnZhbHVlO1xuXHRcdH1cblx0XHRpZiAoIWlzTmV3V29yZCkge1xuXHRcdFx0Y29uc3QgZGVsZXRlQnV0dG9uID0gZGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdyZW1vdmUnIH0gKTtcblx0XHRcdGRlbGV0ZUJ1dHRvbi5jbGFzc05hbWUgPSAnY2ZlLXJlbW92ZS1idXR0b24nO1xuXHRcdFx0dGhpcy5jb25sYW5nV29yZHMucmVtb3ZlKG5ld1dvcmRJbnB1dC52YWx1ZSk7XG5cdFx0XHR0aGlzLmRlZmluaXRpb25zLnJlbW92ZShkZWZpbml0aW9uSW5wdXQudmFsdWUpO1xuXHRcdFx0YXdhaXQgdGhpcy5TYXZlKHNudik7XG5cdFx0XHRhd2FpdCB0aGlzLkRpc3BsYXkoc252LCBtYWluRGl2KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIERpc3BsYXlTaWRlKHNudjogU291cmNlQW5kVmF1bHQsIG1haW5EaXY6IEhUTUxEaXZFbGVtZW50LCB3b3JkTGlzdDogc3RyaW5nW10sIGRpdjogSFRNTERpdkVsZW1lbnQpIHtcblx0XHRkaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdTZWFyY2g6JyB9ICk7XG5cdFx0Y29uc3Qgd29yZElucHV0ID0gZGl2LmNyZWF0ZUVsKCd0ZXh0YXJlYScpO1xuXHRcdGNvbnN0IHJlc3VsdHNEaXYgPSBkaXYuY3JlYXRlRGl2KCd2Ym94Jyk7XG5cblx0XHR3b3JkSW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XG5cdFx0XHRyZXN1bHRzRGl2LmVtcHR5KCk7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHdvcmRMaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmICh3b3JkTGlzdFtpXS5jb250YWlucyh3b3JkSW5wdXQudmFsdWUpKSB7XG5cdFx0XHRcdFx0dGhpcy5EaXNwbGF5V29yZChzbnYsIG1haW5EaXYsIHJlc3VsdHNEaXYuY3JlYXRlRGl2KCd2Ym94JyksIGkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cbn1cbiIsICJpbXBvcnQgeyBWYXVsdCB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBTb3VyY2VGb2xkZXIgfSBmcm9tIFwiLi9zb3VyY2UtZm9sZGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU291cmNlQW5kVmF1bHQge1xyXG5cdHNvdXJjZUZvbGRlcjogU291cmNlRm9sZGVyO1xyXG5cdHZhdWx0OiBWYXVsdDtcclxuXHRjb25zdHJ1Y3Rvcihzb3VyY2VGb2xkZXI6IFNvdXJjZUZvbGRlciwgdmF1bHQ6IFZhdWx0KSB7XHJcblx0XHR0aGlzLnNvdXJjZUZvbGRlciA9IHNvdXJjZUZvbGRlcjtcclxuXHRcdHRoaXMudmF1bHQgPSB2YXVsdDtcclxuXHR9XHJcbn1cclxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7O0FDQUEsSUFBQUEsbUJBQXdDOzs7QUNBeEMsSUFBQUMsbUJBQTZD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RDtBQUVBLElBQU0sbUJBQU4sY0FBK0Isa0NBQWlCO0FBQUEsRUFHL0MsWUFBWSxLQUFVLFFBQWE7QUFDbEMsVUFBTSxLQUFLLE1BQU07QUFDakIsU0FBSyxTQUFTO0FBQUEsRUFDZjtBQUFBLEVBRUEsVUFBZ0I7QUFDZixVQUFNLEVBQUMsWUFBVyxJQUFJO0FBRXRCLGdCQUFZLE1BQU07QUFFbEIsUUFBSSx5QkFBUSxXQUFXLEVBQ3JCLFFBQVEscUJBQXFCLEVBQzdCLFFBQVEsNkRBQTZELEVBQ3JFLFFBQVEsVUFBUSxLQUNmLGVBQWUscUJBQXFCLEVBQ3BDLFNBQVMsS0FBSyxPQUFPLFNBQVMsV0FBVyxFQUN6QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixXQUFLLE9BQU8sU0FBUyxjQUFjO0FBQ25DLFlBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxJQUNoQyxDQUFDLENBQUM7QUFBQSxFQUNMO0FBQ0Q7IiwKICAibmFtZXMiOiBbImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpIiwgIkNoYXJhY3RlciIsICJQYWdlIiwgImkiLCAicGhvdG9OYW1lIiwgIkRpYWxvZ3VlTGluZSIsICJpbXBvcnRfb2JzaWRpYW4iXQp9Cg==
